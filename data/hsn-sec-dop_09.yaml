- en: Case Study - Security and Privacy by Design
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 案例研究 - 安全与隐私设计
- en: We have discussed secure architecture and design principles, threat modeling,
    and secure coding practices. In this chapter, we will examine a case study to
    discuss the implementation of security by design and privacy by design. The case
    study will show us the common challenges a DevOps team may have to face when applying
    security practices, and how the security team may help to provide best practices,
    tools, a security framework, and a training kit.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经讨论了安全架构和设计原则、威胁建模以及安全编码实践。在本章中，我们将通过一个案例研究来讨论安全设计和隐私设计的实施。该案例研究将展示DevOps团队在应用安全实践时可能遇到的常见挑战，以及安全团队如何提供最佳实践、工具、安全框架和培训工具包来帮助解决这些挑战。
- en: The case study will begin with a security assessment by OWASP ASVS, and will
    further identify the required security improvements, such as authentication, authorization,
    session management, data input/output controls, and privacy by design. We will
    look at some of the suggested tools and open source security framework implementations.
    In addition, the third-party components will also introduce vulnerabilities and
    security risks. We will also discuss the processes and tools that are used to
    review and manage the open source frameworks and dependencies.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 案例研究将从OWASP ASVS的安全评估开始，进一步识别所需的安全改进，例如身份验证、授权、会话管理、数据输入/输出控制和隐私设计。我们将查看一些建议的工具和开源安全框架的实现。此外，第三方组件还可能引入漏洞和安全风险。我们还将讨论用于审查和管理开源框架及依赖项的流程和工具。
- en: 'We will cover the following topics in this chapter:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Secure architecture review
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全架构审查
- en: Privacy by design
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隐私设计
- en: Summary of security and privacy frameworks
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全与隐私框架总结
- en: Third-party component management
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第三方组件管理
- en: Case study background
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 案例研究背景
- en: 'Richard is the CTO of an online bookstore and manages around 500 developers.
    Richard would like to work with the security team to apply standard security practices
    during the architecture review, design review, and third-party framework review,
    and also apply secure coding. Both Richard and the security team reached the consensus
    that they should have the following in order to prepare for the next stage of
    their business development:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 理查德是一个在线书店的CTO，管理着约500名开发人员。理查德希望与安全团队合作，在架构审查、设计审查和第三方框架审查过程中应用标准的安全实践，并且还应用安全编码。理查德和安全团队达成共识，他们应该具备以下条件，以为下一阶段的业务发展做准备：
- en: Secure design checklist
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全设计检查清单
- en: Recommended secure design pattern
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 推荐的安全设计模式
- en: A list of reusable third-party components
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可重用的第三方组件列表
- en: Let's look at how the security team helps Richard through the stages of development.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看安全团队如何帮助理查德通过开发阶段。
- en: Secure architecture review
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全架构审查
- en: 'To evaluate the existing security architecture of the e-commerce site, the
    security team decides to work with architects to do an initial architecture review
    based on OWASP ASVS practices. To do the assessment, the project team can either
    use an online portal or EXCEL. In this case, the project security architecture
    review was done by using EXCEL checklist before an in-house security assessment
    portal was used. The following table contains some resources and documentation
    concerning these two tools that you may find useful:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 为了评估电子商务网站的现有安全架构，安全团队决定与架构师合作，基于OWASP ASVS实践进行初步架构审查。为了进行评估，项目团队可以使用在线门户或EXCEL。在这个案例中，项目安全架构审查是使用EXCEL检查清单完成的，之后才使用了内部安全评估门户。以下表格包含了一些关于这两种工具的资源和文档，您可能会觉得有用：
- en: '| **OWASP assessment tool** | **Reference of resources** |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '| **OWASP评估工具** | **资源参考** |'
- en: '| On-line Demo |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
  zh: '| 在线演示 |'
- en: OWASP ASVS Assessment Generator
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OWASP ASVS评估生成器
- en: Demo site: [http://ibuildingsnl.github.io/owasp-asvs-report-generator/index.html](http://ibuildingsnl.github.io/owasp-asvs-report-generator/index.html)
  id: totrans-19
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 演示网站：[http://ibuildingsnl.github.io/owasp-asvs-report-generator/index.html](http://ibuildingsnl.github.io/owasp-asvs-report-generator/index.html)
- en: Source: [https://github.com/ibuildingsnl/owasp-asvs-report-generator](https://github.com/ibuildingsnl/owasp-asvs-report-generator)
  id: totrans-20
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来源：[https://github.com/ibuildingsnl/owasp-asvs-report-generator](https://github.com/ibuildingsnl/owasp-asvs-report-generator)
- en: OWASP Security Knowledge Framework
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OWASP安全知识框架
- en: 'Demo site: [https://demo.securityknowledgeframework.org/project-new](https://demo.securityknowledgeframework.org/project-new)'
  id: totrans-22
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 演示网站：[https://demo.securityknowledgeframework.org/project-new](https://demo.securityknowledgeframework.org/project-new)
- en: 'username: admin password: test-skf.'
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户名：admin 密码：test-skf。
- en: Source: [https://github.com/blabla1337/skf-flask](https://github.com/blabla1337/skf-flask)
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来源：[https://github.com/blabla1337/skf-flask](https://github.com/blabla1337/skf-flask)
- en: '|'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Off-line EXCEL |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| 离线EXCEL |'
- en: '[https://github.com/shenril/owasp-asvs-checklist](https://github.com/shenril/owasp-asvs-checklist)'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/shenril/owasp-asvs-checklist](https://github.com/shenril/owasp-asvs-checklist)'
- en: '|'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: 'The result of the OWASP ASVS assessment can be presented as a diagram to show
    you which security areas need further improvements:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: OWASP ASVS评估的结果可以通过图表呈现，展示哪些安全领域需要进一步改进：
- en: '![](img/00033.jpeg)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00033.jpeg)'
- en: 'After some of the pilot projects, the security teams grew more familiar with
    the OWASP ASVS assessment, and there are more projects that require a security
    assessment. For ease of project data management and cross-reference review, the
    security team decided to build and customize an in-house assessment portal based
    on one of the following open source frameworks instead of EXCEL:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 经过一些试点项目后，安全团队对OWASP ASVS评估越来越熟悉，且有更多项目需要进行安全评估。为了便于项目数据管理和交叉参考审查，安全团队决定基于以下开源框架之一，建立并定制一个内部评估门户，而不是使用EXCEL：
- en: '[https://github.com/ibuildingsnl/owasp-asvs-report-generator](https://github.com/ibuildingsnl/owasp-asvs-report-generator)'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/ibuildingsnl/owasp-asvs-report-generator](https://github.com/ibuildingsnl/owasp-asvs-report-generator)'
- en: '[https://github.com/blabla1337/skf-flask](https://github.com/blabla1337/skf-flask)'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/blabla1337/skf-flask](https://github.com/blabla1337/skf-flask)'
- en: In order to establish a **secure design checklist**, the security team introduced
    the OWASP ASVS practices, built an in-house knowledge base, and went through a
    self-assessment with the project teams. To establish the secure design pattern and
    a list of reusable security frameworks, the security team decided to propose an
    open source security framework based on the assessment results of the OWASP ASVS.
    This is because some of the security frameworks also included security best practices,
    such as web security frameworks, Spring security, and Shiro.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 为了建立**安全设计检查表**，安全团队引入了OWASP ASVS实践，建立了内部知识库，并与项目团队进行了自我评估。为了建立安全设计模式和一系列可复用的安全框架，安全团队决定基于OWASP
    ASVS的评估结果，提出一个开源安全框架。这是因为一些安全框架也包含了安全最佳实践，如Web安全框架、Spring安全和Shiro。
- en: Authentication
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 认证
- en: Based on the OWASP ASVS assessment of the project, the security team identified
    that they were not meeting one of the authentication security requirements.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 基于对项目的OWASP ASVS评估，安全团队发现他们未能满足某些认证安全要求。
- en: '**OWASP ASVS authentication**:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**OWASP ASVS 认证**：'
- en: OWASP ASVS authentication verifies that secrets, API keys, and passwords are
    not included in the source code, or in online source code repositories.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: OWASP ASVS认证验证源代码中或在线源代码库中不包含秘密、API密钥和密码。
- en: The security team further investigated the existing practices of secrets management.
    The CTO, Richard, clarified that the issue was becoming a headache for both the
    development and operation team. In the development and testing environment, developers
    may keep the password or keys in a separate configuration file. However, to filter
    these files and to separate them in a different version controls repository really
    take lots of communication, and creates collaboration overhead.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 安全团队进一步调查了现有的秘密管理实践。首席技术官理查德澄清了这个问题正成为开发和运维团队的头疼问题。在开发和测试环境中，开发人员可能会将密码或密钥保存在一个单独的配置文件中。然而，为了过滤这些文件，并将它们分开存放在不同的版本控制仓库中，确实需要大量的沟通，并且增加了协作负担。
- en: 'To mitigate the risks, the security team proposed some security practices.
    They advised that the sensitive information should be encrypted when source codes
    are committed into a repository. Both the testing and operation teams will do
    regular scanning on the source code repository for any sensitive information.
    The following diagram shows the revised development workflow model:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 为了减轻风险，安全团队提出了一些安全实践。他们建议在源代码提交到代码库时，应加密敏感信息。测试和运维团队将定期扫描源代码库，查找任何敏感信息。下图展示了修订后的开发工作流模型：
- en: '![](img/00034.jpeg)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00034.jpeg)'
- en: 'The security team also suggested some tools to integrate into the existing
    practices of the development, testing, and operation teams'' daily usage. Here
    are some of the open source tools that may be used in secret management:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 安全团队还建议了一些工具，以便整合到开发、测试和运维团队的日常工作中。以下是一些可能用于秘密管理的开源工具：
- en: '| **Tools** | **Scenario and tools** |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '| **工具** | **场景和工具** |'
- en: '| Git Secret | Developers may need a tool that can handle sensitive files that
    are to be encrypted when committed and decrypted when checked out transparently. If
    your development team is using Git as the primary source code repository, the
    following tools can be applied to reduce the leakage of secrets such as API key,
    passwords, or encryption key.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '| Git Secret | 开发人员可能需要一种工具，可以在提交时加密敏感文件，并在检出时透明地解密。如果您的开发团队使用 Git 作为主要的源代码仓库，以下工具可以用于减少
    API 密钥、密码或加密密钥等秘密泄露。'
- en: Git-Secret
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Git-Secret
- en: BlackBox
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 黑盒
- en: Git-Crypt
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Git-Crypt
- en: Git-Remote-gcrypt
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Git-Remote-gcrypt
- en: '|'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| TruffleDumpsterDiver | Developers, QA, or operations teams prefer to search
    source code or configuration files regularly to identify whether there is any
    potential secret leakage in the files.The TruffleHog can do the secrets search
    on the GIT repository, and DumpsterDiver searches for the secrets on the local
    files.  |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| TruffleDumpsterDiver | 开发人员、QA 或运维团队倾向于定期搜索源代码或配置文件，以识别文件中是否存在潜在的秘密泄露。TruffleHog
    可以对 GIT 仓库进行秘密搜索，而 DumpsterDiver 则在本地文件中搜索秘密。|'
- en: Once the security team evaluates the tools, the next stage is to perform pilot
    testing with some of the development and operations teams before large-scale deployment.
    The purpose of the pilot testing was to make the process smooth and to customize
    the tools for better usability.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦安全团队评估了这些工具，下一阶段是与一些开发和运维团队进行试点测试，然后再进行大规模部署。试点测试的目的是使过程更加顺畅，并为更好的可用性定制工具。
- en: Authorization
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 授权
- en: 'The authorization security requirements can refer to the ''OWASP ASVS V4: Access
    control verification requirements''. For example, the OWASP ASVS self-assessment
    results showed the need for centralized mechanism protection.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 授权安全要求可以参考《OWASP ASVS V4：访问控制验证要求》。例如，OWASP ASVS自我评估结果显示需要集中机制保护。
- en: 'Centralized Mechanism Protection: You should verify that there is a centralized
    mechanism (including libraries that call external authorization services) for
    protecting access to each type of protected resource.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 集中机制保护：您应验证是否存在集中机制（包括调用外部授权服务的库）来保护对每种受保护资源的访问。
- en: To achieve the centralized mechanism protection, the security team decided to
    introduce the API gateway architecture that was designed so that all the API interfaces
    were controlled by the API gateway/manager, such as authentication, the API key,
    monitoring, ACL, logging, and rate limiting. The security team discussed this
    with the CTO, Richard, and realized that the existing security controls were implemented
    by each service, and the implementation was also subject to change for each service. Richard
    would like to have a common security framework for the purposes of not only consistent
    access control behaviors, but also the central management of security policies.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现集中机制保护，安全团队决定引入 API 网关架构，设计使所有 API 接口都由 API 网关/管理器控制，例如身份验证、API 密钥、监控、ACL、日志记录和速率限制。安全团队与CTO
    Richard讨论后，意识到现有的安全控制是由每个服务实施的，且每个服务的实施也会发生变化。Richard 希望有一个通用的安全框架，不仅为了确保一致的访问控制行为，还为了实现安全策略的集中管理。
- en: 'A central security policies management is critical for those services that
    need to interact with external partners:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 对于需要与外部合作伙伴互动的服务，中央安全策略管理至关重要：
- en: '![](img/00035.jpeg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00035.jpeg)'
- en: 'There are a number of API manager options in the market. The following table
    lists some open source API manager solutions. One of the key advantages of adopting
    open source frameworks or tools is that you are able to make further customizations
    based on your business needs:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 市场上有多种 API 管理器选项。以下表格列出了一些开源的 API 管理器解决方案。采用开源框架或工具的一个关键优势是，您可以根据业务需求进行进一步的定制：
- en: '| **API manager** | **Open source reference** |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '| **API 管理器** | **开源参考** |'
- en: '| Kong |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
  zh: '| Kong |'
- en: '[https://github.com/Kong/kong](https://github.com/Kong/kong)'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/Kong/kong](https://github.com/Kong/kong)'
- en: '[https://getkong.org/](https://getkong.org/)'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://getkong.org/](https://getkong.org/)'
- en: '|'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| API umbrella |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '| API umbrella |'
- en: '[https://github.com/NREL/api-umbrella](https://github.com/NREL/api-umbrella)'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/NREL/api-umbrella](https://github.com/NREL/api-umbrella)'
- en: '|'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| WSO2 API Manager |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| WSO2 API 管理器 |'
- en: '[https://github.com/wso2/product-apim](https://github.com/wso2/product-apim)'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/wso2/product-apim](https://github.com/wso2/product-apim)'
- en: '|'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: Session management
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 会话管理
- en: The CTO also pointed out some existing challenges to the session management
    implementation. The existing session management needs to tie with specific container
    technology and does not support various kinds of client application access, such
    as standalone or non-web application. The CTO would like to have the session management
    support heterogeneous client access, and wants it to be container-independent.
    In addition, the team wants to implement the CSRF token in different ways, and
    this could result in potential risks and extra effort. The CTO expects the team
    to provide a common library to have consistent CSRF protection.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: CTO还指出了会话管理实现中存在的一些挑战。现有的会话管理需要与特定的容器技术绑定，并不支持各种类型的客户端应用访问，如独立或非Web应用。CTO希望会话管理能够支持异构客户端访问，并且希望它能够与容器无关。此外，团队还希望以不同的方式实现CSRF令牌，这可能会带来潜在的风险和额外的工作。CTO希望团队提供一个公共库，以实现一致的CSRF保护。
- en: 'After assessing the challenges and needs of session management, the security
    team works on the evaluation of feasible security frameworks and prepares a security
    kit that may include the information in the following table. The purpose of the
    security kit is to help the development team to apply related security practices
    and tools during the development process:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在评估会话管理的挑战和需求后，安全团队着手评估可行的安全框架，并准备一个安全工具包，工具包可能包含下表中的信息。安全工具包的目的是帮助开发团队在开发过程中应用相关的安全实践和工具：
- en: '| **Stage** | **Security references and tools** |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '| **阶段** | **安全参考和工具** |'
- en: '| Threats analysis |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '| 威胁分析 |'
- en: CWE-6 Insufficient Session-ID Length
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CWE-6 会话ID长度不足
- en: CWE-352 Cross-Site Request Forgery (CSRF)
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CWE-352 跨站请求伪造（CSRF）
- en: CWE-384 Session Fixation
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CWE-384 会话固定
- en: CWE-488 Exposure of Data Element to the Wrong Session
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CWE-488 数据元素暴露给错误的会话
- en: 'CWE-613 Insufficient Session Expiration:'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CWE-613 会话过期不足：
- en: Tips to query a specific CWE. Just specify the CWE ID number at the end of the
    URL below. For example, the CWE-613 will be [https://cwe.mitre.org/data/definitions/613.html](https://cwe.mitre.org/data/definitions/613.html).
    |
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 查询特定CWE的提示。只需在下面的URL末尾指定CWE ID号。例如，CWE-613为[https://cwe.mitre.org/data/definitions/613.html](https://cwe.mitre.org/data/definitions/613.html)。|
- en: '| Secure design |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| 安全设计 |'
- en: OWASP ASVS V3 Session Management
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OWASP ASVS V3 会话管理
- en: OWASP Top 10 A2 Broken Authentication
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OWASP Top 10 A2 弱认证
- en: OWASP Session Management Cheat Sheet
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OWASP 会话管理备忘单
- en: '|'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Secure architecture |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| 安全架构 |'
- en: Apache Shiro Session Management
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Apache Shiro 会话管理
- en: OWASP CSRFGuard: [https://www.owasp.org/index.php/Category:OWASP_CSRFGuard_Project](https://www.owasp.org/index.php/Category:OWASP_CSRFGuard_Project)
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'OWASP CSRFGuard: [https://www.owasp.org/index.php/Category:OWASP_CSRFGuard_Project](https://www.owasp.org/index.php/Category:OWASP_CSRFGuard_Project)'
- en: '|'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: Data input/output
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据输入/输出
- en: Each project team implements the data input validation differently. Some project
    teams may miss filtering certain illegal characters, some may not know how to
    encode the output correctly, and some may neglect to do path or URL canonicalization
    before validation. These data input/output handling issues could cause some security
    problems. Therefore, the CTO wants the security team to help provide the appropriate
    security framework and also create hands-on tutorials for their staff members.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 每个项目团队实现数据输入验证的方式不同。有些项目团队可能忽略了过滤某些非法字符，有些可能不知道如何正确地编码输出，有些可能忽视在验证前进行路径或URL的规范化。这些数据输入/输出处理问题可能导致一些安全问题。因此，CTO希望安全团队提供合适的安全框架，并为其员工创建实操教程。
- en: The security team proposes a security training kit that includes coding rules,
    the coding framework, scanning tools, and some case studies.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 安全团队提出了一个安全培训工具包，其中包括编码规则、编码框架、扫描工具和一些案例研究。
- en: '**Data input/output training kit**:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '**数据输入/输出培训工具包**：'
- en: The purpose of the training kit is to provide security best practices, tools,
    and implementation guides for data input validation and also data output encoding
    to avoid XSS attacks.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 培训工具包的目的是提供数据输入验证和数据输出编码的安全最佳实践、工具和实施指南，以防止XSS攻击。
- en: '**General secure coding rules**:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般安全编码规则**：'
- en: Canonicalization and normalization must occur before validation.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 必须在验证之前进行规范化和标准化。
- en: Output encoding should be used to avoid XSS attacks.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 应使用输出编码以避免XSS攻击。
- en: 'The following table shows the preliminary agenda of the security training kit:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 下表展示了安全培训工具包的初步议程：
- en: '| **Security Framework/tools** | **Security Controls** |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| **安全框架/工具** | **安全控制** |'
- en: '| OWASP HTML Sanitizer Project ([https://www.owasp.org/index.php/OWASP_Java_HTML_Sanitizer_Project](https://www.owasp.org/index.php/OWASP_Java_HTML_Sanitizer_Project))
    | This is for Java to perform HTML sanitization to protect against XSS attacks.
    |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| OWASP HTML Sanitizer Project ([https://www.owasp.org/index.php/OWASP_Java_HTML_Sanitizer_Project](https://www.owasp.org/index.php/OWASP_Java_HTML_Sanitizer_Project))
    | 这是一个用于Java的HTML清理工具，旨在防止XSS攻击。 |'
- en: '| Commons Validator ([https://commons.apache.org/proper/commons-validator/](https://commons.apache.org/proper/commons-validator/))
    | This is a general data validator that provides data format validation, such
    as email, credit card, date, URL, and so on. |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| Commons Validator ([https://commons.apache.org/proper/commons-validator/](https://commons.apache.org/proper/commons-validator/))
    | 这是一个通用数据验证器，提供数据格式验证，如电子邮件、信用卡、日期、URL等。 |'
- en: '| ValidateJS ([https://validatejs.org/](https://validatejs.org/)) | This is
    a frontend JavaScript data validator. |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| ValidateJS ([https://validatejs.org/](https://validatejs.org/)) | 这是一个前端JavaScript数据验证器。
    |'
- en: '| OWASP Java Encoder ([https://www.owasp.org/index.php/OWASP_Java_Encoder_Project](https://www.owasp.org/index.php/OWASP_Java_Encoder_Project))
    | This works in a similar way to the HTML sanitizer. It''s used to perform output
    encoding to avoid XSS attacks. |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '| OWASP Java Encoder ([https://www.owasp.org/index.php/OWASP_Java_Encoder_Project](https://www.owasp.org/index.php/OWASP_Java_Encoder_Project))
    | 它的工作原理与HTML清理器类似。用于执行输出编码以避免XSS攻击。 |'
- en: Secure coding scanning tools
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 安全编码扫描工具
- en: 'The Checker Framework: [https://checkerframework.org/](https://checkerframework.org/)'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检查器框架：[https://checkerframework.org/](https://checkerframework.org/)
- en: 'Find security bugs: [https://find-sec-bugs.github.io](https://find-sec-bugs.github.io)'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查找安全漏洞：[https://find-sec-bugs.github.io](https://find-sec-bugs.github.io)
- en: 'Examples of security risks:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 安全风险示例：
- en: 'FIO16-J: Canonicalizes path names before validating them'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FIO16-J：在验证路径之前进行路径名规范化
- en: 'IDS07-J: Sanitizes untrusted data passed to the `Runtime.exec()` method'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IDS07-J：清理传递给`Runtime.exec()`方法的不可信数据
- en: 'IDS00-J: Prevents SQL injection'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IDS00-J：防止SQL注入
- en: 'IDS16-J: Prevents XML injection'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IDS16-J：防止XML注入
- en: 'IDS08-J: Sanitizes untrusted data included in a regular expression'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IDS08-J：清理包含在正则表达式中的不可信数据
- en: 'IDS06-J: Excludes unsanitized user input from format strings'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IDS06-J：从格式字符串中排除未清理的用户输入
- en: More can be found at [https://wiki.sei.cmu.edu/confluence/display/java/2+Rules](https://wiki.sei.cmu.edu/confluence/display/java/2+Rules).
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 更多内容请参见[https://wiki.sei.cmu.edu/confluence/display/java/2+Rules](https://wiki.sei.cmu.edu/confluence/display/java/2+Rules)。
- en: Privacy by design
  id: totrans-115
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 隐私设计
- en: 'The team realizes the importance of privacy and also receives some awareness training
    related to privacy laws. However, there is still a gap between translating the
    legal languages into technical security requirements. The CTO would like the security
    team to help to provide common privacy design solutions and to make *privacy by
    design* manifest in technical guidelines for the software engineering team. As
    well as having the existing data tasking implementation being done by each project
    team, the CTO plans to have common libraries for consistent data-masking behaviors
    and to reduce implementation efforts across the teams. There are also other issues
    raised by the operation, such as sensitive information classification and privacy
    assessment scanning. The role of the security team is not only to introduce industry
    best practices but also to evaluate feasible tools or frameworks that support
    the privacy by design during the DevOps process. Some resources to help you in
    this stage of the process are listed in the following table:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 团队意识到隐私的重要性，并接受了与隐私法相关的意识培训。然而，将法律语言转化为技术安全要求之间仍然存在差距。CTO希望安全团队帮助提供常见的隐私设计解决方案，并使*隐私设计*在软件工程团队的技术指南中得以体现。此外，CTO还计划让各项目团队完成现有的数据任务实现，计划制定通用库来实现一致的数据屏蔽行为，以减少跨团队的实施工作量。运营部门还提出了其他问题，如敏感信息分类和隐私评估扫描。安全团队的职责不仅是引入行业最佳实践，还包括评估支持在DevOps过程中进行隐私设计的可行工具或框架。在此阶段，以下资源可以为您提供帮助：
- en: '| **Challenges of privacy by design** | **Suggestions by the security team**
    |'
  id: totrans-117
  prefs: []
  type: TYPE_TB
  zh: '| **隐私设计的挑战** | **安全团队的建议** |'
- en: '| How do you translate ''privacy by design'' into technical security requirements?
    |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '| 如何将“隐私设计”转化为技术安全要求？ |'
- en: Privacy design patterns: [https://privacypatterns.org/patterns/](https://privacypatterns.org/patterns/)
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隐私设计模式：[https://privacypatterns.org/patterns/](https://privacypatterns.org/patterns/)
- en: NIST SP 800-122 Guide to Protecting the Confidentiality of PII
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: NIST SP 800-122 保护个人身份信息（PII）机密性的指南
- en: '|'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Developers need a data-masking implementation API to handle the sensitive
    information. | The ARX De-Identifier Data anonymization tool. |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| 开发人员需要一个数据掩码实现 API 来处理敏感信息。 | ARX De-Identifier 数据匿名化工具。 |'
- en: '| The operations team needs to classify PII attributes with the existing database
    and configure the access security policies. | Evaluate the Apache Atlas framework
    for the data governance and access control.  |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| 运维团队需要根据现有数据库分类 PII 属性，并配置访问安全策略。 | 评估 Apache Atlas 框架以进行数据治理和访问控制。 |'
- en: '| The DevOps team needs an automatic privacy-scanning tool to evaluate the
    privacy status of all web services. | Try to apply the Web privacy assessment
    by ''PrivacyScore''.   |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| DevOps 团队需要一个自动隐私扫描工具，以评估所有 Web 服务的隐私状态。 | 尝试使用 ''PrivacyScore'' 进行 Web 隐私评估。
    |'
- en: '| The developer team needs a common library to implement the consistent Cookie
    Consent behaviors for all the web services. | The open source CookieConsent library
    may be a good candidate to evaluate. |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| 开发团队需要一个通用库来实现所有 Web 服务的一致 Cookie 同意行为。 | 开源的 CookieConsent 库可能是一个值得评估的候选项。
    |'
- en: Summary of security and privacy frameworks
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全性和隐私框架总结
- en: 'The adoption of any security framework requires not only the consideration
    of business needs but also the fit into the existing architecture. Here is the
    summary of the industry practices, tools, and frameworks that we discussed in
    this case study:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 采用任何安全框架不仅需要考虑业务需求，还要考虑其与现有架构的契合度。以下是我们在本案例研究中讨论的行业实践、工具和框架的总结：
- en: '| **Security improvement area** | **Open source security and privacy framework**
    |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| **安全性改进领域** | **开源安全和隐私框架** |'
- en: '| Authentication |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| 身份认证 |'
- en: 'Gluu: it''s for multiple-factor authentication and social login.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gluu：它用于多因素认证和社交登录。
- en: CAPTCHA is commonly used to prevent machine logins. The HCaptcha, ReCaptcha,
    Patcha are the open source solutions to be considered.
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CAPTCHA 通常用于防止机器登录。可以考虑使用 HCaptcha、ReCaptcha、Patcha 这些开源解决方案。
- en: 'Git-Secret: For the protection of sensitive information in source code repositories,
    consider using the tool for the development team.'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Git-Secret：用于保护源代码库中的敏感信息，建议开发团队使用该工具。
- en: '|'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Authorization |'
  id: totrans-134
  prefs: []
  type: TYPE_TB
  zh: '| 授权 |'
- en: 'Gluu: It also provides the user consent management'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gluu：它还提供用户同意管理功能
- en: Apache Shiro Session Management
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Apache Shiro 会话管理
- en: OWASP CSRF Guard can generate a secure token to protect the CSRF attack.
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OWASP CSRF Guard 可以生成安全令牌来防止 CSRF 攻击。
- en: '|'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| API manager | The following open source frameworks can be considered to apply
    the API manager to secure the external restful API interfaces.'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '| API 管理器 | 可以考虑应用以下开源框架来保护外部 RESTful API 接口的安全。'
- en: Kong
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kong
- en: API umbrella
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: API umbrella
- en: WSO2 API Manager
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WSO2 API 管理器
- en: '|'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Data input/output | Depends on the programming language, there may be various
    kinds of data validator framework.'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '| 数据输入/输出 | 根据编程语言的不同，可能有各种数据验证框架。'
- en: 'OWASP Java HTML Sanitizer Project: It''s a  HTML Sanitizer written in Java
    to protect against XSS.'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OWASP Java HTML Sanitizer 项目：它是一个用 Java 编写的 HTML Sanitizer，用于防止 XSS。
- en: 'Commons validator: It''s a Java validator library'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Commons 验证器：它是一个 Java 验证库
- en: 'ValidateJS: It''s a JavaScript validator library.'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ValidateJS：它是一个 JavaScript 验证库。
- en: 'OWASP Java Encoder: It''s a Java encoder library which is mainly used to prevent
    XSS.'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OWASP Java Encoder：它是一个 Java 编码库，主要用于防止 XSS。
- en: '|'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Privacy |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| 隐私 |'
- en: Data anonymization tool: [http://arx.deidentifier.org/](http://arx.deidentifier.org/)
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据匿名化工具：[http://arx.deidentifier.org/](http://arx.deidentifier.org/)
- en: Data governance: [https://atlas.apache.org/index.html](https://atlas.apache.org/index.html)
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据治理：[https://atlas.apache.org/index.html](https://atlas.apache.org/index.html)
- en: Web privacy assessment: [http://privacyscore.org/](http://privacyscore.org/)
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Web 隐私评估：[http://privacyscore.org/](http://privacyscore.org/)
- en: Cookie Consent: [https://github.com/insites/cookieconsent](https://github.com/insites/cookieconsent)
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cookie Consent：[https://github.com/insites/cookieconsent](https://github.com/insites/cookieconsent)
- en: '|'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: Third-party component management
  id: totrans-156
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第三方组件管理
- en: 'To mitigate the security risks of third-party components, the team defines
    a process to evaluate the third-party components. However, the CTO identified
    that the manual inspection of open source licenses to collect related information
    really took a lot of effort, and, in doing so, the team also made some mistakes,
    such as allowing information to go missing or incorrectly inputting data. The
    CTO met with the security team, discussing such matters as the feasibility of
    automating the process of scanning the whole project and creating an identity
    license for each component, and other such related information. The stages and
    key activities of this review are shown in the following table:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 为了降低第三方组件的安全风险，团队定义了一个评估第三方组件的流程。然而，CTO发现手动检查开源许可证以收集相关信息确实耗费了大量精力，而且在这个过程中，团队也犯了一些错误，比如信息丢失或错误输入数据。CTO与安全团队进行了会面，讨论了自动化扫描整个项目、为每个组件创建身份许可证等相关信息的可行性。该审查的各个阶段和关键活动如下表所示：
- en: '| **Stages** | **Key activities of the third-party component review** |'
  id: totrans-158
  prefs: []
  type: TYPE_TB
  zh: '| **阶段** | **第三方组件审查的关键活动** |'
- en: '| Requirements |'
  id: totrans-159
  prefs: []
  type: TYPE_TB
  zh: '| 需求 |'
- en: Evaluate open source framework components from legal, license, security, and
    support perspectives
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从法律、许可证、安全性和支持等角度评估开源框架组件
- en: '|'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Design |'
  id: totrans-162
  prefs: []
  type: TYPE_TB
  zh: '| 设计 |'
- en: Keep the open source information in a central database, including details such
    as the open source name, version, sources, and licenses
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将开源信息保存在中央数据库中，包括开源名称、版本、来源和许可证等详细信息
- en: Threat and security analysis of the components, ensuring that there is no backdoor,
    no hard-coded encryption key, and no hidden malware
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对组件进行威胁和安全分析，确保没有后门、硬编码的加密密钥以及隐藏的恶意软件
- en: Ensure that a channel is provided for software updates and patches
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保提供软件更新和补丁的渠道
- en: '|'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Implementation |'
  id: totrans-167
  prefs: []
  type: TYPE_TB
  zh: '| 实施 |'
- en: The third-party components must be verified with secure code-scanning tools
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 必须使用安全代码扫描工具验证第三方组件
- en: All the security updates and changes should be documented as part of the change
    management
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有的安全更新和更改应作为变更管理的一部分进行文档记录
- en: '|'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Verification |'
  id: totrans-171
  prefs: []
  type: TYPE_TB
  zh: '| 验证 |'
- en: The scope of security testing includes all the third-party components
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全测试的范围包括所有第三方组件
- en: License declaration should be implemented in the project
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 项目中应实施许可证声明
- en: The licenses' compliance should be confirmed with the legal department
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 必须与法律部门确认许可证的合规性
- en: '|'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Release |'
  id: totrans-176
  prefs: []
  type: TYPE_TB
  zh: '| 发布 |'
- en: Known CVE or vulnerabilities must be uncovered
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 必须揭示已知的CVE或漏洞
- en: Ensure the integrity of all the binary files
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保所有二进制文件的完整性
- en: '|'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Maintenance |'
  id: totrans-180
  prefs: []
  type: TYPE_TB
  zh: '| 维护 |'
- en: A security update plan must be drawn up and implemented
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 必须制定并实施安全更新计划
- en: '|'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: 'Without a proper tool or automation tool, security practices can be a big overhead
    to the development team. After understanding the challenges of the execution,
    the security team identified three key areas:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 没有适当的工具或自动化工具，安全实践可能会对开发团队造成很大的负担。在了解执行过程中面临的挑战后，安全团队确定了三个关键领域：
- en: Code scanning for license information
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 许可证信息的代码扫描
- en: Binary scan for known vulnerabilities
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对已知漏洞进行二进制扫描
- en: Binary scan and runtime behavior monitoring for potential backdoors and malicious
    behaviors
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对二进制文件进行扫描和运行时行为监控，以发现潜在的后门和恶意行为
- en: 'Here are some recommended scanning tools for the third-party components:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些推荐的第三方组件扫描工具：
- en: '| **Purposes** | **Suggested Open Source tools** |'
  id: totrans-188
  prefs: []
  type: TYPE_TB
  zh: '| **目的** | **推荐的开源工具** |'
- en: '| Open source licenses check | The following projects help to identify and
    retrieve critical information from the open source components such as vulnerabilities,  license,
    and copyright status.'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '| 开源许可证检查 | 以下项目有助于识别和提取开源组件中的关键信息，例如漏洞、许可证和版权状态。 |'
- en: AboutCode
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AboutCode
- en: FOSSology
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FOSSology
- en: Ninka
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ninka
- en: Linux Foundation open source scanning
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Linux基金会开源扫描
- en: '|'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Known vulnerabilities check | OWASP Dependency Check, OWASP Dependency Track,
    and OpenVAS are the suggested open source tools to scan software vulnerabilities. 
    |'
  id: totrans-195
  prefs: []
  type: TYPE_TB
  zh: '| 已知漏洞检查 | OWASP Dependency Check、OWASP Dependency Track 和 OpenVAS 是推荐的开源工具，用于扫描软件漏洞。
    |'
- en: '| Malware and suspicious behaviors analysis | Cuckoo: It''s a sandbox used
    to analyze static and dynamic behaviors of an unknown file.  |'
  id: totrans-196
  prefs: []
  type: TYPE_TB
  zh: '| 恶意软件和可疑行为分析 | Cuckoo：这是一种沙箱工具，用于分析未知文件的静态和动态行为。 |'
- en: Summary
  id: totrans-197
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概要
- en: In this case study, we reviewed a typical e-commerce website's adoption of security
    practices for the requirement, architecture, security framework, design review,
    and threat-modeling stages. We discussed the role of the security team and also
    the challenges for the DevOps team in adopting the security practices.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 在本案例研究中，我们回顾了一个典型电子商务网站在需求、架构、安全框架、设计评审和威胁建模阶段采用安全实践的情况。我们讨论了安全团队的角色以及 DevOps
    团队在采用安全实践时面临的挑战。
- en: The team did an architecture assessment by applying OWASP ASVS. The team identified
    that there are some security areas that can be improved, including authentication,
    authorization, session management, and data-input validation. In addition, the
    team was also looking for advice on the implementation of privacy by design.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 团队通过应用 OWASP ASVS 进行了架构评估。团队发现有一些安全领域可以改进，包括身份验证、授权、会话管理和数据输入验证。此外，团队还在寻求关于隐私设计的实施建议。
- en: For the authentication process, they discovered that some of the sensitive information,
    such as the encryption key, password, or secrets, may accidentally be committed
    in the source code repositories. The security team suggested applying monitoring
    or encryption tools (Git-Secret) to prevent developers from committing credentials
    into Git repositories in plain text.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 对于身份验证过程，他们发现一些敏感信息，如加密密钥、密码或密钥，可能会不小心提交到源代码仓库中。安全团队建议应用监控或加密工具（Git-Secret），以防止开发人员将凭证以明文形式提交到
    Git 仓库中。
- en: For the authorization process, because of the REST API's open interface with
    third-party partners, the architecture requires a central security access control.
    The API manager was introduced to manage all the API's ACL, logging, authorization,
    and rate limiting. Open source solutions, such as Kong and WSO2 API Manager, were
    introduced to the team for further evaluation. In addition to the API access control,
    the team was also looking for a secure session management framework to handle
    various kinds of client technologies and to secure the system against a CSRF attack.
    To address the problem of the secure session management, the security team proposed
    a security kit that included threat analysis with examples of CWE, OWASP cheat
    sheets for secure design, and open source frameworks with Shiro and CSRF Guard
    for implementation.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 对于授权过程，由于 REST API 与第三方合作伙伴的开放接口，架构需要中央安全访问控制。引入了 API 管理器来管理所有 API 的 ACL、日志、授权和速率限制。开源解决方案，如
    Kong 和 WSO2 API Manager，被引入团队以供进一步评估。除了 API 访问控制，团队还在寻找一个安全的会话管理框架，以处理各种客户端技术，并保护系统免受
    CSRF 攻击。为了解决安全会话管理问题，安全团队提出了一个安全工具包，其中包括带有 CWE 示例的威胁分析、OWASP 安全设计备忘单以及用于实现的开源框架，如
    Shiro 和 CSRF Guard。
- en: When it comes to data-input validation and output encoding, the security team
    prepared a training kit that included the secure coding rules, security framework,
    and code-scanning tools. For the implementation, some of the open source frameworks
    were suggested based on their security needs, such as HTTP Sanitizer, common validator,
    ValidateJS, and Java Encoder.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 关于数据输入验证和输出编码，安全团队准备了一个培训工具包，其中包括安全编码规则、安全框架和代码扫描工具。在实施过程中，根据安全需求，建议使用一些开源框架，例如
    HTTP Sanitizer、common validator、ValidateJS 和 Java Encoder。
- en: Privacy by design is critical not only for legal compliance but also for personal
    data protection. The project team was confused about how to translate those legal
    requirements into software engineering technical requirements. The security team
    suggested some industry best practices and tools based on the likely scenarios.
    For example, the developers needed their API to correctly implement data masking.
    The operations team needed to classify the data classification of the PII attributes
    with the existing database and configure the access security policies. The DevOps
    team needed an automatic privacy-scanning tool to evaluate the privacy status
    of all web services. The developer team needed a common library to implement the
    consistent Cookie Consent behaviors for all the web services. Privacy by design
    will put our requirements into practice more easily if we apply the right tools
    and framework.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 隐私设计不仅对法律合规至关重要，而且对个人数据保护也至关重要。项目团队对如何将这些法律要求转化为软件工程技术要求感到困惑。安全团队根据可能的场景提出了一些行业最佳实践和工具。例如，开发人员需要确保他们的
    API 正确地实现数据掩码。运营团队需要与现有数据库一起对个人身份信息（PII）属性进行数据分类，并配置访问安全策略。DevOps 团队需要一款自动化隐私扫描工具，以评估所有
    Web 服务的隐私状态。开发团队需要一个通用库，以便为所有 Web 服务实现一致的 Cookie 同意行为。如果我们使用正确的工具和框架，隐私设计将使我们的要求更容易实现。
- en: Last but not least, we discussed third-party component management. There were
    lots of open source frameworks and tools applied to the security practices. The
    third party components also introduced legal and security risks. We introduced
    some practices and tools to mitigate those risks.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 最后但同样重要的是，我们讨论了第三方组件管理。有许多开源框架和工具应用于安全实践。第三方组件也引入了法律和安全风险。我们介绍了一些实践和工具来减轻这些风险。
- en: We have looked in great detail at threat modeling, security requirements, secure
    architecture, framework, security by design, and security by privacy, in the development
    stage. In the coming chapters, we will begin to explore security testing in greater
    detail.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在开发阶段已经详细研究了威胁建模、安全需求、安全架构、框架、设计安全和隐私安全。接下来的章节，我们将更加深入地探讨安全测试。
- en: Questions
  id: totrans-206
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Which of the following are secrets that we don't want to be included in the
    source code?
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下哪些是我们不希望包含在源代码中的机密？
- en: API keys
  id: totrans-208
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: API 密钥
- en: Passwords
  id: totrans-209
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 密码
- en: Encryption key
  id: totrans-210
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加密密钥
- en: All of the above
  id: totrans-211
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以上所有
- en: What can't an API gateway do?
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: API 网关不能做什么？
- en: Access the control list
  id: totrans-213
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问控制列表
- en: Rate limiting
  id: totrans-214
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 限流
- en: Antivirus
  id: totrans-215
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 杀毒软件
- en: API key authentication
  id: totrans-216
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: API 密钥认证
- en: Which one of the following is related to the security of the session management?
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下哪个与会话管理的安全性相关？
- en: Insufficient session ID length
  id: totrans-218
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 会话 ID 长度不足
- en: Cross-Site Request Forgery (CSRF)
  id: totrans-219
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 跨站请求伪造（CSRF）
- en: Session fixation
  id: totrans-220
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 会话固定
- en: All of the above
  id: totrans-221
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以上所有
- en: 'True or False: For the data validation, does the canonicalization and normalization
    occur after validation?'
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对与数据验证相关的问题，标准化和规范化是否发生在验证之后？请判断正误。
- en: What is data anonymization used for?
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据匿名化的用途是什么？
- en: It's to perform the data masking of sensitive information
  id: totrans-224
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它用于执行敏感信息的数据掩码
- en: It's for data governance
  id: totrans-225
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它用于数据治理
- en: Web privacy assessment
  id: totrans-226
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 网络隐私评估
- en: Cookie Consent
  id: totrans-227
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Cookie 同意
- en: What can the AboutCode, FOSSology, and Ninka tools do?
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: AboutCode、FOSSology 和 Ninka 工具能做什么？
- en: Open source licenses check
  id: totrans-229
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开源许可证检查
- en: Known vulnerabilities check
  id: totrans-230
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 已知漏洞检查
- en: Suspicious behaviors analysis
  id: totrans-231
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可疑行为分析
- en: Intrusion defense
  id: totrans-232
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 入侵防御
- en: Further reading
  id: totrans-233
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 深入阅读
- en: '**OWASP Secure Application Design**: [https://www.owasp.org/index.php/OWASP_Secure_Application_Design_Project](https://www.owasp.org/index.php/OWASP_Secure_Application_Design_Project)'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OWASP 安全应用程序设计**：[https://www.owasp.org/index.php/OWASP_Secure_Application_Design_Project](https://www.owasp.org/index.php/OWASP_Secure_Application_Design_Project)'
- en: '**Microsoft MSDN Security Checklist: Architecture and Design Review**: [https://msdn.microsoft.com/en-us/library/ff647464.aspx](https://msdn.microsoft.com/en-us/library/ff647464.aspx)'
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Microsoft MSDN 安全检查清单：架构与设计评审**：[https://msdn.microsoft.com/en-us/library/ff647464.aspx](https://msdn.microsoft.com/en-us/library/ff647464.aspx)'
- en: '**SANS Web Application Security Design Checklist**: [https://www.sans.org/reading-room/whitepapers/securecode/security-checklist-web-application-design-1389](https://www.sans.org/reading-room/whitepapers/securecode/security-checklist-web-application-design-1389)'
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SANS Web 应用安全设计检查清单**：[https://www.sans.org/reading-room/whitepapers/securecode/security-checklist-web-application-design-1389](https://www.sans.org/reading-room/whitepapers/securecode/security-checklist-web-application-design-1389)'
- en: '**Microsoft Design Guidelines for Secure Web Applications**: [https://msdn.microsoft.com/en-us/library/ff648647.aspx](https://msdn.microsoft.com/en-us/library/ff648647.aspx)'
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**微软安全 Web 应用设计指南**：[https://msdn.microsoft.com/en-us/library/ff648647.aspx](https://msdn.microsoft.com/en-us/library/ff648647.aspx)'
- en: '**Core Security Patterns**: [http://coresecuritypatterns.com/downloads/patterns.pdf](http://coresecuritypatterns.com/downloads/patterns.pdf)'
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**核心安全模式**：[http://coresecuritypatterns.com/downloads/patterns.pdf](http://coresecuritypatterns.com/downloads/patterns.pdf)'
- en: '**OWASP ASVS Assessment Tool**: [https://www.owasp.org/index.php/OWASP_ASVS_Assessment_tool](https://www.owasp.org/index.php/OWASP_ASVS_Assessment_tool)'
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OWASP ASVS 评估工具**：[https://www.owasp.org/index.php/OWASP_ASVS_Assessment_tool](https://www.owasp.org/index.php/OWASP_ASVS_Assessment_tool)'
- en: '**Microsoft''s guide for data classification (PDF)**: [https://download.microsoft.com/download/0/A/3/0A3BE969-85C5-4DD2-83B6-366AA71D1FE3/Data-Classification-for-Cloud-Readiness.pdf](https://download.microsoft.com/download/0/A/3/0A3BE969-85C5-4DD2-83B6-366AA71D1FE3/Data-Classification-for-Cloud-Readiness.pdf)'
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**微软的数据分类指南（PDF）**：[https://download.microsoft.com/download/0/A/3/0A3BE969-85C5-4DD2-83B6-366AA71D1FE3/Data-Classification-for-Cloud-Readiness.pdf](https://download.microsoft.com/download/0/A/3/0A3BE969-85C5-4DD2-83B6-366AA71D1FE3/Data-Classification-for-Cloud-Readiness.pdf)'
- en: '**Carnegie Mellon University: Guidelines for Data Classification**: [https://www.cmu.edu/iso/governance/guidelines/data-classification.html#classification](https://www.cmu.edu/iso/governance/guidelines/data-classification.html#classification)'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**卡内基梅隆大学：数据分类指南**：[https://www.cmu.edu/iso/governance/guidelines/data-classification.html#classification](https://www.cmu.edu/iso/governance/guidelines/data-classification.html#classification)'
- en: '**OVIC Privacy and Data Protection Checklists and Tools**: [https://www.cpdp.vic.gov.au/menu-resources/resources-privacy/resources-privacy-checklists-and-tools](https://www.cpdp.vic.gov.au/menu-resources/resources-privacy/resources-privacy-checklists-and-tools)'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OVIC 隐私和数据保护检查表与工具**：[https://www.cpdp.vic.gov.au/menu-resources/resources-privacy/resources-privacy-checklists-and-tools](https://www.cpdp.vic.gov.au/menu-resources/resources-privacy/resources-privacy-checklists-and-tools)'
- en: '**Microsoft GDPR Compliance Assessment**: [https://assessment.microsoft.com/gdpr-compliance](https://assessment.microsoft.com/gdpr-compliance)'
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**微软 GDPR 合规性评估**：[https://assessment.microsoft.com/gdpr-compliance](https://assessment.microsoft.com/gdpr-compliance)'
- en: '**ENISA Privacy and Data Protection by Design**: [https://www.enisa.europa.eu/publications/privacy-and-data-protection-by-design/](https://www.enisa.europa.eu/publications/privacy-and-data-protection-by-design/)'
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ENISA 隐私和数据保护设计方案**：[https://www.enisa.europa.eu/publications/privacy-and-data-protection-by-design/](https://www.enisa.europa.eu/publications/privacy-and-data-protection-by-design/)'
- en: '**SP 800-122 Guide to protecting the confidentiality of personally identifiable
    information (PII)**: [https://csrc.nist.gov/publications/detail/sp/800-122/final](https://csrc.nist.gov/publications/detail/sp/800-122/final)'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SP 800-122 保护个人身份信息（PII）机密性的指南**：[https://csrc.nist.gov/publications/detail/sp/800-122/final](https://csrc.nist.gov/publications/detail/sp/800-122/final)'
- en: '**Data Anonymization for ****production data dumps**: [https://github.com/sunitparekh/data-anonymization](https://github.com/sunitparekh/data-anonymization)'
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**生产数据转储的** **数据匿名化**：[https://github.com/sunitparekh/data-anonymization](https://github.com/sunitparekh/data-anonymization)'
- en: '**CSA Code of Conduct for GDPR Compliance**: [https://cloudsecurityalliance.org/media/press-releases/cloud-security-alliance-issues-code-of-conduct-self-assessment-and-certification-tools-for-gdpr-compliance/](https://cloudsecurityalliance.org/media/press-releases/cloud-security-alliance-issues-code-of-conduct-self-assessment-and-certification-tools-for-gdpr-compliance/)'
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**CSA GDPR 合规性行为准则**：[https://cloudsecurityalliance.org/media/press-releases/cloud-security-alliance-issues-code-of-conduct-self-assessment-and-certification-tools-for-gdpr-compliance/](https://cloudsecurityalliance.org/media/press-releases/cloud-security-alliance-issues-code-of-conduct-self-assessment-and-certification-tools-for-gdpr-compliance/)'
