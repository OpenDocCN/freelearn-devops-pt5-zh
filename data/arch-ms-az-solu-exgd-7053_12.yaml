- en: Artificial Intelligence, IoT, and Media Services
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 人工智能、物联网和媒体服务
- en: In the previous chapter, we covered Governance and Policies, such as standard
    and custom roles in Azure, when to use Azure Role-based Access Security, and Azure
    Resource Policies.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们讨论了治理和策略，例如 Azure 中的标准和自定义角色、何时使用 Azure 基于角色的访问安全，以及 Azure 资源策略。
- en: In this chapter, you will learn about the various features and capabilities
    that Azure offers for Artificial Intelligence, IoT, and for streaming media content.
    By the end of this chapter, you will know how to design state-of-the-art solutions
    using Azure Cognitive Services, the Azure Bot Service, IoT Hub, Azure Media Services,
    and more.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将学习 Azure 为人工智能、物联网以及流媒体内容提供的各种功能和能力。通过本章的学习，你将掌握如何使用 Azure 认知服务、Azure
    Bot 服务、IoT Hub、Azure 媒体服务等设计最先进的解决方案。
- en: 'The following topics will be covered:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Azure Cognitive Services
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azure 认知服务
- en: Azure Bot Service
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azure Bot 服务
- en: Azure Machine Learning
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azure 机器学习
- en: IoT Hub, Event Hubs, and IoT Edge
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IoT Hub、事件中心和 IoT Edge
- en: Azure Stream Analytics
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azure 流分析
- en: Azure Time Series Insights
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azure 时间序列洞察
- en: Azure Media Services
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azure 媒体服务
- en: Technical requirements
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'This chapter uses the following tools for the examples:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 本章使用以下工具作为示例：
- en: Visual Studio 2017: [https://www.visualstudio.com/downloads/](https://www.visualstudio.com/downloads/)
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Visual Studio 2017: [https://www.visualstudio.com/downloads/](https://www.visualstudio.com/downloads/)
- en: 'The source code for this chapter can be downloaded from the following link:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的源代码可以从以下链接下载：
- en: '[https://github.com/SjoukjeZaal/AzureArchitectureBook/tree/master/Chapter%2012](https://github.com/SjoukjeZaal/AzureArchitectureBook/tree/master/Chapter%2012)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/SjoukjeZaal/AzureArchitectureBook/tree/master/Chapter%2012](https://github.com/SjoukjeZaal/AzureArchitectureBook/tree/master/Chapter%2012)'
- en: Azure Cognitive Services
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure 认知服务
- en: With Azure Cognitive Services, you can create modern and intelligent applications.
    It offers various AI and machine learning APIs and SDKs, which can be used in
    applications to make them more intelligent, such as speech and facial recognition, speech
    and language understanding, and more.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 借助 Azure 认知服务，你可以创建现代化和智能的应用程序。它提供各种人工智能和机器学习 API 和 SDK，可在应用程序中使用，使其更加智能，例如语音和面部识别、语音和语言理解等。
- en: Cognitive Services is part of the AI offering of Azure. It offers APIs that
    can be consumed *as-is* and APIs that need training and can be used to create
    your own custom AI solutions.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 认知服务是 Azure 人工智能产品的一部分。它提供可直接使用的 API 以及需要训练的 API，这些 API 可以用于创建自定义的人工智能解决方案。
- en: The APIs are split up into multiple categories, such as vision, speech, language,
    knowledge, and search APIs. These categories with the available APIs are covered
    in more detail in the upcoming sections.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 这些 API 被分为多个类别，如视觉、语音、语言、知识和搜索 API。这些类别以及可用的 API 在接下来的章节中将进行更详细的介绍。
- en: Cognitive Services offers a set of APIs and SDKs that are still in the experimental
    stage as well. These services are added to the labs category. By the time of writing
    this book, the Labs section offers a gesture, event tracking, academic knowledge,
    local insights, knowledge exploration service, and entity linking service.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 认知服务还提供一组仍处于实验阶段的 API 和 SDK。这些服务被归类为实验室服务。在写作本书时，实验室部分提供手势、事件跟踪、学术知识、本地洞察、知识探索服务和实体链接服务。
- en: Available services and APIs
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可用的服务和 API
- en: 'Azure Cognitive Services offers the following APIs and services:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: Azure 认知服务提供以下 API 和服务：
- en: '**Vision**:'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**视觉**：'
- en: '**Computer Vision API**: This API provides image processing and recognition.
    You can use this API for categorizing images, tagging images based on content,
    recognizing handwritten text, flagging adult content, cropping images, detecting
    human faces, and more.'
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计算机视觉 API**：此 API 提供图像处理和识别。你可以使用此 API 对图像进行分类、根据内容标记图像、识别手写文本、标记成人内容、裁剪图像、检测人脸等。'
- en: '**Content Moderator**: The content moderator offers automatic moderator capabilities
    such as detecting possible adult and racy content in videos. It offers review
    tooling where automatic moderation can be used in conjunction with human involvement as
    well.'
  id: totrans-25
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内容审核员**：内容审核员提供自动审核功能，例如检测视频中的潜在成人或不雅内容。它提供了审核工具，自动审核可以与人工参与结合使用。'
- en: '**Custom Vision Service**: This API offers a tool in order to build custom
    image classifiers. This can be used to identify images, such as certain flowers
    or dogs for instance. This API needs to be trained by uploading images to it.'
  id: totrans-26
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自定义视觉服务**：此 API 提供一个工具，用于构建自定义图像分类器。它可以用于识别图像，例如某些花朵或狗等。此 API 需要通过上传图像来进行训练。'
- en: '**Face API**: This API can detect human faces in an image. It can extract information
    from the images, such as pose, facial hair, glasses, gender, age, and head pose.
    You can use this API for face verification, face grouping, face identification,
    and finding similar faces.'
  id: totrans-27
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**面部 API**：此 API 可以检测图像中的人脸。它可以从图像中提取信息，如姿势、面部毛发、眼镜、性别、年龄和头部姿势。您可以使用此 API 进行人脸验证、人脸分组、人脸识别以及查找相似的人脸。'
- en: '**Emotion API**: This API is part of the Face API and can be used as a standalone
    API as well. You can use it to detect the emotion of people in images.'
  id: totrans-28
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**情感 API**：此 API 是面部 API 的一部分，也可以作为独立 API 使用。您可以使用它检测图像中人们的情感。'
- en: '**Video Indexer**: This API can extract insights from your videos using various
    artificial intelligence technologies. This API is used inside Azure Media Services
    as well and will be covered in more detail later in this chapter.'
  id: totrans-29
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**视频索引器**：此 API 可以使用各种人工智能技术从您的视频中提取见解。此 API 也用于 Azure 媒体服务，稍后在本章中将更详细地介绍。'
- en: '**Speech**:'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**语音**：'
- en: '**Microsoft Speech API**: This API provides speech-enabled features, such as
    voice command control and speech transcription and dictation. It offers speech
    to text, where human speech is converted into text, which can be used to control
    applications by speech and text to speech, where text is converted to audio streams,
    which can be played back in applications.'
  id: totrans-31
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**微软语音 API**：此 API 提供语音功能，如语音命令控制和语音转录与听写。它提供语音转文本功能，将人类语音转换为文本，可用于通过语音控制应用程序；以及文本转语音功能，将文本转换为音频流，可在应用程序中播放。'
- en: '**Custom Speech Service**: This enables you to create customized language models
    and acoustic models aimed at a specific user population or used for applications
    in a particular environment. You can train the API to learn product names or jargon.'
  id: totrans-32
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自定义语音服务**：此服务使您能够创建定制的语言模型和声学模型，旨在特定用户群体或特定环境中的应用程序。您可以训练 API 学习产品名称或行话。'
- en: '**Speaker Recognition API**:  This API provides speaker verification, which
    can be used to identify a person using voice commands for authentication. It provides
    speaker identification, where it can recognize a person in a group of speakers
    by their voice.'
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**语音识别 API**：此 API 提供语音验证功能，可以通过语音命令进行身份验证。它还提供语音识别功能，可以通过声音在一组人群中识别某个人。'
- en: '**Translator Speech API**: This API offers a service that translates conversational
    speech from one language into the text of another language.'
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**翻译语音 API**：此 API 提供将对话语音从一种语言翻译成另一种语言文本的服务。'
- en: '**Language**:'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**语言**：'
- en: '**Language Understanding (LUIS)**: LUIS can extract meanings from text. It
    uses machine learning to train the API.'
  id: totrans-36
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**语言理解（LUIS）**：LUIS 可以从文本中提取含义。它使用机器学习训练 API。'
- en: '**Bing Spell Check API**: This offers a spell checker and a contextual grammar
    tool. It is based on all the web searches in Bing and uses machine learning to
    dynamically train the API.'
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**必应拼写检查 API**：提供拼写检查和上下文语法工具。它基于必应的所有网页搜索，并使用机器学习动态训练 API。'
- en: '**Linguistic Analysis API**: This API offers three different tools for natural
    language processing, such as sentence separation and tokenization, part-of-speech
    tagging, and constituency parsing.'
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**语言分析 API**：此 API 提供三种自然语言处理工具，例如句子分割与标记化、词性标注和句法分析。'
- en: '**Text Analytics API**: This API provides natural language processing over
    raw text and includes the features mentioned here. One of the features is language
    detection for up to 120 languages. It returns a language code and a score indicating
    the strength of the analyzation. It also provides Key Phrase Extraction, where
    it extracts key phrases to identify the main points in sentences, and it offers
    sentiment analysis, which you can use to find out what people think of certain
    things by analyzing text.'
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本分析 API**：此 API 提供对原始文本的自然语言处理，并包括此处提到的功能。其中一个功能是语言检测，支持最多 120 种语言。它返回一个语言代码以及一个表示分析强度的得分。它还提供关键词提取功能，通过提取关键短语来识别句子的要点，同时提供情感分析，可以用来分析人们对某些事物的看法。'
- en: '**Translator Text API**: This API can be used to provide text-to-text language
    translation in more then 60 different languages.'
  id: totrans-40
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**翻译文本 API**：此 API 可用于提供超过 60 种不同语言的文本翻译。'
- en: '**Web Language Model API**: This offers a variety of standard natural language processing
    tasks. The models are trained using Bing data at web-scale.'
  id: totrans-41
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Web 语言模型 API**：此 API 提供多种标准自然语言处理任务。模型是使用 Bing 数据在 Web 规模上训练的。'
- en: '**Knowledge**:'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**知识**：'
- en: '**Custom Decision Service**: You can use this API to create a personal experience
    for your users. It can personalize content or videos on a website or portal. You
    can use it for ad placement and ranking items in shops.'
  id: totrans-43
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自定义决策服务**：你可以使用此 API 为用户创建个性化体验。它可以个性化网站或门户上的内容或视频。你可以用它来进行广告投放和商店中的商品排名。'
- en: '**QnA Maker**: This offers a web API that trains an AI model to respond to
    user''s questions in a more natural, conversational way. It can be trained using
    FAQ, URLs/documents, and more.'
  id: totrans-44
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**QnA Maker**：它提供了一个 Web API，可以训练 AI 模型以更自然、对话的方式回答用户的问题。可以通过常见问题、URL/文档等进行训练。'
- en: '**Search:**'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**搜索：**'
- en: '**Bing Search APIs**: This API consists of multiple APIs and functions. It
    includes all Bing search APIs, such as the Bing web search API, Bing image search
    API, Bing video search API, and Bing news search API.'
  id: totrans-46
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Bing 搜索 API**：此 API 包含多个 API 和功能。它包括所有 Bing 搜索 API，例如 Bing 网页搜索 API、Bing
    图像搜索 API、Bing 视频搜索 API 和 Bing 新闻搜索 API。'
- en: '**Bing Autosuggest API**: This offers suggestions when you are typing the first
    few characters of a word. You can use it to populate a drop-down box under search
    boxes.'
  id: totrans-47
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Bing 自动建议 API**：此 API 在你输入一个单词的前几个字符时提供建议。你可以用它来填充搜索框下拉列表。'
- en: '**Bing Custom Search API**: This offers tailored search experiences. You can
    tailor results based on interests. So, instead of letting users go through pages
    to search for relevant content, you can filter irrelevant content before providing
    it to your users.'
  id: totrans-48
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Bing 自定义搜索 API**：此 API 提供量身定制的搜索体验。你可以根据兴趣定制结果。因此，不需要让用户通过页面来搜索相关内容，你可以在提供给用户之前先过滤掉不相关的内容。'
- en: '**Bing Entity Search API:** This API provides search results that includes
    entities and places that can be used for tourist attractions, for instance.'
  id: totrans-49
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Bing 实体搜索 API**：此 API 提供的搜索结果包括可以用于旅游景点等实体和地点。'
- en: For a complete overview of all the Cognitive Services APIs, you can refer to: [https://docs.microsoft.com/en-us/azure/#pivot=products&panel=ai](https://docs.microsoft.com/en-us/azure/#pivot=products&panel=ai).
    Want to get started with Cognitive Services? You can refer to the following page
    to obtain free trial API keys for the various APIs that Cognitive Service offers: [https://azure.microsoft.com/en-us/try/cognitive-services/](https://azure.microsoft.com/en-us/try/cognitive-services/).
    These trial plans have rate limits. The Azure Portal has paid offerings. You can
    create Cognitive Services APIs in there as well.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看所有认知服务 API 的完整概述，请参考：[https://docs.microsoft.com/en-us/azure/#pivot=products&panel=ai](https://docs.microsoft.com/en-us/azure/#pivot=products&panel=ai)。想要开始使用认知服务？你可以参考以下页面获取不同
    API 的免费试用密钥：[https://azure.microsoft.com/en-us/try/cognitive-services/](https://azure.microsoft.com/en-us/try/cognitive-services/)。这些试用计划有速率限制。Azure
    门户有付费服务，你也可以在其中创建认知服务 API。
- en: Using the Computer Vision API
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用计算机视觉 API
- en: In this example, we are going to create an application that uses the Computer
    Vision API to analyze some pictures.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在本示例中，我们将创建一个使用计算机视觉 API 分析图片的应用程序。
- en: First, you need to obtain an API subscription key from [https://docs.microsoft.com/en-us/azure/cognitive-services/Computer-vision/Vision-API-How-to-Topics/HowToSubscribe](https://docs.microsoft.com/en-us/azure/cognitive-services/Computer-vision/Vision-API-How-to-Topics/HowToSubscribe).
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你需要从 [https://docs.microsoft.com/en-us/azure/cognitive-services/Computer-vision/Vision-API-How-to-Topics/HowToSubscribe](https://docs.microsoft.com/en-us/azure/cognitive-services/Computer-vision/Vision-API-How-to-Topics/HowToSubscribe)
    获取一个 API 订阅密钥。
- en: Next you have to open up Visual Studio 2017.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你需要打开 Visual Studio 2017。
- en: 'Click on File | New | Project, and in the New Project window, select Console
    App. Name the project and click on OK:'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 文件 | 新建 | 项目，在新建项目窗口中，选择 控制台应用程序。为项目命名并点击 确定：
- en: '![](img/c6a04c61-16ce-4b2b-85dc-dfd3bb1d94b6.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c6a04c61-16ce-4b2b-85dc-dfd3bb1d94b6.png)'
- en: Creating Console application
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 创建控制台应用程序
- en: 'Create a new class, named `Extensions.cs`, and replace the code with the following:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的类，命名为 `Extensions.cs`，并将代码替换为以下内容：
- en: '[PRE0]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Add the following namespaces to the `Main.cs`:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下命名空间添加到 `Main.cs` 中：
- en: '[PRE1]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Add the following variables to the `Main.cs`. Replace the `subscriptionKey`
    value with your valid subscription key:'
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 `Main.cs` 添加以下变量。将 `subscriptionKey` 的值替换为有效的订阅密钥：
- en: '[PRE2]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Replace the `Main` method with the following:'
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下代码替换 `Main` 方法：
- en: '[PRE3]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Add the following method for creating a request and send it to the customer
    service API of the class:'
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加以下方法以创建请求，并将其发送到该类的客服 API：
- en: '[PRE4]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Add the following method to import the celebrity image below the previous method:'
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在之前的方法下方添加以下方法以导入名人图像：
- en: '[PRE5]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Add the last method in order to display the JSON results in the Console below
    the previous method:'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加最后一个方法，以便在之前的方法下方显示 JSON 结果：
- en: '[PRE6]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Now, download a celebrity image, run the application, and provide the full image
    path.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，下载一个名人图像，运行应用程序，并提供完整的图像路径。
- en: For a detailed overview of all the capabilities of the Computer Vision API,
    you can refer to: [https://docs.microsoft.com/en-us/azure/cognitive-services/computer-vision/home#Categorizing](https://docs.microsoft.com/en-us/azure/cognitive-services/computer-vision/home#Categorizing).
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 如需详细了解计算机视觉 API 的所有功能，可以参考：[https://docs.microsoft.com/en-us/azure/cognitive-services/computer-vision/home#Categorizing](https://docs.microsoft.com/en-us/azure/cognitive-services/computer-vision/home#Categorizing)。
- en: Azure Bot Service
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure Bot 服务
- en: Azure Bot Service offers a complete environment to build and deploy Bots. A
    Bot is an app that can interact with users in a conversational way. It can communicate
    with users using speech, text, and cards. You can create Bots that communicate
    with users using a freeform approach, where a users asks a question in a chatbox,
    for instance, and gets an answer back from the Bot, or you can use a more guided
    approach, where you provide choices to the users and take actions based on the
    choice they make.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Bot 服务提供了一个完整的环境来构建和部署 Bots。Bot 是一种可以与用户进行对话互动的应用程序。它可以通过语音、文本和卡片与用户进行沟通。你可以创建能够通过自由形式的方式与用户沟通的
    Bots，例如用户在聊天框中提问，Bot 给出回答，或者你也可以使用更为引导的方式，在这种方式下，你向用户提供选择项，并根据他们做出的选择采取相应的行动。
- en: You can integrate Bots in all types of applications, such as custom web applications
    and Azure Functions. You can create bots that integrate in Azure SaaS applications
    as well. Azure Bot Service offers different channels to connect your Bot to Skype,
    Facebook, Teams, Slack, SMS, and more. Bots can be created using .NET or Node.js,
    and there are five different templates provided to get you up to speed with developing
    them. You can choose from a Basic Bot, a Form Bot that collects user input, a
    language understanding Bot, which leverages LUIS, a Bot to use for FAQs, and a
    Bot that alerts users about events.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在各种类型的应用程序中集成 Bots，例如自定义 Web 应用程序和 Azure Functions。你还可以创建集成到 Azure SaaS 应用程序中的
    Bots。Azure Bot 服务提供多种渠道，可以将你的 Bot 连接到 Skype、Facebook、Teams、Slack、SMS 等。Bots 可以通过
    .NET 或 Node.js 创建，并且提供了五种不同的模板来帮助你快速入门开发。你可以选择基本 Bot、收集用户输入的表单 Bot、利用 LUIS 的语言理解
    Bot、用于常见问题的 Bot，以及能够提醒用户事件的 Bot。
- en: 'Azure Bot Service offers the following two different pricing tiers:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Bot 服务提供以下两种不同的定价方案：
- en: '**Free**: This offers unlimited messages for Standard channels and 10,000 messages
    per month on Premium Channels (such as Microsoft Teams and Skype).'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**免费**：此方案提供标准通道的无限消息数量，以及每月 10,000 条消息在高级通道上（例如 Microsoft Teams 和 Skype）。'
- en: '**Standard S1**: This offers unlimited messages for Standard channels, and
    you pay a certain amount for 1,000 messages at a time on Premium channels. This
    pricing tier offers SLA as well.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标准 S1**：此方案提供标准通道的无限消息数量，并且你为每次发送 1,000 条消息的高级通道付费。此定价方案还提供 SLA。'
- en: You can use Bots from the Azure Portal or from Visual Studio 2017. Microsoft
    offers a complete solution for building and deploying Bots, which is included
    in the Bot Builder SDK for .NET. You need to download templates that can be installed
    inside the Visual Studio `Template` folder. This template will then be a starting
    point for developing Bots.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过 Azure 门户或 Visual Studio 2017 使用 Bots。Microsoft 提供了一个完整的构建和部署 Bots 的解决方案，这个解决方案包含在
    .NET 的 Bot Builder SDK 中。你需要下载可以安装在 Visual Studio `Template` 文件夹中的模板。该模板将成为开发
    Bots 的起点。
- en: Creating a Bot from the Azure Portal
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从 Azure 门户创建一个 Bot
- en: 'In this example, we are going to create a Bot that can be deployed in a Web
    App from the Azure Portal:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 在本示例中，我们将创建一个可以从 Azure 门户部署到 Web 应用中的 Bot：
- en: Navigate to the Azure Portal by opening: [https://portal.azure.com/](https://portal.azure.com/).
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过打开以下链接进入 Azure 门户：[https://portal.azure.com/](https://portal.azure.com/)。
- en: Click on New and type `Web App Bot`in the search bar.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“新建”，并在搜索栏中键入 `Web App Bot`。
- en: 'Enter the following settings:'
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下设置：
- en: '![](img/f07a0fbc-a252-46c5-8f5b-6052a43537c3.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f07a0fbc-a252-46c5-8f5b-6052a43537c3.jpg)'
- en: Web App Bot settings
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: Web应用程序Bot设置
- en: 'Click on Bot template, select the Form template, and click on Select:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“Bot模板”，选择“表单模板”，然后点击“选择”：
- en: '![](img/2dd9637b-e9a8-4cc5-901f-9d029a102ca2.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2dd9637b-e9a8-4cc5-901f-9d029a102ca2.jpg)'
- en: Selecting Bot template
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 选择Bot模板
- en: 'When created, you can navigate to the Bot in the Azure Portal. When you click
    on Build in the left menu, you can make changes to the code in the online code
    editor. There are a couple of tools integrated in the online editor, such as Git,
    Kudu, and more. You can download the ZIP file to make changes in Visual Studio,
    and you can configure Continuous Deployment as well:'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建后，你可以在Azure门户中导航到Bot。当你点击左侧菜单中的“构建”时，你可以在在线代码编辑器中对代码进行更改。在线编辑器中集成了一些工具，如Git、Kudu等。你也可以下载ZIP文件，在Visual
    Studio中进行更改，并配置持续部署：
- en: '![](img/908bd0f2-136c-42c4-b965-d92057f74786.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![](img/908bd0f2-136c-42c4-b965-d92057f74786.jpg)'
- en: Bot Build settings
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 机器人构建设置
- en: 'To test the Bot, click on Test in Web Chat in the left menu. This Bot provides
    an example of a sandwich ordering service, using a guided approach. So, if you
    type anything in the message box, you get a set of options for sandwiches to order.
    Pick one, and you can select the length of your sandwich:'
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要测试机器人，请在左侧菜单中点击“Web Chat中的测试”。这个机器人提供了一个三明治点单服务示例，采用引导式方法。所以，如果你在消息框中输入任何内容，你将看到一组可以选择的三明治选项。选择一个后，你可以选择三明治的长度：
- en: '![](img/5700fe11-32c9-45d8-ba7d-249ff7dd2773.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5700fe11-32c9-45d8-ba7d-249ff7dd2773.png)'
- en: Example of bot
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 机器人示例
- en: 'For channel registration, you can click on Channels in the left menu. Here,
    you can register the different channels that you want your Bot to connect to:'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要进行渠道注册，可以点击左侧菜单中的“渠道”。在这里，你可以注册你希望你的Bot连接的不同渠道：
- en: '![](img/cfc44974-5a1e-4072-9916-2e629feaf22a.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cfc44974-5a1e-4072-9916-2e629feaf22a.png)'
- en: Different bot channels
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的机器人渠道
- en: For more information about how to create Bots using Visual Studio 2017, you
    can refer to [https://docs.microsoft.com/en-us/bot-framework/dotnet/bot-builder-dotnet-quickstart](https://docs.microsoft.com/en-us/bot-framework/dotnet/bot-builder-dotnet-quickstart).
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 如需了解如何使用Visual Studio 2017创建机器人的更多信息，可以参考[https://docs.microsoft.com/en-us/bot-framework/dotnet/bot-builder-dotnet-quickstart](https://docs.microsoft.com/en-us/bot-framework/dotnet/bot-builder-dotnet-quickstart)。
- en: Azure Machine Learning
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure 机器学习
- en: We all produce massive amounts of data these days. Data created in the past
    can give us valuable insights into the future.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 如今我们每个人都在产生大量数据。过去产生的数据可以为我们提供未来的宝贵洞察。
- en: Machine learning provides a set of algorithms that can apply complex mathematical
    calculations to big data automatically and can eventually learn from this data. It
    is a data science technique, which can be used to predict the future by forecasting
    outcomes and trends. Applications using this technique can learn from data and
    experiences without being explicitly programmed. Machine learning models can be
    trained using large amounts of historical data which applications can act upon.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习提供了一套算法，可以自动将复杂的数学计算应用于大数据，并最终从这些数据中进行学习。这是一种数据科学技术，可以通过预测结果和趋势来预测未来。使用该技术的应用程序可以从数据和经验中学习，而无需显式编程。机器学习模型可以利用大量历史数据进行训练，应用程序可以基于这些数据采取行动。
- en: Fraud detection, self-driving vehicles, and personal recommendations on websites
    are all examples of applications that use machine learning. Artificial intelligence
    and machine learning possibilities are endless and will have an enormous impact
    on our daily lives in the near future.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 欺诈检测、自动驾驶汽车和网站上的个人推荐都是使用机器学习的应用实例。人工智能和机器学习的可能性是无限的，并且在不久的将来将对我们的日常生活产生巨大影响。
- en: 'Azure Machine Learning provides a set of tools and capabilities for data scientists
    and developers to leverage machine learning in their applications. The following
    tools and capabilities are offered:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: Azure 机器学习为数据科学家和开发人员提供了一套工具和能力，帮助他们在应用程序中利用机器学习。提供以下工具和功能：
- en: '**Machine Learning Studio**: Machine Learning Studio is a drag and drop tool,
    which you can use to create predictive models. You can use it to deploy and test
    your solutions as well. You can create **Experiments** on which you can drag and
    drop datasets and data analyzation activities, named **Modules**. You can train
    the **Experiments** using parts of the data from the datasets, and when the models
    are trained properly, you can convert them into **Predictive** experiments and
    publish them as web services.'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**机器学习工作室**：机器学习工作室是一个拖放工具，你可以用它来创建预测模型。你还可以用它来部署和测试你的解决方案。你可以创建**实验**，并将数据集和数据分析活动（称为**模块**）拖放到其中。你可以用数据集中的部分数据来训练**实验**，当模型训练好后，你可以将其转化为**预测性**实验，并将其发布为
    Web 服务。'
- en: '**Azure Machine Learning Workbench**:At the time of writing this book, this
    tool is still in preview. It offers an integrated end-to-end data science solution
    for data scientists to prepare data, develop experiences, and deploy models to
    Azure.'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Azure 机器学习工作台**：在写本书时，这个工具仍处于预览阶段。它为数据科学家提供了一个集成的端到端数据科学解决方案，帮助数据科学家准备数据、开发体验并将模型部署到
    Azure 上。'
- en: '**Azure AI Gallery**: The AI Gallery provides various community-driven solutions
    built with different AI features of Azure. You can use these solutions for learning
    purposes or as a resource for developing your custom solutions.'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Azure AI 画廊**：AI 画廊提供了各种社区驱动的解决方案，这些解决方案利用了 Azure 的不同 AI 功能。你可以将这些解决方案用于学习目的，或作为开发自定义解决方案的资源。'
- en: '**Machine Learning Modules**: You can use out-of-the box machine learning models
    in your experiments for analyzing data. There are machine learning algorithms,
    data input and output modules, data transformation modules, text analytics modules,
    and Microsoft-specific modules with algorithms from Bing and Xbox.'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**机器学习模块**：你可以在实验中使用现成的机器学习模型来分析数据。包括机器学习算法、数据输入输出模块、数据转换模块、文本分析模块以及微软特有的模块，后者包含来自
    Bing 和 Xbox 的算法。'
- en: '**Data Science**** Virtual Machines**: Azure offers virtual machines that are
    configured for data science workloads. There are Windows and Linux Data Science
    VMs and Deep Learning VMs. You can deploy containers for data science workloads
    as well:'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据科学**虚拟机：Azure 提供了配置用于数据科学工作负载的虚拟机。有 Windows 和 Linux 数据科学虚拟机以及深度学习虚拟机。你还可以为数据科学工作负载部署容器：'
- en: '![](img/a3c8bbd2-4d53-4468-aa75-f779023566fe.jpg)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a3c8bbd2-4d53-4468-aa75-f779023566fe.jpg)'
- en: Machine Learning studio
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习工作室
- en: Data science is a specialization; however, Microsoft offers a series of videos
    that can give some basic understanding of data science. For these series of videos,
    you can refer to: [https://docs.microsoft.com/en-us/azure/machine-learning/studio/data-science-for-beginners-the-5-questions-data-science-answers#other-videos-in-this-series](https://docs.microsoft.com/en-us/azure/machine-learning/studio/data-science-for-beginners-the-5-questions-data-science-answers#other-videos-in-this-series).
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学是一项专业技能；然而，微软提供了一系列视频，可以帮助你对数据科学有一些基本的了解。对于这些视频系列，你可以参考：[https://docs.microsoft.com/en-us/azure/machine-learning/studio/data-science-for-beginners-the-5-questions-data-science-answers#other-videos-in-this-series](https://docs.microsoft.com/en-us/azure/machine-learning/studio/data-science-for-beginners-the-5-questions-data-science-answers#other-videos-in-this-series)。
- en: Azure IoT Hub
  id: totrans-114
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure IoT 中心
- en: In an Internet of Things (IoT) solution, devices send massive amounts of data
    to Azure for further processing. The IoT Hub is used to connect these devices
    securely and route the messages from those devices to different resources in Azure
    for further processing.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在物联网（IoT）解决方案中，设备将大量数据发送到 Azure 进行进一步处理。IoT 中心用于安全连接这些设备，并将来自设备的消息路由到 Azure
    中的不同资源，以便进一步处理。
- en: 'The IoT Hub offers the following capabilities:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: IoT 中心提供以下功能：
- en: '**Bi-directional communication**: It provides bi-directional communication
    between devices and Azure, such as one-way messaging, file transfer, and request-reply
    messaging. Devices can send data to Azure IoT Hub, but the IoT Hub can send data
    to the devices as well. It supports various communication protocols, such as HTTPS,
    AMQP, and MQTT. It provides built-in declarative message routing to other Azure
    services.'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**双向通信**：它提供设备与 Azure 之间的双向通信功能，如单向消息传递、文件传输和请求-回复消息传递。设备可以将数据发送到 Azure IoT
    中心，反之，IoT 中心也可以将数据发送到设备。它支持多种通信协议，如 HTTPS、AMQP 和 MQTT，并提供内置的声明性消息路由功能，将消息路由到其他
    Azure 服务。'
- en: '**Secure Connectivity**:Communication between devices and the IoT Hub can be
    secured using per-device security keys or X.509 certificates. Azure IoT Hub does
    not open any connections, only connected devices initiate all the connections.
    IoT Hub stores the messages inside a per device queue for two days and waits for
    the device to connect. It uses Azure AD for user authentication and authorization.'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安全连接**：设备与 IoT Hub 之间的通信可以通过每个设备的安全密钥或 X.509 证书进行加密。Azure IoT Hub 不会主动开启任何连接，所有连接均由已连接的设备发起。IoT
    Hub 会将消息存储在每个设备的队列中 2 天，等待设备连接。它使用 Azure AD 进行用户身份验证和授权。'
- en: '**Scaling**: IoT Hub offers massive scaling because it can scale up to millions
    of simultaneously connected devices and millions of events per second.'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**扩展性**：IoT Hub 提供了巨大的扩展性，因为它可以扩展到数百万个同时连接的设备和每秒数百万个事件。'
- en: '**Monitoring**:It offers a monitoring solution in Azure. IoT Hub is integrated
    with Azure Monitor, which gives you detailed information about device management
    operations and connectivity events.'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**监控**：它在 Azure 中提供监控解决方案。IoT Hub 与 Azure Monitor 集成，为你提供关于设备管理操作和连接事件的详细信息。'
- en: Azure IoT Hub offers the Azure IoT SDK, which consists of Device SDKs and can
    be used to create apps that run on IoT devices and send data to the IoT Hub. The
    SDK also offers Service SDKs, which can be used to manage the IoT Hub, and it
    offers the Azure IoT Edge, which is covered in more detail later in this chapter.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: Azure IoT Hub 提供 Azure IoT SDK，其中包括设备 SDK，可用于创建在 IoT 设备上运行并向 IoT Hub 发送数据的应用程序。该
    SDK 还提供了服务 SDK，可用于管理 IoT Hub，并提供 Azure IoT Edge，后者将在本章稍后详细讨论。
- en: 'IoT Hub comes in the following pricing tiers:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: IoT Hub 提供以下定价层级：
- en: '**Free**:This offers total 8,000 messages per unit a day. This tier is most
    suitable for testing scenarios.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**免费**：此方案每天提供最多 8000 条消息。此层级最适合测试场景。'
- en: '**Standard S1**: This offers up to 400,000 messages per day across all connected
    devices. This is must suitable for scenarios that generate small amounts of data.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标准 S1**：此方案每天提供最多 40 万条消息，适用于生成少量数据的场景。'
- en: '**Standard S2**: This offers up to 6 million messages per unit a day across
    all connected devices. This is suitable for scenarios with large amounts of data.'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标准 S2**：此方案每天提供最多 600 万条消息，适用于大数据量的场景。'
- en: '**Standard S3**: This offers up to 300 million messages per unit a day across
    all connected devices. This is suitable for scenarios with large amounts of data
    as well.'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标准 S3**：此方案每天提供最多 3 亿条消息，适用于大数据量的场景。'
- en: Next to the IoT Hub, Azure offers the Azure Event Hub. The Azure Event Hub offers
    similar capabilities such as the Azure IoT Hub, except that the IoT Hub offers
    more advanced capabilities. If your architecture demands cloud-to-device communication
    or per device security and performance management, the IoT Hub is the best solution.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 除了 IoT Hub，Azure 还提供了 Azure Event Hub。Azure Event Hub 提供类似 Azure IoT Hub 的功能，不同之处在于
    IoT Hub 提供了更多的高级功能。如果你的架构需要云到设备的通信或按设备的安全性和性能管理，IoT Hub 是最佳解决方案。
- en: 'The Event Hub is covered in more detail in the next section. Azure also offers
    IoT Edge, which offers additional functionality and will be covered in the next
    section as well:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: Event Hub 在下一节中将详细介绍。Azure 还提供了 IoT Edge，提供额外的功能，并将在下一节中讨论：
- en: '![](img/229d6043-97de-4ed7-a9af-26b6797bffb5.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](img/229d6043-97de-4ed7-a9af-26b6797bffb5.png)'
- en: IoT architecture overview
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: IoT 架构概览
- en: Azure Event Hub
  id: totrans-131
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure Event Hub
- en: Azure Event Hub is designed for high throughput ingress of data streams generated
    by devices and services. It provides a telemetry ingestion service that can collect,
    transform, and store millions of events.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Event Hub 旨在处理由设备和服务生成的数据流的高吞吐量数据输入。它提供了一个遥测数据摄取服务，能够收集、转换并存储数百万个事件。
- en: It offers similar capabilities such as the IoT Hub, but there are differences
    as well. When to use which solutions depends on the scenario. If your solution
    demands high throughput data ingestion only, Azure Event Hubs is a more cost-effective
    solution than the IoT Hub. However, if your solution needs bi-directional communication,
    such as communicating from the cloud to your devices, IoT Hub is a better solution.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 它提供了类似 IoT Hub 的功能，但也存在差异。选择使用哪种解决方案取决于具体场景。如果你的解决方案只要求高吞吐量的数据输入，Azure Event
    Hub 比 IoT Hub 更具成本效益。但是，如果你的解决方案需要双向通信，例如从云端向设备发送数据，IoT Hub 是更好的选择。
- en: 'To make the right decision on which solution to use for your IoT architecture,
    you can look at the following differences:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在 IoT 架构中做出正确的决策，你可以查看以下差异：
- en: '**Device Protocol Support**: Azure Event Hub supports HTTPS, AMQP, and AMQP
    where the IoT Hub supports  MQTT, MQTT over WebSockets, AMQP, AMQP over WebSockets,
    and HTTPS, MQTT, MQTT over WebSockets, AMQP, AMQP over WebSockets. IoT Hub supports
    file upload as well.'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**设备协议支持**：Azure Event Hub 支持 HTTPS、AMQP 和 AMQP，而 IoT Hub 支持 MQTT、通过 WebSockets
    的 MQTT、AMQP、通过 WebSockets 的 AMQP 和 HTTPS，IoT Hub 还支持文件上传。'
- en: '**Communications Patterns**: The Event Hub only supports event ingress where
    the IoT Hub supports device-to-cloud communications and cloud-to-device communications
    as well.'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**通信模式**：Event Hub 仅支持事件流入，而 IoT Hub 不仅支持设备到云的通信，还支持云到设备的通信。'
- en: '**Security**:The Event Hub supports Shared Access Policies, where the IoT Hub
    supports per device identity and revocable access control.'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安全性**：Event Hub 支持共享访问策略，而 IoT Hub 支持每个设备身份和可撤销的访问控制。'
- en: '**Monitoring**: The IoT Hub offers a complete set of monitoring capabilities,
    where the Event Hub only offers aggregate metrics.'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**监控**：IoT Hub 提供完整的监控功能，而 Event Hub 仅提供汇总指标。'
- en: '**Scale**:IoT Hub can scale up to millions of simultaneously connected devices
    and millions of events per second, where the Event Hub can scale up to 5,000 AMQP
    connections per namespace.'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**规模**：IoT Hub 可以扩展到支持数百万个同时连接的设备和每秒数百万个事件，而 Event Hub 只能扩展到每命名空间 5,000 个 AMQP
    连接。'
- en: '**SDKs**: Event Hubs supports .NET and C, where IoT Hub supports .NET, C, Node.js,
    Java, and Python.'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SDK**：Event Hubs 支持 .NET 和 C，而 IoT Hub 支持 .NET、C、Node.js、Java 和 Python。'
- en: For a complete overview of the differences between the Event Hub and the IoT
    Hub, you can refer to: [https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-compare-event-hubs](https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-compare-event-hubs).
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 关于 Event Hub 和 IoT Hub 之间差异的完整概述，可以参考：[https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-compare-event-hubs](https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-compare-event-hubs)。
- en: 'Azure Event Hub offers the following three different pricing tiers:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Event Hub 提供以下三种不同的定价层：
- en: '**Basic**: This offers a maximum of 20 throughput units with 1 MB/s ingress
    and 2 MB/s egress per unit. Maximum message size is 256 KB. A message retention
    of 1 day, 1 consumer group, and 100 brokered connections.'
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基础**：提供最多 20 个吞吐量单元，每个单元支持 1 MB/s 的流入和 2 MB/s 的流出。最大消息大小为 256 KB。消息保留期为 1
    天，1 个消费者组和 100 个代理连接。'
- en: '**Standard**:On top of the basic features, the standard plan offers lower costs
    for throughput units and messages. It offers 20 consumer groups and 1,000 brokered
    connections.'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标准**：在基本功能的基础上，标准计划提供更低的吞吐量单元和消息费用。它提供 20 个消费者组和 1,000 个代理连接。'
- en: '**Dedicated**: This offers a dedicated environment for customers. Offers a
    maximum message size of 1 MB and 50 throughput units, a retention period of 7
    days and 25,000 brokered connections.'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**专用**：为客户提供专用环境。提供最大消息大小 1 MB 和 50 个吞吐量单元，保留期为 7 天，支持 25,000 个代理连接。'
- en: Azure IoT Edge
  id: totrans-146
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure IoT Edge
- en: Azure IoT Edge is an additional feature of Azure IoT Hub, which is installed
    at the edge of the on-premises network, inside a DMZ or inside the corporate network.
    Instead of sending messages to Azure, the messages can be sent to Azure IoT Edge,
    which takes less time because it doesn't have to be sent beyond the on-premises
    network. Data can be stored and analyzed on the device as well.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: Azure IoT Edge 是 Azure IoT Hub 的附加功能，安装在本地网络的边缘、DMZ 或公司网络内。消息可以发送到 Azure IoT
    Edge，而不是 Azure，因为它不需要通过本地网络以外的区域，因此发送时间更短。数据也可以在设备上存储和分析。
- en: You can register the IoT Edge inside the IoT Hub settings page in the Azure
    Portal. The IoT Edge runtime can then be installed on the IoT Edge device. Devices
    can be a Windows or Linux machine, a container, or a Raspberry Pi, for instance.
    This IoT Edge device can then connect to the Azure IoT Hub, collect the data from
    the devices, and send it to the IoT Hub.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在 Azure 门户的 IoT Hub 设置页面中注册 IoT Edge。然后可以在 IoT Edge 设备上安装 IoT Edge 运行时。设备可以是
    Windows 或 Linux 机器、容器，或者是 Raspberry Pi 等。这个 IoT Edge 设备可以连接到 Azure IoT Hub，从设备收集数据，并将其发送到
    IoT Hub。
- en: Azure Stream Analytics
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure 流分析
- en: Azure Stream Analytics is part of Azure's IoT Suite and offers a pipeline for
    event processing and real-time analytics for the data that is streaming from various
    sources. You can use it for scenarios that require real-time analytics on data,
    such as stock analysis, fraud detection, and analyzing data that comes from a
    massive amount of sensors, for instance.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Stream Analytics 是 Azure IoT 套件的一部分，提供一个用于事件处理和实时分析的管道，适用于来自各种来源的数据流。您可以将其用于需要实时分析的数据场景，例如股票分析、欺诈检测，或者分析来自大量传感器的数据。
- en: Data can come from various sources, such as custom applications, sensors, Azure
    IoT Hub, and Azure Event Hubs. It can come from Blob Storage as well. Stream Analytics
    can handle an ingest of data up to 1 GB per second. You can create a Stream Analytics
    **Job**, where you configure the data source. You can create a **Transformation**,
    where you can query the data for patterns or relationships using a SQL-like language.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 数据可以来自各种来源，例如自定义应用程序、传感器、Azure IoT Hub 和 Azure Event Hubs，也可以来自 Blob 存储。Stream
    Analytics 可以处理每秒高达 1 GB 的数据摄取。您可以创建一个 Stream Analytics **作业**，在其中配置数据源。您还可以创建一个
    **转换**，使用类似 SQL 的语言查询数据中的模式或关系。
- en: 'You can create filter, sort, or aggregate the data from the data sources. Finally,
    the data is sent to an output source, which can be Azure Data Lake, Power BI for
    creating dashboards, using machine learning, or storing it in a SQL Data Warehouse:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以对数据源中的数据进行过滤、排序或聚合。最后，数据会被发送到输出源，可以是 Azure Data Lake、Power BI（用于创建仪表板）、使用机器学习，或者将其存储在
    SQL 数据仓库中：
- en: '![](img/937c2d1a-678a-46bf-8908-7b20edc0a912.png)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![](img/937c2d1a-678a-46bf-8908-7b20edc0a912.png)'
- en: Azure Stream Analytics
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Stream Analytics
- en: Azure Time Series Insights
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure 时间序列洞察
- en: Time Series Insights offers a portal that can be used to get valuable insights
    in your IoT data. It offers database storage for a massive amount of data sent
    from IoT Hub and Event Hubs. It can join different types of data easily, such
    as metadata and telemetry, and then visualize this data.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: Time Series Insights 提供一个门户，可以用于从您的物联网数据中获取有价值的洞察。它为从 IoT Hub 和 Event Hubs 发送的大量数据提供数据库存储。它可以轻松地结合不同类型的数据，如元数据和遥测数据，并对这些数据进行可视化。
- en: 'Time Series Insights offers the following features:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: Time Series Insights 提供以下功能：
- en: '**Integration**: It offers out-of-the-box integration with Azure IoT Hub and
    Event Hub.'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**集成**：它提供与 Azure IoT Hub 和 Event Hub 的开箱即用集成。'
- en: '**Data Storage**: Time Series Insights stores your data on SSDs and in memory
    for up to 400 days.'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据存储**：Time Series Insights 将数据存储在 SSD 和内存中，最长可保存 400 天。'
- en: '**Visualization**: This offers a dedicated portal that offers visualization
    of your data using the TSI Explorer.'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可视化**：提供一个专门的门户，使用 TSI Explorer 可视化您的数据。'
- en: '**Query Service**: Time Series insights offers a query service inside the TSI
    Explorer and APIs that can be called from your custom applications. By integrating
    Time Series Insights in your applications, you can leverage it as a backend for
    indexing, storing, and aggregating data. You can then build your custom visualization
    tool on top of it.'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**查询服务**：Time Series Insights 在 TSI Explorer 内提供查询服务，并提供可以从自定义应用程序调用的 API。通过将
    Time Series Insights 集成到您的应用程序中，您可以将其作为后端来索引、存储和聚合数据。然后，您可以在其基础上构建自定义可视化工具。'
- en: '![](img/ce469e89-14c2-440e-903e-95b06ccbd088.jpg)'
  id: totrans-162
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ce469e89-14c2-440e-903e-95b06ccbd088.jpg)'
- en: Azure Time Series Insights TSI Explorer
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: Azure 时间序列洞察 TSI Explorer
- en: Azure Media Services
  id: totrans-164
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure Media Services
- en: Azure Media Services offers a secure and high-quality service in order to stream
    content to all sorts of devices. It can stream videos or audio files and offers
    REST APIs to upload, store, and encode package content. Audios and videos can
    be delivered to clients, such as TVs, computers, and mobile devices using both
    on-demand streaming and live streaming.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Media Services 提供安全且高质量的服务，以便将内容流式传输到各种设备。它可以流式传输视频或音频文件，并提供 REST API
    来上传、存储和编码包内容。音频和视频可以通过按需流媒体或直播流传输到客户端，如电视、计算机和移动设备。
- en: 'Azure Media Services supports the following flow:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Media Services 支持以下流程：
- en: '**Upload**: You can upload your videos using the Azure Portal, .NET SDK, REST
    API, and you can copy files from Blob Storage.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**上传**：您可以通过 Azure 门户、.NET SDK、REST API 上传视频，也可以从 Blob 存储中复制文件。'
- en: '**Encode**:AMS offers two different encoding tiers, such as Media Encoder Standard
    and Media Encoder Premium Workflow. The former offers an encoding service which
    encodes video and audio files, which are suitable for playback on a variety of
    devices, such as smartphones and PCs. The latter offers encoding for video and
    audio files that require a more complex workflow. It offers a Workflow Designer
    tool, which can be used for combining multiple input files or to create decision-based
    workflows with dynamic values using parameters. It also supports formats that
    are required for broadcasting and movies.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**编码**：AMS提供两种不同的编码服务级别，如媒体编码器标准版和媒体编码器高级工作流版。前者提供编码服务，用于编码视频和音频文件，适用于多种设备播放，如智能手机和个人电脑。后者则为需要更复杂工作流的视频和音频文件提供编码服务。它还提供了一个工作流设计器工具，可以用于合并多个输入文件，或使用动态值和参数创建基于决策的工作流。它还支持广播和电影所需的格式。'
- en: '**Secure**: You can secure your media using dynamic encryption using the Advanced
    Encryption Standard (AES-128) or other major digital rights management (DRM) systems.
    It offers AES keys and DRM licenses to authorized clients as well. You can secure
    your Media Services Channels with IP restrictions, so users can only upload media
    content from allowed IP addresses, and you can access the Azure Media Services
    API with Azure AD authentication. AMS still supports the Azure Access Control
    service authentication model using tokens. However, this will be deprecated in
    the near future, so Azure AD authentication is the preferred authentication method
    now.'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安全**：您可以使用动态加密（如高级加密标准（AES-128）或其他主要数字版权管理（DRM）系统）来保护您的媒体。它还为授权客户端提供AES密钥和DRM许可证。您可以使用IP限制保护您的媒体服务频道，确保用户只能从允许的IP地址上传媒体内容，并且您可以使用Azure
    AD身份验证访问Azure Media Services API。AMS仍然支持使用令牌的Azure访问控制服务身份验证模型，但该模型将在不久的将来被弃用，因此Azure
    AD身份验证现在是首选的身份验证方法。'
- en: '**Analyze**:AMS offers Media Analytics in order to extract insights from media
    content. It offers a collection of speech and computer vision APIs from Azure
    Cognitive Services. This is described in the following section in more detail.'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分析**：AMS提供媒体分析服务，以从媒体内容中提取洞察力。它提供了一系列来自Azure Cognitive Services的语音和计算机视觉API。以下部分将更详细地描述这些内容。'
- en: Azure Media Analytics
  id: totrans-171
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure Media Analytics
- en: 'Azure Media Analytics uses various Cognitive Services APIs to analyze media
    content. It offers the following capabilities:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Media Analytics使用各种认知服务API来分析媒体内容。它提供以下功能：
- en: '**Indexer**: Using the Indexer, you can create closed-captioning tracks and
    make the media file searchable. By the time of writing, the Indexer offers two
    different versions of the service, where the Azure Media Indexer 2, which is still
    in preview, has faster indexing and broader language support.'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**索引器**：通过使用索引器，您可以创建闭幕字幕轨道，并使媒体文件可搜索。撰写本文时，索引器提供了两种不同版本的服务，其中Azure Media Indexer
    2（仍在预览中）具有更快的索引速度和更广泛的语言支持。'
- en: '**Hyperlapse**: This offers time lapse capabilities and capabilities to create
    stable videos from first person or action camera content.'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**延时摄影**：该功能提供延时摄影能力，并能够从第一人称或运动摄像机内容中创建稳定的视频。'
- en: '**Motion Detector**: This offers motion detection, which can be used on static
    camera footage to identify parts in the video where motion occurs. It generates
    a metadata file with timestamps of when the motion occurred. This is very useful
    for security camera footage.'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**运动检测器**：该功能提供运动检测，可以用于静态摄像头录像，识别视频中发生运动的部分。它生成一个元数据文件，包含运动发生的时间戳。此功能对于安全摄像头录像非常有用。'
- en: '**Video Summarization**: This can create summaries for videos by generating
    snippets from different sections of the video. These snippets can be placed as
    an overview of all the different sections of the video.'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**视频总结**：该功能可以通过生成来自视频不同部分的片段来为视频创建摘要。这些片段可以作为视频不同部分的概述。'
- en: '**Optical Character Recognition**: Azure Media optical character recognition
    (OCR) offers converting text content in videos into editable and searchable digital
    text. For instance, you can use this for making the content of videos of PowerPoint
    presentations searchable in search engines.'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**光学字符识别**：Azure Media光学字符识别（OCR）可以将视频中的文本内容转换为可编辑和可搜索的数字文本。例如，您可以使用此功能使PowerPoint演示文稿视频内容在搜索引擎中可搜索。'
- en: '**Scalable Face Redaction**: You can use scalable face redaction for blurring
    faces of individuals on video content automatically.'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可扩展的人脸遮挡**：您可以使用可扩展的人脸遮挡功能，自动模糊视频内容中的人物面孔。'
- en: '**Content Moderation**:Azure Content Moderator offers automatic moderator capabilities
    such as detecting possible adult and racy content in videos. It offers review
    tooling where automatic moderation can be used in conjunction with human involvement as
    well.'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内容审核**：Azure 内容审核提供自动审核功能，例如检测视频中的可能成人内容和敏感内容。它提供了审核工具，自动审核可以与人工参与结合使用。'
- en: Using the Azure Media Analytics Indexer
  id: totrans-180
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Azure 媒体分析索引器
- en: In the following example, we are going to create closed caption files for a
    video using the Azure Media Analytics Media Indexer. Microsoft recommends using
    Azure Media Analytics over the Video API from Cognitive Services, so that's what
    we are going to use here. We are going to use the speech to text feature of the
    Azure Media Indexer 2 Preview media processor (MP) to create subtitles for the
    video from a Console Application.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下示例中，我们将使用 Azure 媒体分析媒体索引器为视频创建字幕文件。微软建议使用 Azure 媒体分析，而不是使用认知服务的视频 API，因此我们将在此处使用
    Azure 媒体分析。我们将使用 Azure 媒体索引器 2 预览版媒体处理器（MP）的语音转文本功能，从控制台应用程序为视频创建字幕。
- en: For this example, you need to create a Media Service Account in the Azure Portal.
    For a complete walkthrough on how to create this, you can refer to: [https://docs.microsoft.com/en-us/azure/media-services/media-services-portal-create-account](https://docs.microsoft.com/en-us/azure/media-services/media-services-portal-create-account).
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本示例，你需要在 Azure 门户中创建一个媒体服务账户。有关如何创建账户的完整教程，请参阅：[https://docs.microsoft.com/en-us/azure/media-services/media-services-portal-create-account](https://docs.microsoft.com/en-us/azure/media-services/media-services-portal-create-account)。
- en: 'When the Azure Media Service account is created, you can copy the `PacktIndexer`
    folder from GitHub to your `C:` drive. You can download the video from the following
    website and put it inside the `InputFiles` folder together with the JSON file:
    [https://peach.blender.org/download/](https://peach.blender.org/download/). These
    files will be used for the example. Create a new folder named `OutputFiles` in
    the `PacktIndexer` folder as well.'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 创建 Azure 媒体服务账户后，可以将 `PacktIndexer` 文件夹从 GitHub 复制到 `C:` 驱动器。你可以从以下网址下载视频并将其与
    JSON 文件一起放入 `InputFiles` 文件夹中：[https://peach.blender.org/download/](https://peach.blender.org/download/)。这些文件将用于示例。还需要在
    `PacktIndexer` 文件夹中创建一个名为 `OutputFiles` 的新文件夹。
- en: Next, open up Visual Studio 2017 and create a new project.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，打开 Visual Studio 2017 并创建一个新项目。
- en: 'Click on File | New | Project, and in the New Project windows, select Console
    App. Name the project and click on OK:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **文件 | 新建 | 项目**，在新建项目窗口中选择 **控制台应用程序**。为项目命名并点击 **确定**：
- en: '![](img/ddbbf32e-e642-4bd4-b3fc-5d3cb79b7a7c.png)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ddbbf32e-e642-4bd4-b3fc-5d3cb79b7a7c.png)'
- en: Create a new Console Application
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个新的控制台应用程序
- en: Install the `windowsazure.mediaservices.extensions` and the `windowsazure.mediaservices`NuGet
    packages.
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装 `windowsazure.mediaservices.extensions` 和 `windowsazure.mediaservices` NuGet
    包。
- en: 'The first step is adding Azure AD authentication to the project. For this demo,
    we are using **Service principal authentication**.You can set this up easily in
    the Azure Portal in the access blade of the Azure Media Service Account settings:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一步是将 Azure AD 认证添加到项目中。对于本演示，我们使用 **服务主体认证**。你可以在 Azure 门户的 Azure 媒体服务账户设置的访问页面轻松完成此操作：
- en: '![](img/2fee99bf-ae84-498b-a3dc-2df2f8eca281.jpg)'
  id: totrans-190
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2fee99bf-ae84-498b-a3dc-2df2f8eca281.jpg)'
- en: Creating a App Service Principal
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个应用服务主体
- en: 'Copy the Azure AD tenant name, the API URL, client ID, and client secret from
    the Azure Portal and add them to the following code:'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 Azure 门户复制 Azure AD 租户名称、API URL、客户端 ID 和客户端密钥，并将它们添加到以下代码中：
- en: '[PRE7]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Add the following code to the `Main` method below the authentication code:'
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在认证代码下方的 `Main` 方法中添加以下代码：
- en: '[PRE8]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Add the following method for creating and running the `Index Job`:'
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加以下方法以创建和运行 `Index Job`：
- en: '[PRE9]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Add the following method in order to create the `Asset`:'
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加以下方法以创建 `Asset`：
- en: '[PRE10]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Add the following method for downloading the `Asset` after indexing:'
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加以下方法以在索引后下载 `Asset`：
- en: '[PRE11]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Add the following code for obtaining the `MediaProcessor` that processes the
    video:'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加以下代码以获取处理视频的 `MediaProcessor`：
- en: '[PRE12]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'At last, add the following code in order to display the process inside the
    console:'
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，添加以下代码以在控制台中显示进度：
- en: '[PRE13]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Run the App, and after indexing, you should have a `WebVtt` and `ttml` file
    in the `output` folder according to the values in the JSON input files.
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行应用程序，索引完成后，你应该会在 `output` 文件夹中根据 JSON 输入文件的值找到 `WebVtt` 和 `ttml` 文件。
- en: In this example, we have created closed caption files. You can call other methods
    for indexing the video as well. The following website provides you with some more
    examples for the other capabilities that are described earlier: [http://azuremedialabs.azurewebsites.net/demos/Analytics.html](http://azuremedialabs.azurewebsites.net/demos/Analytics.html).
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们创建了闭字幕文件。你也可以调用其他方法来为视频创建索引。以下网站为你提供了更多关于前面描述的其他功能的示例：[http://azuremedialabs.azurewebsites.net/demos/Analytics.html](http://azuremedialabs.azurewebsites.net/demos/Analytics.html)。
- en: Summary
  id: totrans-208
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 小结
- en: In this chapter, we covered how to design solutions using the various AI services
    that Azure offers. We covered Azure Machine Learning, IoT features, and Azure
    Media Services.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 本章我们讲解了如何利用 Azure 提供的各种 AI 服务来设计解决方案。我们涵盖了 Azure 机器学习、物联网功能和 Azure 媒体服务。
- en: In the next chapter, we are going to cover the different messaging capabilities
    that Azure provides and how to design effective messaging architectures.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将介绍 Azure 提供的不同消息传递功能以及如何设计有效的消息传递架构。
- en: Questions
  id: totrans-211
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Answer the following questions to test your knowledge of the information in
    this chapter. You can find the answers in the *Assessments* section at the end
    of this book.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 回答以下问题，测试你对本章内容的理解。你可以在本书末尾的*评估*部分找到答案。
- en: You are designing an IoT Solution using the IoT Hub that needs to process 5
    million events a day. Does the Standard S1 tier suit your needs?
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你正在使用 IoT Hub 设计一个需要处理每天 500 万个事件的 IoT 解决方案。标准 S1 级别是否符合你的需求？
- en: 'Yes'
  id: totrans-214
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 是
- en: 'No'
  id: totrans-215
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 否
- en: Does Azure Media Services use various Azure Cognitive Services APIs underneath?
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Azure 媒体服务是否在底层使用了各种 Azure 认知服务 API？
- en: 'Yes'
  id: totrans-217
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 是
- en: 'No'
  id: totrans-218
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 否
- en: Should you use Azure Event Hubs in scenario where bi-directional communication
    between Azure and devices is required?
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在需要 Azure 与设备之间进行双向通信的场景中，是否应该使用 Azure 事件中心？
- en: 'Yes'
  id: totrans-220
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 是
- en: 'No'
  id: totrans-221
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 否
- en: Further reading
  id: totrans-222
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'You can check the following links for more information about the topics that
    were covered in this chapter:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过以下链接了解更多关于本章所涉及主题的信息：
- en: '**Cognitive Services Directory**: [https://azure.microsoft.com/en-us/services/cognitive-services/directory/lang/](https://azure.microsoft.com/en-us/services/cognitive-services/directory/lang/)'
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**认知服务目录**：[https://azure.microsoft.com/en-us/services/cognitive-services/directory/lang/](https://azure.microsoft.com/en-us/services/cognitive-services/directory/lang/)'
- en: '**About Bot Service**: [https://docs.microsoft.com/en-us/bot-framework/bot-service-overview-introduction](https://docs.microsoft.com/en-us/bot-framework/bot-service-overview-introduction)'
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**关于 Bot 服务**：[https://docs.microsoft.com/en-us/bot-framework/bot-service-overview-introduction](https://docs.microsoft.com/en-us/bot-framework/bot-service-overview-introduction)'
- en: '**Introduction to Machine Learning in the Azure Cloud**: [https://docs.microsoft.com/en-us/azure/machine-learning/studio/what-is-machine-learning](https://docs.microsoft.com/en-us/azure/machine-learning/studio/what-is-machine-learning)'
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Azure 云中的机器学习简介**：[https://docs.microsoft.com/en-us/azure/machine-learning/studio/what-is-machine-learning](https://docs.microsoft.com/en-us/azure/machine-learning/studio/what-is-machine-learning)'
- en: '**What is Azure Machine Learning Studio?**: [https://docs.microsoft.com/en-us/azure/machine-learning/studio/what-is-ml-studio](https://docs.microsoft.com/en-us/azure/machine-learning/studio/what-is-ml-studio)'
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**什么是 Azure 机器学习工作室？**：[https://docs.microsoft.com/en-us/azure/machine-learning/studio/what-is-ml-studio](https://docs.microsoft.com/en-us/azure/machine-learning/studio/what-is-ml-studio)'
- en: '**Share and discover resources in the Azure AI Gallery**: [https://docs.microsoft.com/en-us/azure/machine-learning/studio/gallery-how-to-use-contribute-publish](https://docs.microsoft.com/en-us/azure/machine-learning/studio/gallery-how-to-use-contribute-publish)'
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在 Azure AI 画廊中共享和发现资源**：[https://docs.microsoft.com/en-us/azure/machine-learning/studio/gallery-how-to-use-contribute-publish](https://docs.microsoft.com/en-us/azure/machine-learning/studio/gallery-how-to-use-contribute-publish)'
- en: '**Azure Machine Learning WorkBench**: [https://blogs.msdn.microsoft.com/uk_faculty_connection/2017/09/29/azure-machine-learning-workbench/](https://blogs.msdn.microsoft.com/uk_faculty_connection/2017/09/29/azure-machine-learning-workbench/)'
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Azure 机器学习工作台**：[https://blogs.msdn.microsoft.com/uk_faculty_connection/2017/09/29/azure-machine-learning-workbench/](https://blogs.msdn.microsoft.com/uk_faculty_connection/2017/09/29/azure-machine-learning-workbench/)'
- en: '**Azure Machine Learning Studio Algorithm and Module Reference**: [https://docs.microsoft.com/en-us/azure/machine-learning/studio-module-reference/index](https://docs.microsoft.com/en-us/azure/machine-learning/studio-module-reference/index)'
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Azure 机器学习工作室算法与模块参考**：[https://docs.microsoft.com/en-us/azure/machine-learning/studio-module-reference/index](https://docs.microsoft.com/en-us/azure/machine-learning/studio-module-reference/index)'
- en: '**Azure IoT Suite**: [https://azure.microsoft.com/en-us/suites/iot-suite/](https://azure.microsoft.com/en-us/suites/iot-suite/)'
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Azure IoT 套件**: [https://azure.microsoft.com/en-us/suites/iot-suite/](https://azure.microsoft.com/en-us/suites/iot-suite/)'
- en: '**Overview of the Azure IoT Hub service**: [https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-what-is-iot-hub](https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-what-is-iot-hub)'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Azure IoT Hub 服务概述**: [https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-what-is-iot-hub](https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-what-is-iot-hub)'
- en: '**Event Hubs Documentation**: [https://docs.microsoft.com/en-us/azure/event-hubs/](https://docs.microsoft.com/en-us/azure/event-hubs/)'
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**事件中心文档**: [https://docs.microsoft.com/en-us/azure/event-hubs/](https://docs.microsoft.com/en-us/azure/event-hubs/)'
- en: '**Azure IoT Edge**: [https://docs.microsoft.com/en-us/azure/iot-edge/](https://docs.microsoft.com/en-us/azure/iot-edge/)'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Azure IoT Edge**: [https://docs.microsoft.com/en-us/azure/iot-edge/](https://docs.microsoft.com/en-us/azure/iot-edge/)'
- en: '**Stream Analytics Documentation**: [https://docs.microsoft.com/en-us/azure/stream-analytics/](https://docs.microsoft.com/en-us/azure/stream-analytics/)'
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**流分析文档**: [https://docs.microsoft.com/en-us/azure/stream-analytics/](https://docs.microsoft.com/en-us/azure/stream-analytics/)'
- en: '**Azure Time Series Insights**: [https://docs.microsoft.com/en-us/azure/time-series-insights/](https://docs.microsoft.com/en-us/azure/time-series-insights/)'
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Azure 时间序列洞察**: [https://docs.microsoft.com/en-us/azure/time-series-insights/](https://docs.microsoft.com/en-us/azure/time-series-insights/)'
- en: '**Media Services Documentation**: [https://docs.microsoft.com/en-us/azure/media-services/](https://docs.microsoft.com/en-us/azure/media-services/)'
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**媒体服务文档**: [https://docs.microsoft.com/en-us/azure/media-services/](https://docs.microsoft.com/en-us/azure/media-services/)'
