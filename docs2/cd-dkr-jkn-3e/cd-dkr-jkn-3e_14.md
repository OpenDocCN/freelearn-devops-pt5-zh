# *评估*

在接下来的页面中，我们将回顾每一章的所有实践题并提供正确答案。

本书中的章节并提供正确答案。

# *第一章*: 介绍持续交付

1.  开发、质量保证、运维。

1.  持续集成、自动化验收测试、配置管理。

1.  快速交付、快速反馈周期、低风险发布、灵活的发布选项。

1.  单元测试、集成测试、验收测试、非功能性测试（性能、安全性、可扩展性等）。

1.  单元测试，因为它们创建/维护成本低且执行速度快。

1.  DevOps 是将开发、质量保证和运维这三个领域结合成一个团队（或一个人）的理念。得益于自动化，产品可以从头到尾地提供。

1.  Docker、Jenkins、Ansible、Terraform、Git、Java、Spring Boot、Gradle、Cucumber、Kubernetes。

# *第二章*: 介绍 Docker

1.  容器化并不模拟整个操作系统，而是使用宿主操作系统。

1.  提供应用程序作为 Docker 镜像的好处如下：

    1.  **没有依赖问题**：应用程序与其依赖项一起提供。

    1.  **隔离性**：应用程序与同一台机器上运行的其他应用程序相互隔离。

    1.  **可移植性**：无论存在什么环境依赖，应用程序都能在任何地方运行。

1.  不，Docker 守护进程只能在 Linux 主机上原生运行。然而，Windows 和 Mac 上有很好集成的虚拟环境。

1.  Docker 镜像是一个无状态的、序列化的文件集合，并附带了如何使用它们的说明；Docker 容器是 Docker 镜像的运行实例。

1.  Docker 镜像是建立在另一个 Docker 镜像之上的，这样就形成了分层结构。这个机制对用户友好，并节省了带宽和存储。

1.  Docker Commit 和 Dockerfile。

1.  `docker build`。

1.  `docker run`。

1.  发布端口意味着将主机的端口转发到容器的端口。

1.  Docker 卷是 Docker 主机的目录，挂载在容器内部。

# *第三章*: 配置 Jenkins

1.  是的，镜像名称是`jenkins/jenkins`。

1.  Jenkins 主节点是调度任务并提供 web 界面的主要实例，而 Jenkins 从节点（代理）是专门执行任务的附加实例。

1.  垂直扩展意味着在负载增加时向机器添加更多资源；水平扩展意味着在负载增加时添加更多机器。

1.  SSH 和 Java Web Start。

1.  永久代理是最简单的解决方案，它意味着创建一个静态服务器，并为执行 Jenkins 作业准备好所有环境。另一方面，永久 Docker 代理更灵活；它提供了 Docker 守护进程，所有作业都在 Docker 容器内执行。

1.  如果你使用动态配置的 Docker 代理，并且标准代理（互联网上可用的）无法提供你所需的执行环境。

1.  当组织需要不同团队使用某些模板化的 Jenkins 时。

1.  Blue Ocean 是一个 Jenkins 插件，提供了更现代化的 Jenkins Web 界面。

# *第四章*：持续集成流水线

1.  流水线是一系列自动化操作，通常表示软件交付和质量保证过程的一部分。

1.  步骤是单个自动化操作，而阶段是用于可视化 Jenkins 流水线过程的逻辑步骤组合。

1.  `post` 部分定义了一系列在流水线构建结束时执行的步骤指令。

1.  检出、编译和单元测试。

1.  Jenkinsfile 是一个包含 Jenkins 流水线定义的文件（通常与源代码一起存储在仓库中）。

1.  代码覆盖阶段负责检查源代码是否有良好的（单元）测试覆盖。

1.  外部触发器是外部仓库（如 GitHub）对 Jenkins 主节点的调用，而 SCM 定期轮询是 Jenkins 主节点对外部仓库的周期性调用。

1.  电子邮件、群聊、构建仪表板、短信、RSS 订阅。

1.  基于 trunk 的工作流、分支工作流和分叉工作流。

1.  功能开关是一种技术，用于在测试时禁用用户的某些功能，但仍然允许开发人员使用这些功能。功能开关本质上是用于条件语句中的变量。

# *第五章*：自动化验收测试

1.  Docker Registry 是一个无状态的应用服务器，用于存储 Docker 镜像。

1.  Docker Hub 是最著名的公共 Docker 仓库。

1.  约定是 `<registry_address>/<image_name>:<tag>`。

1.  Staging 环境是专门用于集成和验收测试的预生产环境。

1.  以下命令：`docker build`、`docker login` 和 `docker push`。

1.  它们允许我们以人类可读的格式指定测试，有助于业务和开发人员之间的协作。

1.  验收标准（功能场景规范）、步骤定义、测试运行器。

1.  验收测试驱动开发是一种开发方法论（被视为 TDD 的扩展），它要求始终从（失败的）验收测试开始开发过程。

# *第六章*：使用 Kubernetes 进行集群化

1.  服务器集群是一组相互连接的计算机，它们协同工作，可以在单一系统内以类似的方式使用。

1.  Kubernetes 节点只是一个工作节点，也就是运行容器的主机。Kubernetes 控制平面主节点负责其他所有任务（提供 Kubernetes API、Pod 协调等）。

1.  Microsoft Azure、Google Cloud Platform 和 Amazon Web Services。

1.  部署是一个 Kubernetes 资源，负责 Pod 的编排（创建、终止等）。服务是一个（内部）负载均衡器，提供了一种暴露 Pod 的方式。

1.  `kubectl scale`。

1.  Docker Swarm 和 Mesos。

# *第七章*：使用 Ansible 进行配置管理

1.  配置管理是控制配置变更的过程，确保系统随时间保持完整性。

1.  无代理意味着你不需要在被管理的服务器上安装任何特殊的工具（代理或守护进程）。

1.  Ansible、Chef 和 Puppet。

1.  库存是一个包含由 Ansible 管理的服务器列表的文件。

1.  临时命令是在服务器上执行的单个命令，而剧本是完整的配置（脚本集合），在服务器上执行。

1.  Ansible 角色是一个结构良好的剧本，可以包含在其他剧本中。

1.  Ansible Galaxy 是一个 Ansible 角色的存储库（仓库）。

1.  基础设施即代码是管理和配置计算资源的过程，而不是物理硬件配置。

1.  Terraform、AWS CloudFormation、Azure 资源管理器、Google Cloud 部署管理器、Ansible、Chef、Puppet、Pulumi、Vagrant。

# *第八章*：持续交付流水线

1.  生产、预生产、质量保证、开发。

1.  预生产环境是用来在发布前测试软件的环境；质量保证（QA）是一个由 QA 团队和依赖应用使用的独立环境。

1.  性能、负载、压力、可扩展性、耐久性、安全性、可维护性、恢复。

1.  不，应该明确哪些是流水线的一部分，哪些不是（对于那些不是的部分，仍然应该有一些自动化和监控）。

1.  语义版本控制、基于时间戳、基于哈希。

1.  烟雾测试是验收测试的一个非常小的子集，唯一目的是检查发布过程是否成功完成。

# *第九章*：高级持续交付

1.  数据库架构迁移是对关系数据库结构进行增量更改的过程。

1.  Flyway、Liquibase、Rails 迁移（来自 Ruby on Rails）、Redgate、Optima 数据库管理员。

1.  向后兼容和非向后兼容。

1.  如果一个数据库被多个服务共享，那么每次数据库变更必须与所有服务兼容，这使得发起变更变得非常困难。

1.  单元测试不需要准备任何特殊数据；数据存在内存中，并由开发人员准备；集成/验收测试需要准备类似生产数据的特殊数据。

1.  并行。

1.  构建参数和共享库。

1.  输入。

1.  滚动更新、蓝绿部署和金丝雀发布。
