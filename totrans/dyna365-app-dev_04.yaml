- en: Define Business Rules Using Business Rule Designer
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the previous chapter, we saw how the new Visual Process Designer can be used
    to create business process flows using the drag-and-drop capabilities. In this
    chapter, we will see how the same visual drag-and-drop process designer can be
    used to create business rules. Business rules were first introduced in Dynamics
    CRM 2013\. Basically, business rules let's define rules such as setting fields
    to required/not required, show/hide fields, lock/unlock fields, and so on—that
    is, conditions and actions on our CRM Form/Entity easily through an intuitive
    interface, for which we had to write either JavaScript or develop plugins earlier.
    Business rules were enhanced further in a subsequent version of Dynamics CRM.
    With Dynamics 365, the Business Rules Designer interface has been completely revamped,
    with capabilities of dragging and dropping components, along with additional features
    such as Minimap, Snapshot, and so on.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will be covering the following points:'
  prefs: []
  type: TYPE_NORMAL
- en: Overview of business rules in Dynamics 365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Understand the different components and how to use them in the new Business
    Rule Designer
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Implement new recommendation actions introduced in Dynamics 365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Other features of the Business Rule Designer
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Evolution of business rules
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As mentioned earlier, business rules were first introduced in CRM 2013\. It
    provided a simple declarative interface through which the system customizer, developer,
    or a power user can easily create validations and business rules without writing
    a single line of code. The business rule interface consisted of a set of conditions, actions
    to be taken when those conditions were met, along with a description as a convention
    to understand what the business rule does.
  prefs: []
  type: TYPE_NORMAL
- en: With CRM 2015, many of the limitations of CRM 2013 were addressed. Business
    rules in CRM 2013 were restricted to run only on the client side. For the server
    side, writing a plugin or any other custom code was still required. This was addressed
    in CRM 2015 by adding a new option named Entity in Scope. The business rule with
    a scope as Entity will run both on the client side and server side.
  prefs: []
  type: TYPE_NORMAL
- en: For the Entity scope, if a rule is triggered from forms either during the creation
    or updating of a record, the rule will first run on the client side and then again
    on the server side. Therefore, a rule having an action such as Set Sales Amount
    to Sales Amount + 10 will result in a rule validation failure as it will a create
    a cyclical reference.
  prefs: []
  type: TYPE_NORMAL
- en: The second biggest update to business rules in CRM 2015 was the support for
    `if...else` conditions and the possibility of combining multiple expressions in
    a condition using `AND`/`OR` logic. In CRM 2013, to define a simple rule having
    an `else` condition, we had to write two business rules.
  prefs: []
  type: TYPE_NORMAL
- en: In business rules, an expression in a condition can only be combined using either
    `AND` condition or using `OR` condition, but not both.
  prefs: []
  type: TYPE_NORMAL
- en: 'For example, a rule such as in the Contact form, If Martial Status field has
    value Married then make Spouse/Partner Name field as Business Required, else set
    its requirement level as `none`. Here, we would have ended up writing two business
    rules, one for making the Business Required field and the other for setting its
    requirement level as `none`. With the support of `if...else` statements since
    CRM 2015, we now just need to write a single business rule, shown as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/68fc3a80-68a9-42ba-bfc5-854209c50df3.png)'
  prefs: []
  type: TYPE_IMG
- en: Another update in CRM 2015 was the addition of the new action named Set default
    value for setting the default value of the field.
  prefs: []
  type: TYPE_NORMAL
- en: 'Different action in CRM 2013\. The following screenshot shows different actions
    that are available in Dynamics 2013:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/4a1c3994-cb92-409d-adf4-dbcf6000624e.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Different action in CRM 2015 (with new Set default value action). The following
    screenshot shows different actions that are available in Dynamics 2015 include
    the new Set Default value action:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6cc28a60-8d1f-4fae-9281-25a6d30fc20b.png)'
  prefs: []
  type: TYPE_IMG
- en: CRM 2015, along with the action of setting a default value for a field, also
    brought the feature of clearing the value of a field through business rules.
  prefs: []
  type: TYPE_NORMAL
- en: 'The next release, CRM 2016, added the ability to invoke a business rule based
    on business process flow properties. Shown as follows, we have defined both the
    Business Process rule and active stage rule in the conditions; that is, if Business
    Process equals Opportunity Sales Process and Active Stage is Propose. The following
    screenshot shows the usage of business process flow while defining business rule:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c390dc6f-7507-408b-bf14-1f762a35e788.png)'
  prefs: []
  type: TYPE_IMG
- en: Similar to the active stage rule, we could define a condition based on the selected
    stage rule in CRM 2016.
  prefs: []
  type: TYPE_NORMAL
- en: Creating business rules based on business process flows is detailed at [https://msdn.microsoft.com/en-us/library/mt639372.aspx](https://msdn.microsoft.com/en-us/library/mt639372.aspx).
  prefs: []
  type: TYPE_NORMAL
- en: With the December 2016 update for Dynamics 365, we now have a newly updated
    editor for defining business rules, a new action called Recommendation, along
    with some new features.
  prefs: []
  type: TYPE_NORMAL
- en: In this section, we covered the journey of business rules from CRM 2013 to CRM
    2016\. Now, let us have a look at the new Business Rule Designer and all the components
    inside Dynamics 365 in detail.
  prefs: []
  type: TYPE_NORMAL
- en: Getting to know the new Business Rule Designer
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To have a quick look at the new designer, open any entity for customization
    and select Business Rules on the left navigation and click on the New button.
    This will open up the new Business Rule Designer introduced in Dynamics 365 with
    a completely new look and feel. The new designer allows us to add a component
    such as conditions and actions using the drag-and-drop feature:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/ff7aeff4-c381-425d-b43f-48bcd6a54462.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The key point to remember here is that the business rules are still the same
    fundamentally; it is only the editor for it that has been updated. We still have
    the same options available for Scope that we had; that is, Entity, All Forms,
    and the individual forms for that entity:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/0bdbcb83-600a-47e9-849c-eca7c20e64f0.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Let us pause and do a quick recap of the Scope:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Scope type** | **Description** |'
  prefs: []
  type: TYPE_TB
- en: '| Entity | The business rule runs on all forms of the Entity including Quick
    Create and server-side. |'
  prefs: []
  type: TYPE_TB
- en: '| All Forms | The business rule runs on all forms of the Entity including Quick
    Create. |'
  prefs: []
  type: TYPE_TB
- en: '| **Specific Form (information, account, and so on)** | The business rule runs
    only on that specific form of the Entity. |'
  prefs: []
  type: TYPE_TB
- en: The Business Rule Designer's components are basically grouped into Flow and
    Actions.
  prefs: []
  type: TYPE_NORMAL
- en: Condition components come under Flow and the various actions that are available
    are Recommendation, Show Error Message, Set Default Value, Set Visibility, Lock/Unlock,
    Set Field Value, and Set Business Required.
  prefs: []
  type: TYPE_NORMAL
- en: The Recommendation is a new action added in Dynamics 365, using which we can
    suggest that the user perform an activity based on some condition. We will cover
    it in detail in the up coming sections.
  prefs: []
  type: TYPE_NORMAL
- en: The new designer also allows for the searching of these components. The search
    is of type instant search, which shows the result while we are still typing in
    the search box.
  prefs: []
  type: TYPE_NORMAL
- en: 'For example, typing in set in the search box shows the actions with set in
    their names in the drop-down, and also filters the visible components:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/e7566885-056e-4542-8c52-7def63d0826f.png)'
  prefs: []
  type: TYPE_IMG
- en: Every component—that is Condition and Action, has its specific set of properties.
    Before we look at the properties of each of these components, let us see how we
    can add these components in the Business Rule Designer canvas.
  prefs: []
  type: TYPE_NORMAL
- en: Specifying conditions using condition components
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: While creating a new business rule, the business rule designer opens with a
    single condition already added.
  prefs: []
  type: TYPE_NORMAL
- en: 'To add more conditions, we can click on the Add button on the toolbar and select
    Add Condition:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/81e6fa18-cd4e-4849-959f-008e5f5e6992.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The other option is to drag and drop the condition component from the Components
    tab into the designer canvas. Selecting the condition in the designer will show
    the properties specific to the condition component in the Properties tab:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6b6219b7-a228-4556-9b25-b5ca8f3a648b.png)'
  prefs: []
  type: TYPE_IMG
- en: Let us look at some of the properties of the condition component.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/939bf1e8-5225-4dcf-91e7-c563f1efa7fb.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Clicking on + New adds a new rule to the rules section. For example, Rule 2
    in the following image:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/cef6945c-17fe-414a-b10d-1ca2a14688ee.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The following image shows the Rule Logic and the Condition Expression (Text
    View) property inside the properties tab. The Apply button applies the condition
    and the Discard button can be used to **undo** the last action performed, similar
    to the *Ctrl* + *Z* command:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/66a56771-1287-43ed-96b7-4743cbcd53e9.png)'
  prefs: []
  type: TYPE_IMG
- en: Now, let us have a look at the properties of the different type of actions available
    for business rules.
  prefs: []
  type: TYPE_NORMAL
- en: Taking actions for conditions using action components
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'An action can be added in the same way as a condition, by clicking on the Add
    button on the toolbar and selecting the action that we want to add. The action
    can also be added by dragging it from the Components tab and associating it to
    a condition, shown as follows. Here, we have dragged the Show Error Message action
    from Components tab and linked it to our existing New Condition:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/8d9f926d-2e58-4316-b9c8-f2e1efff4b7a.png)'
  prefs: []
  type: TYPE_IMG
- en: 'This adds the Show Error Message action to the condition:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/1815f67d-02e5-4254-8355-41c0fc848cc3.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Let us now have a look at the properties of all the different actions available:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Lock/Unlock: This action can be used to define whether a field needs to be
    locked or unlocked:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/6d496a42-144b-4e07-b971-74591bafc4fc.png)'
  prefs: []
  type: TYPE_IMG
- en: 'This is how the locked field Probability will display inside the opportunity
    form:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/47c44d00-93fe-4877-9a1c-f7ef169d7067.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Show Error Message: This action can be used to show the error message on a
    particular field:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/7c2cb03c-3b32-4a53-b3e3-b523e6aa6246.png)'
  prefs: []
  type: TYPE_IMG
- en: 'This is how the error message shows up inside opportunity form. Hovering over
    the red cross icon shows the error message:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/427c3d97-f28e-4845-9797-811473f6c0c6.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Set Field Value: The Set Field Value action can be used to define a value for
    a field. The value can be set using the following options. Based on the field''s
    data type, the options will vary:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/32020ad5-7ca6-4d71-8145-b8c32f66f86b.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Value: This can be used to specify the field''s value directly'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Field: This can be used to specify the field''s value to another field''s value'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Formula: This can be used to specify the field''s value by applying a formula
    (this option is available for the Date Time, Whole Number, and Decimal fields)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Clear: This clears the field''s value (this option is not available for the
    boolean and option set fields)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For example, we can use the Set Field Value action to define a rule that sets
    the estimated close date to be 100 days from the day the opportunity is created
    using formula, shown as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/8d6f1b5c-ecd0-4ae5-8ce9-8f6721c2d26b.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Set Business Required: The Set Business Required action can be used to set
    a field to be either Business Required or non-mandatory:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/3f39ea08-7aad-46b9-b100-d0185f37dad1.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Set Visibility: The Set Visibility section can be used to show or hide the
    field:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/8f8d62e2-b4b6-4dde-9dac-cceba6b44e9c.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Recommendation: As we saw earlier, Recommendation is a new action introduced
    in Dynamics 365\. The different properties of Recommendation are:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/f3584baa-1cf1-4279-a5b0-89edd2f6919a.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Recommendation is a special type of action, which itself has an Actions inside
    it:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/093d8f4e-d96d-4ef5-ac93-74c979ab8e46.png)'
  prefs: []
  type: TYPE_IMG
- en: 'This Actions is of type Set Field Value:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/7f33681f-9b4b-49b1-9e49-5eca47b0dbde.png)'
  prefs: []
  type: TYPE_IMG
- en: It is the same Set Field Value action that we covered earlier. To see all the
    components in action, let us implement a recommendation business rule.
  prefs: []
  type: TYPE_NORMAL
- en: Recommendation in action
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now we have some basic understanding of different properties of the recommendation
    action and the different components of the Business Rule Designer, let us implement
    a scenario to see them in action. The scenario we will implement would be, for
    an example, if the Sales Stage selected is Propose, we would recommend the user
    to set the probability as `80`.
  prefs: []
  type: TYPE_NORMAL
- en: Let us implement it step by step.
  prefs: []
  type: TYPE_NORMAL
- en: 'There are four ways of creating a new Business Rule in CRM:'
  prefs: []
  type: TYPE_NORMAL
- en: 'At Field Level:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Open the Entity for customization
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Click and open the field
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Select Business Rule in the left navigation and click on New to create a new
    business rule:'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/80066f73-e6bf-403b-ba1c-9fdaeafd1a88.png)'
  prefs: []
  type: TYPE_IMG
- en: 'At Entity level:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Open the Entity for customization
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Select Business Rule in the left navigation and click on New to create a new
    business rule:'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/a2ae6e5f-487a-410e-bcd6-057938b41115.png)'
  prefs: []
  type: TYPE_IMG
- en: 'From form:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Open the form for customization. Click on the Business Rules ribbon button:'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/a3b5e2bc-d96c-416f-bc4e-56cab9c09076.png)'
  prefs: []
  type: TYPE_IMG
- en: 'This opens the Business Rule Explorer on the right panel of the form, which
    lets us create a new business rule by clicking on the New Business Rule button:'
  prefs:
  - PREF_OL
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/616ec5e2-0d40-4096-8d54-a8e599de45d6.png)'
  prefs: []
  type: TYPE_IMG
- en: Another way that we can define the business rule from within the Form is by
    opening the form for customization, double-clicking on any of the fields or selecting
    any of the fields, and clicking on the Change Properties ribbon button to open
    the Field Properties dialog box. We can then select the Business Rule tab and
    click on New to create a new business rule.
  prefs:
  - PREF_OL
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Coming back to our scenario, let''s select Opportunity entity for customization
    and create a new business rule with the following details:'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '| **Rule name** | Recommendation for Sales Stage. |'
  prefs: []
  type: TYPE_TB
- en: '| **Description** | Recommend probability to be 80 for Sales Stage - Proposed.
    |'
  prefs: []
  type: TYPE_TB
- en: 'Select the condition component and define the rule *When Sales Stage equals
    to Propose*, shown as follows, in the Properties tab:'
  prefs:
  - PREF_OL
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/68da0680-9594-41d1-a3f0-69a717ef9e0e.png)'
  prefs: []
  type: TYPE_IMG
- en: Click on Apply to apply the condition
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, we need to add a Recommend Action to this condition
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Either click on the Add button on the toolbar or drag the Recommendation action
    from the Components tab:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/a25ad221-371d-403f-a168-275d5a509ae4.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Select the Recommendation action and define its properties, shown as follows,
    and click on Apply:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/62928df5-171f-473d-98b7-617bb52480c8.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Next, we need to define the Action (Set Field Value) that is part of Recommendation.
    For this, select the New Action section within Recommendation:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/0e4b7945-a1ef-41e0-b8ae-ce183324a10c.png)'
  prefs: []
  type: TYPE_IMG
- en: 'We will define the action as `Set probability field value as 80`, shown as
    follows, and click on Apply:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/994f6661-d828-4bf8-9dcf-1b3cd3abaf7f.png)'
  prefs: []
  type: TYPE_IMG
- en: 'This is how our final rule will look inside the designer canvas. Click on Save
    to save the rule; it will also validate the rule for any errors. We can also click
    on Validate to validate our rule at any point, while we are still defining it:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/8ca5aa22-8ccf-4571-8ad3-b6ff71ff06b6.png)'
  prefs: []
  type: TYPE_IMG
- en: On successful validation, we will get a Validation Successful message.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/452f30c4-7097-45c6-ad83-553f43416d34.png)'
  prefs: []
  type: TYPE_IMG
- en: 'In the case of any error, the Validate will show the error message, shown as
    follows, highlighted in red. We can check the properties tab to figure out the
    cause of the error. Before we can save and publish the business rule, we need
    to fix all the errors:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6b796b13-9eb0-4af8-8b80-6306257a685f.png)'
  prefs: []
  type: TYPE_IMG
- en: Next, we need to click on Activate to activate the rule.
  prefs: []
  type: TYPE_NORMAL
- en: 'To see the business rule in action, we need to open the opportunity record
    and set the value of sales stage to Propose:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/57b3bb4e-9617-4df8-b76b-f5c19c312fc8.png)'
  prefs: []
  type: TYPE_IMG
- en: 'This shows the information icon next to the Probability field. Clicking on
    it opens the Recommendation box with the recommendation title and details that
    we set earlier:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/17c163e1-461a-48c3-b00a-d1663f44ba2c.png)'
  prefs: []
  type: TYPE_IMG
- en: 'We can click on the Dismiss button to close the recommendation dialog box.
    Clicking on Apply will update the probability value to 80, as we had defined it
    in the Set Field Value Action, shown as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/b1255e60-449a-4b43-b45f-206a7dbb6138.png)'
  prefs: []
  type: TYPE_IMG
- en: So, now we have implemented our Recommendation rule. Now, let us cover other
    additional features of the Business Rule Designer in the next section.
  prefs: []
  type: TYPE_NORMAL
- en: Additional features of Business Rule Designer
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Apart from the provision of creating rules, there are some additional features
    introduced in the new Business Rule Designer, let us have a quick look at those
    new features.
  prefs: []
  type: TYPE_NORMAL
- en: Cut, copy, and paste the component
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The toolbar within the Business Rule Designer gives the option to cut, copy,
    paste, and delete the component.
  prefs: []
  type: TYPE_NORMAL
- en: 'To cut or copy the component, select the component and press the Cut or Copy
    button in the toolbar. Or, we can also use our keyboard shortcuts (*CTRL* + *C* or
    *CTRL* + *X*) to copy or cut:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/77cdd192-3602-450a-a128-23b5df604c9a.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Clicking on Paste (or *CTRL* + *V*) shows the different area with the + symbol
    where the copied component can be added:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/614e1a4e-6d4a-422a-bf4c-454070b229f5.png)'
  prefs: []
  type: TYPE_IMG
- en: Clicking on + adds the copied component to that specific location.
  prefs: []
  type: TYPE_NORMAL
- en: Deleting the component
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: To delete the component, just select the component and click on the Delete button
    (or press *CTRL* + *X*) on the toolbar. This will open a Confirm Deletion dialog
    box.
  prefs: []
  type: TYPE_NORMAL
- en: Clicking on OK on the Confirm Deletion dialog box removes the component.
  prefs: []
  type: TYPE_NORMAL
- en: Taking a snapshot of the business rule
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Clicking on the Snapshot button on the toolbar saves the current state of the
    business rule as an image file:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/d96dbfcc-a09a-47ec-aabe-5f2f6af2bada.png)'
  prefs: []
  type: TYPE_IMG
- en: The file is saved with the name of the business rule with the `.png` extension.
  prefs: []
  type: TYPE_NORMAL
- en: Set zoom level and Fit to Canvas for ease of readability
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We can set the zoom level of the Business Rule Designer by clicking the - and
    + lenses. The third option is for Fit to Canvas, which makes the business rule
    definition auto-adjust to fit the Business Rule Designer canvas:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/b4c797cc-e58a-4a92-be82-f456fdd78f0d.png)'
  prefs: []
  type: TYPE_IMG
- en: Navigating easily using Minimap
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The Business Rule Designer canvas also has Minimap component that gives a mini
    view of the designed business rules:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/cfbadd2d-d688-4b3d-812a-9caa592a4555.png)'
  prefs: []
  type: TYPE_IMG
- en: 'It also allows to easily navigate inside the designer canvas. Using Minimap,
    we have easily scrolled to the bottom-right corner of our business rule definition
    inside the designer where we have the Lock/Unlock action component, shown as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c9227520-3643-492c-9dce-2e4cfe891a13.png)'
  prefs: []
  type: TYPE_IMG
- en: Using Business Rule (Text View) to read through the business rule
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Business Rule (Text View) component inside the designer canvas displays
    the text view of the rule defined.
  prefs: []
  type: TYPE_NORMAL
- en: 'For the Recommendation rule that we defined earlier:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6e4f4ad3-fa6f-4d21-98b2-2ee2290f8763.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The Business Rule (Text View) will show the following content:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/4908e2e3-6011-4011-87be-e5f896caaea4.png)'
  prefs: []
  type: TYPE_IMG
- en: A few key points about business rules
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The following are important points regarding business rules that we need to
    consider before we decide on using them:'
  prefs: []
  type: TYPE_NORMAL
- en: We cannot use the business rule to hide tabs and sections of a form.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `OnChange` event of the field will not be triggered if that field's value
    is set using a business rule.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There is a limitation of 10 `if...else` conditions in a business rule.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The business rule will not run if it references a field that is not in the form.
    It will not show any error message.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The business rule, if not defined with Scope as Entity, will run only during
    the load of the form and when the value of a field changes. It will not run on
    save of the form.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Business rules run in order of their activation. So, if we have multiple interrelated
    business rules defined for an Entity, the business rule that was activated first
    will run first followed by the other business rule in order of their activation.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If we have both JavaScript and business rules defined for a specific field,
    JavaScript will be executed first.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Business rules don't support whole number fields with the TimeZone, Duration,
    or Language formats.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Business rules are cached for Dynamics 365 for tablets app, when that app is
    opened. So, for any change to be reflect, the app needs to be closed and re-opened.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we covered how business rules have evolved starting from CRM
    2013 to Dynamics 365\. We have an entirely new designer that makes it more intuitive
    to write and define business rules. We also had a detailed look at the new Recommendation
    action that was added in Dynamics 365 along with a host of new features.
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we will look at Microsoft PowerApps and how it can be used
    to create custom business apps.
  prefs: []
  type: TYPE_NORMAL
