- en: Chapter 2. User Management
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: A collaboration tool such as Confluence is nothing without its users, using
    the tool for collaboration. In this chapter we will learn different ways to add
    users to our Confluence instance and learn how to manage those users.
  prefs: []
  type: TYPE_NORMAL
- en: We will also learn that in a corporate situation, where user management often
    already exists, it is very easy to configure Confluence to make use of that existing
    user infrastructure.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter we will cover:'
  prefs: []
  type: TYPE_NORMAL
- en: Manually adding users to Confluence
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Inviting users
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Administrating your users
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Managing user groups
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Connecting to an external user directory
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Understanding authentication
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Authentication in Confluence takes place at different levels within the application,
    for example, when retrieving information from the database or when displaying
    this information on a Confluence page. The technology that is used depends on
    the request made to Confluence or your configuration. The following are a few
    examples of authentication technologies.
  prefs: []
  type: TYPE_NORMAL
- en: Password authentication
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Password authentication is, by default, delegated from Seraph to the user management
    system. If you use a **Single sign-on** (**SSO**) system this might not be necessary.
    The authenticator gets all the necessary credentials from your SSO provider.
  prefs: []
  type: TYPE_NORMAL
- en: Seraph
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Seraph is an open source framework developed by Atlassian and almost all authentication
    in Confluence is done using this framework. The goal of Seraph is to provide a
    simple, extensible authentication system that can be used on any application server.
  prefs: []
  type: TYPE_NORMAL
- en: Seraph is implemented as a filter. Filters dynamically intercept every authentication
    request and response to your application and use and transforms the information
    in the request or response. The purpose of Seraph is to associate the request
    with a particular user (or no user if the request is anonymous). Seraph supports
    HTTP Basic Authentication and form-based authentication, and can look up credentials
    already stored in the user's session.
  prefs: []
  type: TYPE_NORMAL
- en: Seraph itself isn't used for user management. It only checks the credentials
    of the incoming requests and delegates any user management functions, including
    finding the users and checking a user's password.
  prefs: []
  type: TYPE_NORMAL
- en: If you want to integrate Confluence with your own SSO infrastructure, you can
    write your own Seraph authenticator. See [http://docs.atlassian.com/atlassian-seraph](http://docs.atlassian.com/atlassian-seraph)
    for more information on Seraph.
  prefs: []
  type: TYPE_NORMAL
- en: Adding users
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are a couple of options available for adding users to your Confluence
    installation. The options do not exclude each other so it's possible to use them
    all, depending on your installation and how open your Confluence should be to
    the outside world.
  prefs: []
  type: TYPE_NORMAL
- en: Manually adding users
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: As you are just getting started with Confluence, adding users manually is probably
    the way you want to go. Adding users is an option only available to Confluence
    administrators or system administrators.
  prefs: []
  type: TYPE_NORMAL
- en: 'To add a user, navigate to the Administration Console in Confluence (**Administration**
    | **Confluence Admin**) and select **users** from the left menu. As shown in the
    following screenshot, click on the **Add Users** tab:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Manually adding users](img/9526_02_01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'While filling out the form there are a few things you have to keep in mind:'
  prefs: []
  type: TYPE_NORMAL
- en: The username must be lowercase and unique to Confluence. If your company has
    a username policy, it's best to use this in Confluence too. If there is no username
    policy, I like to use `firstname.lastname` as a standard, that is, `arthur.dent`
    or `ford.prefect`.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You can choose to send an e-mail to the user you have just created by selecting
    the corresponding checkbox. In this case, the password fields are ignored as the
    user will receive a link to set up their own password. If you choose to not send
    an e-mail, the password fields are required. Such an e-mail will look something
    like the following figure:![Manually adding users](img/9526_02_02.jpg)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: After creating a user, Confluence will redirect you to the user details screen
    where we can change some of the user details. This will be discussed further on.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In the same way you can add more users.
  prefs: []
  type: TYPE_NORMAL
- en: Open registration
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'If your Confluence is a public installation or running on a local network,
    an open registration is available. The open registration allows all your users
    to register themselves with Confluence as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Open registration](img/9526_02_03.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Your users can enter their own name, e-mail address, username, and password,
    but be aware, when users are allowed to register themselves, they can choose their
    own username, which may not comply with your company policy.
  prefs: []
  type: TYPE_NORMAL
- en: Users are directly added to the Confluence-users group and will get the permissions
    associated with that group.
  prefs: []
  type: TYPE_NORMAL
- en: Inviting users
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Instead of adding all your users manually, it is also possible to send them
    a signup URL. This option is available in both public and private Confluence installations.
    When your users visit the URL in a browser, the Confluence signup screen will
    appear.
  prefs: []
  type: TYPE_NORMAL
- en: 'You can send invites from the Administration Console using the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Users** in the left-hand menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the **Invite Users** tab. The following screen will be displayed:![Inviting
    users](img/9526_02_04.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add the e-mail addresses of the users you want to invite and, if needed, include
    a custom message for them to read. They will receive an e-mail with the message
    and an invite URL.
  prefs: []
  type: TYPE_NORMAL
- en: The invite URL has a security token as an argument. With this token, your users
    will be able to sign up themselves if your Confluence instance is set to be accessible
    privately. The security token can be reset on the **Invite Users** page; resetting
    it will make all the previously sent invites invalid, and they will be obsolete.
  prefs: []
  type: TYPE_NORMAL
- en: Managing groups
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Groups are collections of users. A group can be used to successfully manage
    a large number of users. Administrators are allowed to create groups in Confluence
    and add users to these groups. Permissions are then assigned to groups instead
    of users to allow easier management.
  prefs: []
  type: TYPE_NORMAL
- en: 'There are two default groups already available in Confluence, and these are
    special groups:'
  prefs: []
  type: TYPE_NORMAL
- en: '**confluence-administrators**: This group represents the "super users". The
    members of this group can access the Administration Console and perform side-wide
    administrative actions, such as installing plugins or changing the security of
    your site.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**confluence-users**: This is the default group for all new users. Users in
    this group are allowed to log in to Confluence and add to your license user-limit.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**The Confluence administrator permission and the confluence-administrators
    group are not related**'
  prefs: []
  type: TYPE_NORMAL
- en: Although the name suggests they are related, they are not. Granting a user or
    group the Confluence Administrator permission is not the same as adding the user
    to the confluence-administrators group. The Confluence Administrator permission
    gives the user access to only a subset of the administrator functions and not
    complete access.
  prefs: []
  type: TYPE_NORMAL
- en: You can find more information on the differences between administrator roles
    in the *Global permissions* section in [Chapter 6](ch06.html "Chapter 6. Securing
    Your Content"), *Securing Your Content*.
  prefs: []
  type: TYPE_NORMAL
- en: Creating groups
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To add a group to Confluence, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Groups** in the left-hand menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select **Add Group** just below the table with the already existing groups.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type the new group name.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the **Save** button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To prepare your Confluence installation for the future within your company,
    it is good practice to think of a naming convention before starting to create
    groups. A naming convention that worked for me looks like `<product>-<space>-<role>`.
    So all space administrators in Confluence, working on the project `MyExample`
    would be in the group `confluence-myexample-administrators` and all the users
    in `confluence-myexample-users`.
  prefs: []
  type: TYPE_NORMAL
- en: Adding users to groups
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To assign users to groups, in order to determine their permissions, you have
    to be a Confluence administrator. There are two ways of editing group memberships
    in Confluence. They are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: From the user details screen
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: From the group management screen
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Editing group membership from the user details screen
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: One way of editing the group membership of a particular user is via the user
    details screen. This method only allows you to update one user at the time.
  prefs: []
  type: TYPE_NORMAL
- en: To edit a user's group membership, you have to go to the user details screen
    for that user. We will dive into finding users in the next section, for now we
    use the Administration Console.
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Users** in the left-hand menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select **Show all users** to get an overview with all the users in Confluence.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the link on the username you want to edit.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the **Edit Groups** link below the user's details, then the following
    screen will be displayed:![Editing group membership from the user details screen](img/9526_02_05.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Check the boxes in front of the groups to which you want to add the user, or
    uncheck the box for any group to remove the user from it.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Submit the changes by clicking on the **Save** button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Editing group membership via the group management screen
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you want to add multiple users to the same group at the same time, it is
    possible to use the group management screen, which allows you to do this.
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Groups** in the left-hand menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the group to which you want to add users.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The **Group Members** screen appears, displaying all the users who are members
    of this group. Click on the link **Add Members**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the **Add Members** textbox, type in the usernames of the people you want
    to add to the group. You can also search for users by clicking on the search icon
    next to the box as shown in the following screenshot:![Editing group membership
    via the group management screen](img/9526_02_07.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When you have added all the users you want to add to this group, click on the
    **Add** button to save your changes.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You can delete users from a group on the **Group Members** screen. By clicking
    on the icon on the same row as the user, the membership of that user will be removed.
  prefs: []
  type: TYPE_NORMAL
- en: Administrating users
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We are now able to add users and groups to Confluence, and administer group
    memberships. There will be a point where we have to look up a user, change his
    or her details, or send a new password.
  prefs: []
  type: TYPE_NORMAL
- en: Searching for users
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'When we want to add users to certain groups, spaces, or do anything that has
    to do with permissions, we have the option to search for users. Whenever you are
    able to search for users within Confluence, a magnifying glass icon will be shown.
    When we click on this icon, a new pop up will be shown, giving us the following
    two options to search for users:'
  prefs: []
  type: TYPE_NORMAL
- en: Simple search
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Membership search
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Note that the search is not case sensitive; it doesn't make a difference if
    you type either upper- or lowercase text. Wildcards are supported but there is
    no need to use them, the search will return the same results.
  prefs: []
  type: TYPE_NORMAL
- en: Using the simple user search
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'To search via the simple user search:'
  prefs: []
  type: TYPE_NORMAL
- en: Select the **User** tab on the **User Search** screen, as shown in the following
    screenshot.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type some information about the user into the search box. You can use any part
    of the user's username, full name, or e-mail address.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Search**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Confluence will return a list of matching users. You can check the boxes in
    front of the usernames to select the users you where looking for.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Using the simple user search](img/9526_02_09.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Using the membership search
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: It is also possible to search for users who are members of a certain group with
    the membership search.
  prefs: []
  type: TYPE_NORMAL
- en: Select the **Membership** tab on the **User Search** screen.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type all or a part of the group name in the search box.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Search**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Confluence will return a list of users who are member of the groups matching
    your search. In the following example, I searched for "confluence". The results
    show all users belonging to the **confluence-administrators** group and all users
    belonging to the **confluence-users** group:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Using the membership search](img/9526_02_10.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Editing user details
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: To change the details of a user, you need Confluence Administrator permissions.
    The user details include the user's name, password, e-mail address, group membership,
    and the ability to access Confluence. Users are allowed to change their own details,
    but not their group memberships.
  prefs: []
  type: TYPE_NORMAL
- en: Updating a user's details can be done via the user details screen as displayed
    in the upcoming screenshot. There are two ways to navigate to this screen.
  prefs: []
  type: TYPE_NORMAL
- en: 'The first is via the Administration Console, using the following steps:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Users** in the left-hand menu.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Search for the user, or use the **Show all users** link.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the link of the user you want to edit.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The second way is via the user profile, using the following steps:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you are not in the Administration Console, you can quickly go to the user
    details screen via the user's profile.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click on a user''s full name in Confluence to go to that user''s profile page.
    A full name can be, for example, be found on any page in Confluence as displayed
    in the following screenshot:'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Editing user details](img/9526_02_15.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Click on the **Administrator User** link on the left.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You should now see the user details screen and the links allowing you to edit
    the details.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Editing user details](img/9526_02_06.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: The following is the explanation on the different links present on the user
    details page. Note that not all available options are displayed on the previous
    screenshot.
  prefs: []
  type: TYPE_NORMAL
- en: '| Link | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **View Profile** | View the user''s profile. |'
  prefs: []
  type: TYPE_TB
- en: '| **Edit Groups** | Add the user to or remove the user from a group. |'
  prefs: []
  type: TYPE_TB
- en: '| **Edit Details** | Change the user details such as the user''s name, e-mail
    address, contact details, and department information. |'
  prefs: []
  type: TYPE_TB
- en: '| **Set Password** | Change the user''s password. |'
  prefs: []
  type: TYPE_TB
- en: '| **Remove** | Remove the user from Confluence, which is only possible when
    the user didn''t add or edit any content on the site. |'
  prefs: []
  type: TYPE_TB
- en: '| **Disable** | Disable access to Confluence for this user. You can use this
    option when a user has already added or changed any content on the site. Disabling
    a user will also remove the user from your license count. |'
  prefs: []
  type: TYPE_TB
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Changing a username in Confluence is currently not supported via the interface
    and can only be done via the database. If you need to change a username, read
    [https://confluence.atlassian.com/x/nXUC](https://confluence.atlassian.com/x/nXUC)
    for more information.
  prefs: []
  type: TYPE_NORMAL
- en: Resetting the password
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'At some point in time, a user might lose their password and send you an e-mail
    with the question if you could reset it. Fortunately, Confluence has a **Forgot
    your password?** link on its login screen, which users can use themselves:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Resetting the password](img/9526_02_11.jpg)'
  prefs: []
  type: TYPE_IMG
- en: The **Forgot you password?** link allows a user to ask for a password reset.
    The user needs to fill in his/her username and will receive an e-mail with a reset
    link. The user's password isn't changed unless the link is used and a new password
    is saved.
  prefs: []
  type: TYPE_NORMAL
- en: If you don't have an e-mail server set up or an external user directory configured,
    this option is not available. In case of an external user directory, you will
    need to redirect your users to that system password recovery option.
  prefs: []
  type: TYPE_NORMAL
- en: If you haven't set up an e-mail server, you will have to reset the password
    manually via the **Set Password** option on the user's detail screen, as mentioned
    before. This password reset has to be done by an administrator.
  prefs: []
  type: TYPE_NORMAL
- en: Public signup
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: It is possible to enable a public signup for your Confluence site. People can
    then add their own usernames and log in to the site immediately.
  prefs: []
  type: TYPE_NORMAL
- en: If you want to restrict your site to a particular set of users, you may want
    to restrict the e-mail domains or disable public signup completely.
  prefs: []
  type: TYPE_NORMAL
- en: 'To enable or disable public signup:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Users** in the left-hand menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the **User Signup Options** tab.![Public signup](img/9526_02_12.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The preceding screenshot shows us a couple of options.
  prefs: []
  type: TYPE_NORMAL
- en: We can enable or disable the public signup with a single checkbox. Enabling
    public signup also gives us the possibility to restrict the users' e-mail addresses
    to one or more domains.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You need to set up an e-mail server before you can configure domain-restricted
    signup. Confluence will send an e-mail to the person signing up, asking to click
    on a link to verify their e-mail address.
  prefs: []
  type: TYPE_NORMAL
- en: A very useful feature is to notify administrators by e-mail when an account
    is created. This way you can still detect if someone is signing up who shouldn't
    or grant extra permissions to users who need them.
  prefs: []
  type: TYPE_NORMAL
- en: External user directories
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: So far we have learned how to get users into our Confluence installation. This
    is very useful but what if your company has its own LDAP server or is already
    using some other Atlassian products, such as JIRA or Crowd?
  prefs: []
  type: TYPE_NORMAL
- en: Within Confluence we can configure one or more external user directories. A
    **user directory** is a place where you store information about users and groups,
    including some other user information. This information can be the person's full
    name, e-mail address, or department. When an external user directory is configured,
    Confluence will also use the directory to authenticate a user.
  prefs: []
  type: TYPE_NORMAL
- en: 'Confluence has support for the following external directories:'
  prefs: []
  type: TYPE_NORMAL
- en: Microsoft Active Directory
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Various LDAP directory servers including OpenLDAP, Apache Directory Server,
    and Novell eDirectory
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Atlassian Crowd
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Atlassian JIRA
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You can add as many external directories as you need. Note that you can change
    the order of the directories, determining which directory will search first.
  prefs: []
  type: TYPE_NORMAL
- en: '![External user directories](img/9526_02_13.jpg)'
  prefs: []
  type: TYPE_IMG
- en: The effect of directory order
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When you have more than one directory configured, the order of those directories
    is important and affects a couple of things within Confluence.
  prefs: []
  type: TYPE_NORMAL
- en: '**Login**: The directory order is significant during the authentication of
    the user, especially if the user exists in multiple directories. During login,
    the application will search the directories in the specified order, and will use
    the password of the *first occurrence of the user* to validate the login.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Permissions**: In the same way as the login mechanism, Confluence will look
    for group memberships only in the first directory where the username appears,
    based on the directory order.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For example:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'You have two directories: the employees directory and the customers directory'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: The employee directory is first in the directory order
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: A username `arthur.dent` exists in both directories
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: The user `arthur.dent` is a member of group G1 in the employees directory and
    group G2 in the customers directory
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Based on directory order, the user `arthur.dent` only has permissions based
    on group G1, not G2
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Updating users and groups**: If you update a user or group via Confluence''s
    administration screen, the update will only be made in the first directory where
    Confluence has write permissions.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For example:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'You have two user directories: a read/write LDAP directory and the internal
    directory'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: The LDAP directory is the first directory
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: A username `arthur.dent` exists in both directories
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: You update the e-mail address of the user `arthur.dent` via Confluence's Administration
    Console
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: The e-mail address will only be updated in the LDAP directory, not in the internal
    directory
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Limitations when using external directories
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When using external directories, there are a couple of limitations you should
    be aware of.
  prefs: []
  type: TYPE_NORMAL
- en: Build-in user management
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The first limitation you should be aware of depends on the read/write configuration
    of your external directory. If Confluence can't write to your external directory,
    or you don't want it to, you have to disable the built-in user management.
  prefs: []
  type: TYPE_NORMAL
- en: 'To disable management of users and groups within Confluence:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Security Configuration** in the left-hand menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Edit**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Check the **External user management** checkbox.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Save**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'If the built-in user management is disabled, users won''t be able to:'
  prefs: []
  type: TYPE_NORMAL
- en: Signup
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Reset their password
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Update their profile
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Also, administrators won''t be able to:'
  prefs: []
  type: TYPE_NORMAL
- en: Add new users and groups
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Assign users to groups from Confluence
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: All these features are now delegated to the administration of your external
    user management and they have to be performed there.
  prefs: []
  type: TYPE_NORMAL
- en: Editing directories
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: It's not possible to edit, disable, or remove the directory your user belongs
    to. This precaution is to prevent administrators from locking themselves out of
    the Confluence, by changing the directory configuration in a way that prevents
    them from logging in or removing their administration permissions.
  prefs: []
  type: TYPE_NORMAL
- en: In some cases, reordering the directories will change the directory that you're
    currently using, if your user exists in both directories. This behavior can be
    used to make changes to existing directories.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: It's recommended to keep an administrator account in your internal directory
    (which can't be deleted) and use that internal user to make changes to the settings
    of other external directories.
  prefs: []
  type: TYPE_NORMAL
- en: Connecting to an LDAP directory
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Connecting to an LDAP directory server is useful if your users and groups are
    stored in a corporate directory. When configuring the LDAP directory in Confluence,
    you can choose to make it Read Only, Read Only with Local Groups, or Read/Write.
    In the last case, any changes you make to your users and groups in Confluence
    will reflect in your LDAP directory.
  prefs: []
  type: TYPE_NORMAL
- en: Connecting to LDAP
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'To connect Confluence to an LDAP directory, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **User Directories** in the left-hand menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click on **Add Directory**. Select one of these types and click on **Next**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Microsoft Active Directory**: This option provides a quick way to add an
    AD directory, as it is one of the popular choices.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**LDAP**: You will be able to choose a more specific LDAP directory type on
    the next screen.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Enter the values for the required settings as described in the following table.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Save the directory settings.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Server settings
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The following are the different settings required for setting up an external
    user directory:'
  prefs: []
  type: TYPE_NORMAL
- en: '| Setting | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Name** | Enter a descriptive name that will help you identify the LDAP
    server. For example, `MyCompany Employee Directory` or `MyCompany Customer Directory`.
    |'
  prefs: []
  type: TYPE_TB
- en: '| **Directory Type** | Select the type of LDAP server you will connect to.
    The value you select here will determine the default values for many options on
    the screen. |'
  prefs: []
  type: TYPE_TB
- en: '| **Hostname** | The hostname of your directory server. |'
  prefs: []
  type: TYPE_TB
- en: '| **Port** | The port on which your directory server is listening. For example,
    **389** (default LDAP port), **10398**, or **636** (LDAP over SSL). |'
  prefs: []
  type: TYPE_TB
- en: '| **Use SSL** | Check this checkbox if the connection to your LDAP server is
    an SSL connection. |'
  prefs: []
  type: TYPE_TB
- en: '| **Username** | The distinguished name of the user that the application will
    use when connecting to the directory server. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`cn=administrator,cn=users,dc=ad,dc=mycompany,dc=com`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`cn=user,dc=domain,dc=name`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`user@domain.name`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Password** | The password of the user specified. |'
  prefs: []
  type: TYPE_TB
- en: LDAP schema settings
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Setting | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Base DN** | The root **distinguished name** (**DN**) to use when running
    queries against the directory server. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`o=myCompany,c=com`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`cn=users,dc=ad,dc=myCompany,dc=com`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Additional User DN** | This value is used in addition to the base DN to
    limit the scope when searching and loading users. If no value is supplied, search
    will start from the base DN:'
  prefs: []
  type: TYPE_NORMAL
- en: '`ou=Users`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Additional Group DN** | This value is used in addition to the base DN when
    searching and loading groups. |'
  prefs: []
  type: TYPE_TB
- en: LDAP permissions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Setting | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Read Only** | Users, groups, and memberships are retrieved from your LDAP
    server and cannot be modified in Confluence. |'
  prefs: []
  type: TYPE_TB
- en: '| **Read Only, with Local Groups** | Users, groups, and memberships are retrieved
    from your LDAP server and cannot be modified in Confluence. However, users from
    LDAP can be added to groups maintained in Confluence''s internal directory. |'
  prefs: []
  type: TYPE_TB
- en: '| **Read/Write** | Modifying users, groups, and memberships in Confluence will
    cause the changes to be applied directly to your LDAP server. Your configured
    LDAP user will need to have modification permissions on your LDAP server. |'
  prefs: []
  type: TYPE_TB
- en: '| **Default Group Memberships** | This field only appears if you select the
    **Read Only, with Local Groups** permission. If you would like to automatically
    add users to a group or groups, enter those names here. The first time a user
    logs in, their group memberships will be checked and added accordingly. On subsequent
    logins, memberships will not be added automatically, allowing deleting a user
    from one of the default groups. |'
  prefs: []
  type: TYPE_TB
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The **Read Only, with Local Groups** option is a very powerful configuration
    and is in many cases the best setup. Users and groups can still be managed in
    your company's centralized user management system. But you as an administrator
    still have the option to create new groups and change memberships of those groups,
    giving you the control you need in Confluence without cluttering your LDAP server.
    ines
  prefs: []
  type: TYPE_NORMAL
- en: Advanced settings
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Setting | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Enable Nested Groups** | Some directory services allow you to define a
    group as a member of another group, which is called **Nested Groups**. If you
    are using groups to manage permissions, check this box to enable the use of nested
    groups. |'
  prefs: []
  type: TYPE_TB
- en: '| **Use Paged results** | Useful when querying large user directories, this
    option returns the results in specified pages instead of all the results at once.
    |'
  prefs: []
  type: TYPE_TB
- en: '| **Follow Referrals** | Choose whether to allow the directory server to redirect
    requests to other servers. It is generally needed for Active Directory servers
    configured without proper DNS, to prevent a `javax.naming.PartialResultException:
    Unprocessed Continuation Reference(s)` error. |'
  prefs: []
  type: TYPE_TB
- en: '| **Naive DN Matching** | If your directory server will always return a consistent
    string representation of a DN, you can enable naive DN matching. Using naive DN
    matching will result in a significant performance improvement, so it''s recommended
    to use it wherever possible. |'
  prefs: []
  type: TYPE_TB
- en: '| **Enable Incremental Synchronization** | Enabling incremental synchronization
    causes only changes since the last synchronization to be queried when synchronizing
    a directory.Be aware that when using this option, the configured user account
    must have read access to:'
  prefs: []
  type: TYPE_NORMAL
- en: The `uSNChanged` attribute of all users and groups that need to be synchronized
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The objects and attributes in the Active Directory deleted objects container
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If these conditions are not met, it's possible that changes in your LDAP may
    not be synchronized correctly to Confluence. |
  prefs: []
  type: TYPE_NORMAL
- en: '| **Synchronization Interval (minutes)** | Specify the interval in minutes
    between directory updates. The default value is 60 minutes. |'
  prefs: []
  type: TYPE_TB
- en: '| **Read Timeout (seconds)** | This is the time to wait for a response to be
    received. If there is no response within the specified time period, the read attempt
    will be stopped. A value of 0 means there is no limit. The default value is 120
    seconds. |'
  prefs: []
  type: TYPE_TB
- en: '| **Search Timeout (seconds)** | This is the time to wait for a response from
    a search operation. A value of 0 means there is no limit. The default value is
    60 seconds. |'
  prefs: []
  type: TYPE_TB
- en: '| **Connection Timeout (seconds)** | This is the time to wait when opening
    new server connections, or getting a connection from the connection pool. A value
    of 0 means wait indefinitely for a pooled connection to become available, or to
    wait for the default TCP timeout to take effect when creating a new connection.
    |'
  prefs: []
  type: TYPE_TB
- en: User schema settings
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Setting | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **User Object Class** | This is the name of the class used for the LDAP user
    object. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`inetorgperson`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`user`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **User Object Filter** | The filter to use when searching for user objects.
    For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`(objectclass=inetorgperson)`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`(&(objectCategory=Person)(sAMAccountName=*))`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **User Name Attribute** | The attribute field to use when loading the username.
    For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`cn`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`sAMAccountName`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **User Name RDN Attribute** | The **relative distinguished name** (**RDN**)
    to use when loading the username. The RDN is the portion of your DN that is not
    related to the directory tree structure. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`cn`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **User First Name Attribute** | The attribute field to use when loading the
    user''s first name. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`givenName`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **User Last Name Attribute** | The attribute field to use when loading the
    user''s last name. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`sn`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **User Display Name Attribute** | The attribute field to use when loading
    the user''s full name. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`displayName`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **User Email Attribute** | The attribute field to use when loading the user''s
    e-mail address. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`mail`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **User Password Attribute** | The attribute field to use when loading the
    user''s password. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`userPassword`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **User Password Encryption** | Choose the encryption algorithm used for passwords
    on your directory. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: SHA
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MD5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: PLAINTEXT
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: Group schema settings
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Setting | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Group Object Class** | This is the name of the class used for the LDAP
    group object. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`groupOfUniqueNames`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`group`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Group Object Filter** | The filter to use when searching group objects.
    For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`(objectclass=groupOfUniqueNames)`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`(objectCategory=group)`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Group Name Attribute** | The attribute field to use when loading the group''s
    name. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`cn`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Group Description Attribute** | The attribute field to use when loading
    the group''s description. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`description`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: Membership schema settings
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Setting | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Group members Attribute** | The attribute field to use when loading the
    group''s members. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`uniqueMember`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`member`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **User Membership Attribute** | The attribute field to use when loading a
    user''s group memberships. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`memberOf`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Use the User Membership Attribute** | Check this checkbox if your LDAP
    server supports the group membership attribute on the user.If the checkbox is
    checked, Confluence will use the group membership attribute on the user when retrieving
    the list of groups to which a user belongs. This will result in a more efficient
    retrieval.If the checkbox is not checked, Confluence will use the member attribute
    on the group for the search.Note that, if you use a nested group, this option
    is ignored and thus Confluence will use the members attribute on the group. |'
  prefs: []
  type: TYPE_TB
- en: Connecting to a Crowd directory
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Atlassian Crowd is an application security framework that can handle the authentication
    and authorization for your web-based applications, which is not just restricted
    to Confluence or JIRA. With Crowd, it's possible to integrate multiple user directories
    into one directory and add support for single sign-on and centralized identity
    management.
  prefs: []
  type: TYPE_NORMAL
- en: Crowd is a very useful option if you have multiple web-based applications and
    multiple user directories you want to configure, especially if you want to add
    SSO to those applications as well.
  prefs: []
  type: TYPE_NORMAL
- en: Connecting to Crowd
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Use the following steps to connect to Crowd:'
  prefs: []
  type: TYPE_NORMAL
- en: Go to your Crowd Administration Console and define Confluence as an application.
    More information about this step can be found at [https://confluence.atlassian.com/x/rQcD](https://confluence.atlassian.com/x/rQcD).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **User Directories** in the left-hand menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Add Directory** and select the **Atlassian Crowd** option.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the value for the settings (explained in the following table).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Save the directory settings.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Server settings
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Settings | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Name** | A descriptive name of your Crowd server. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`Crowd Server`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`MyCompany Crowd`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Server URL** | The web address of your Crowd console server. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`http://www.mycompany.com:8095/crowd`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`https://crowd.mycompany.com/`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Application Name** | The name to authenticate Confluence with Crowd. This
    is the application name you created when setting up Crowd for Confluence. |'
  prefs: []
  type: TYPE_TB
- en: '| **Application Password** | The password for the configured application name.
    This must be the same as the password you have registered in Crowd for Confluence.
    |'
  prefs: []
  type: TYPE_TB
- en: Crowd permissions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Settings | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Read Only** | The user, group, and membership information in this directory
    can only be modified via Crowd. It''s not possible to change any information via
    the Confluence Administration Console. |'
  prefs: []
  type: TYPE_TB
- en: '| **Read/Write** | If you modify a user, group, or membership via Confluence
    administration screens, these changes will be applied directly to Crowd. Please
    note, that Confluence needs modification permissions in Crowd. |'
  prefs: []
  type: TYPE_TB
- en: Advanced settings
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Settings | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Enable Nested Groups** | Before enabling nested groups, be sure that the
    directories in Crowd support this feature. When nested groups are enabled, you
    can define a group as a member of another group, allowing inheritance of permissions
    from its parent group. |'
  prefs: []
  type: TYPE_TB
- en: '| **Enable Incremental Synchronization** | If this is checked, only changes
    since the last synchronization will be retrieved when synchronizing a directory.
    |'
  prefs: []
  type: TYPE_TB
- en: '| **Synchronization Interval (minutes)** | Specify the interval in minutes
    between directory updates. The default value is 60 minutes. |'
  prefs: []
  type: TYPE_TB
- en: Connecting to JIRA for user management
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you are also running JIRA within your organization, it is possible to use
    JIRA as user management for Confluence. The advantage of this approach is that
    your user management system is not in multiple locations, but just in JIRA.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Note that if you have more then 500 users, or over five applications connecting
    to JIRA, this integration is not recommended. LDAP or Crowd would be a better
    and a more stable option in such a case.
  prefs: []
  type: TYPE_NORMAL
- en: Connecting to JIRA
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The method of connecting Confluence to JIRA changed in JIRA 4.3 and later. I
    will assume you will be using JIRA 4.3 or later for this exercise; if you are
    running an older version of JIRA, you will find more information online at [https://confluence.atlassian.com/x/hg6zDQ](https://confluence.atlassian.com/x/hg6zDQ).
  prefs: []
  type: TYPE_NORMAL
- en: 'To connect Confluence to JIRA 4.3 or later, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Go to your JIRA administration screen and define the Confluence application
    to JIRA, using the following steps:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: For JIRA 4.3.x, select **Other Applications** from the **Users, Groups & Roles**
    section of the **Administration** menu.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: For JIRA 4.4 or later, select **Users** | **JIRA User Server** in the administration
    mode.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Add Application**.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the application name and password that Confluence will use when accessing
    JIRA.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the IP address or addresses of your Confluence server, for example, `192.168.10.42`.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Save the new application.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Set up Confluence to use a JIRA user directory, using the following steps:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **User Directories** in the left-hand menu.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Add Directory** and select the **Atlassian JIRA** option.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the value for the settings (explained in the following table).
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Save the directory settings.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Make sure the Confluence groups are available in JIRA by performing the following
    steps:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add the **confluence-users** and **confluence-administrators** groups in JIRA.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Add your own username as a member of both groups.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Server settings
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Settings | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Name** | A descriptive name of your JIRA server. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '`JIRA Server`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`MyCompany JIRA`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Server URL** | The web address of your JIRA server. Examples:'
  prefs: []
  type: TYPE_NORMAL
- en: '`http://www.mycompany.com:8080/crowd`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`https://jira.mycompany.com/`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Application Name** | The name to authenticate Confluence with JIRA. This
    is the application name you created when setting up JIRA for Confluence. |'
  prefs: []
  type: TYPE_TB
- en: '| **Application Password** | The password for the configured application name.
    This must be the same as the password you have registered in JIRA for Confluence.
    |'
  prefs: []
  type: TYPE_TB
- en: JIRA server permissions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Settings | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Read Only** | The user, group, and membership information in this directory
    can only be modified via JIRA. It''s not possible to change any information via
    the Confluence Administration Console. |'
  prefs: []
  type: TYPE_TB
- en: '| **Read/Write** | If you modify a user, group, or membership via Confluence
    administration screens, these changes will be applied directly to JIRA. |'
  prefs: []
  type: TYPE_TB
- en: Advanced settings
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| Settings | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Enable Nested Groups** | Before enabling nested groups, be sure that nested
    groups are enabled on the JIRA server. When nested groups are enabled, you can
    define a group as a member of another group, allowing inheritance of permissions
    from its parent group. |'
  prefs: []
  type: TYPE_TB
- en: '| **Enable Incremental Synchronization** | If this is checked, only changes
    since the last synchronization will be retrieved when synchronizing a directory.
    |'
  prefs: []
  type: TYPE_TB
- en: '| **Synchronization Interval (minutes)** | Specify the interval in minutes
    between directory updates. The default value is 60 minutes. |'
  prefs: []
  type: TYPE_TB
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter we have learned how we can add users to our Confluence installation.
    There are many options available, such as manually adding users, inviting users
    to sign up themselves, or having an open registration for users.
  prefs: []
  type: TYPE_NORMAL
- en: We have seen that if your company already has a user management system in place,
    Confluence can easily make use of that, either fully delegating authentication
    and authorization, or just partially.
  prefs: []
  type: TYPE_NORMAL
- en: Now that we have a running Confluence installation and have invited some users
    to use it, we are off to one of the most important parts of Confluence, creating
    content. In the next chapter we will go into how we can create engaging content
    with the Confluence editor.
  prefs: []
  type: TYPE_NORMAL
