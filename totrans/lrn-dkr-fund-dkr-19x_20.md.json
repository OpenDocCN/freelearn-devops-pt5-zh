["```\n$ kubectl create -f web-deployment.yaml\n```", "```\n$ kubectl create -f web-service.yaml\n```", "```\n$ IP=$(minikube ip)\n$ curl -4 $IP:31331/\nPets Demo Application\n```", "```\n$ kubectl create -f db-stateful-set.yaml\n```", "```\n$ kubectl create -f db-service.yaml\n```", "```\nkubectl delete svc/web\nkubectl delete deploy/web\nkubectl delete svc/db\nkubectl delete statefulset/db\n```", "```\napiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: web\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: pets\n      service: web\n  template:\n    metadata:\n      labels:\n        app: pets\n        service: web\n    spec:\n      containers:\n      - image: fundamentalsofdocker/ch11-web:2.0\n        name: web\n        ports:\n        - containerPort: 3000\n          protocol: TCP\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: web\nspec:\n  type: NodePort\n  ports:\n  - port: 3000\n    protocol: TCP\n  selector:\n    app: pets\n    service: web\n```", "```\napiVersion: v1\nkind: Pod\nmetadata:\n ...\nspec:\n containers:\n - name: liveness-demo\n image: postgres:12.10\n ...\n livenessProbe:\n exec:\n command: nc localhost 5432 || exit -1\n initialDelaySeconds: 10\n periodSeconds: 5\n```", "```\napiVersion: v1\nkind: Pod\nmetadata:\n  ...\nspec:\n  containers:\n  - name: liveness\n    image: acme.com/my-api:1.0\n    ...\n    livenessProbe:\n httpGet:\n path: /api/health\n port: 3000\n initialDelaySeconds: 5\n periodSeconds: 3\n```", "```\napiVersion: v1kind: Pod\nmetadata:\n ...\nspec:\n containers:\n - name: liveness-demo\n   image: postgres:12.10\n   ...\n livenessProbe:\n tcpSocket:\n port: 5432\n initialDelaySeconds: 10\n periodSeconds: 5\n```", "```\n$ docker image build -t fundamentalsofdocker/probes-demo:2.0 .\n```", "```\n$ kubectl apply -f probes-demo.yaml\n```", "```\n$ kubectl describe pods/probes-demo\n```", "```\n$ kubectl get pods\nNAME         READY   STATUS    RESTARTS   AGE\nprobes-demo  1/1     Running   5          7m22s\n```", "```\n$ kubectl delete pods/probes-demo\n```", "```\n ...\nspec:\n containers:\n - name: liveness-demo\n   image: postgres:12.10\n   ...\n   livenessProbe:\n     tcpSocket:\n       port: 5432\n     failureThreshold: 2\n     periodSeconds: 5\n\n   readinessProbe:\n tcpSocket:\n port: 5432\n initialDelaySeconds: 10\n periodSeconds: 5\n```", "```\nspec:\n  containers:\n    ..\n    startupProbe:\n tcpSocket:\n port: 3000\n failureThreshold: 30\n periodSeconds: 5\n  ...\n```", "```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web\nspec:\n  replicas: 5\n  selector:\n    matchLabels:\n      app: pets\n      service: web\n  template:\n    metadata:\n      labels:\n        app: pets\n        service: web\n    spec:\n      containers:\n      - image: fundamentalsofdocker/ch11-web:2.0\n        name: web\n        ports:\n        - containerPort: 3000\n          protocol: TCP\n```", "```\n$ kubectl create -f web-deploy-rolling-v1.yaml\n$ kubectl create -f web-service.yaml\n```", "```\n$ PORT=$(kubectl get svc/web -o yaml | grep nodePort | cut -d' ' -f5)\n$ IP=$(minikube ip)\n$ curl -4 ${IP}:${PORT}/\nPets Demo Application\n```", "```\n$ docker image build -t fundamentalsofdocker/ch16-web:2.1 web\n```", "```\n$ docker image push fundamentalsofdocker/ch16-web:2.1\n```", "```\n$ kubectl set image deployment/web \\\n web=fundamentalsofdocker/ch16-web:2.1\n```", "```\n$ curl -4 ${IP}:${PORT}/\nPets Demo Application v2\n```", "```\n$ kubectl rollout status deploy/web\ndeployment \"web\" successfully rolled out\n```", "```\n$ kubectl rollout undo deploy/web\ndeployment \"web\"\n$ curl -4 ${IP}:${PORT}/\nPets Demo Application\n```", "```\n$ kubectl create -f web-deploy-blue.yaml\n$ kubectl create -f web-svc-blue-green.yaml\n```", "```\n$ PORT=$(kubectl get svc/web -o yaml | grep nodePort | cut -d' ' -f5)\n$ IP=$(minikube ip)\n$ curl -4 ${IP}:${PORT}/\nPets Demo Application\n```", "```\n$ kubectl create -f web-deploy-green.yaml\n```", "```\n$ curl -4 ${IP}:${PORT}/\nPets Demo Application\n```", "```\n$ kubectl edit svc/web\n```", "```\n$ curl -4 ${IP}:${PORT}/\nPets Demo Application v2\n```", "```\n$ kubectl delete deploy/web-blue\n```", "```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: pets-secret\ntype: Opaque\ndata:\n  username: am9obi5kb2UK\n  password: c0VjcmV0LXBhc1N3MHJECg==\n```", "```\n$ echo \"c0VjcmV0LXBhc1N3MHJECg==\" | base64 --decode\nsEcret-pasSw0rD\n```", "```\n$ echo \"sue-hunter\" | base64 > username.txt\n$ echo \"123abc456def\" | base64 > password.txt\n```", "```\n$ kubectl create secret generic pets-secret-prod \\\n --from-file=./username.txt \\\n --from-file=./password.txt\nsecret \"pets-secret-prod\" created\n```", "```\n$ kubectl create -f pets-secret.yaml\n```"]