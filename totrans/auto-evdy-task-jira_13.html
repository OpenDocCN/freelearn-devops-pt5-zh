<html><head></head><body>
		<div><h1 id="_idParaDest-178"><em class="italic"><a id="_idTextAnchor158"/>Chapter 10</em>: Troubleshooting Tips and Techniques</h1>
			<p>It is an inevitable fact that at some point, your automation rules will fail with errors or slow down for no apparent reason. Even meticulously planned and implemented rules will eventually be subject to an unforeseen error. In these cases, understanding how to proactively monitor, troubleshoot, and debug your rules will help you solve these issues quicker.</p>
			<p>In this chapter, we will introduce you to some tips and techniques to better understand what is happening to your rules and how to debug them. We'll take a look at the audit log and how you can use this to better understand what is going on during your rule executions and how to leverage it for debugging purposes.</p>
			<p>We will also learn about the service limits in place to prevent rogue rules from negatively impacting the performance of your instance and how you can proactively monitor your rules to avoid breaching these limits.</p>
			<p>Finally, you will learn how to use the performance insight metrics to gain an overview of the performance of the automation rules in your system. This will enable you to identify rules that could potentially cause performance issues, thereby allowing you to maintain and improve the performance of your Jira instance.</p>
			<p>In this chapter, we'll cover the following topics:</p>
			<ul>
				<li>Debugging automation rules</li>
				<li>Understanding service limits</li>
				<li>Gaining insights on performance</li>
			</ul>
			<h1 id="_idParaDest-179"><a id="_idTextAnchor159"/>Technical requirements</h1>
			<p>The requirements for this chapter are as follows:</p>
			<ul>
				<li><strong class="bold">Jira cloud environment</strong>: If you don't already have access to Jira, you can create <a id="_idIndexMarker540"/>a free Jira Cloud account at <a href="https://www.atlassian.com/software/jira/free">https://www.atlassian.com/software/jira/free</a> and ensure that you have both Jira Software and Jira Service Management selected.</li>
				<li><strong class="bold">Jira Server environment</strong>: If you are using Jira Server (available from <a href="https://www.atlassian.com/software/jira/download">https://www.atlassian.com/software/jira/download</a>), ensure that you have licenses <a id="_idIndexMarker541"/>for both Jira Software and Jira Service Desk. In addition, you will also need to ensure that you install the <em class="italic">Automation for Jira</em> app available from the Atlassian Marketplace.</li>
			</ul>
			<p>In both instances, you will need to have at least <strong class="bold">Project Administrator</strong> access to Service Management in order to be able to follow the examples in this chapter. For the examples in this chapter, we have used the <em class="italic">IT Service Management project template</em> to create the Service Desk project.</p>
			<p>You can download the latest code samples for this chapter from this book's official GitHub repository at <a href="https://github.com/PacktPublishing/Automate-Everyday-Tasks-in-Jira">https://github.com/PacktPublishing/Automate-Everyday-Tasks-in-Jira</a>. Please visit the following link to check the CiA videos: <a href="https://bit.ly/2XSttjY">https://bit.ly/2XSttjY</a></p>
			<h1 id="_idParaDest-180"><a id="_idTextAnchor160"/>Debugging automation rules</h1>
			<p>There are many reasons why automation rules can, and will, fail. These could be due to underlying configuration changes within Jira, or the rule author may not have anticipated <a id="_idIndexMarker542"/>an edge case scenario when planning and implementing the rule.</p>
			<p>When rules start failing, it is necessary to understand what caused the rule to fail and to either fix the underlying cause or to adjust the automation rule to take into consideration the changes that caused it to fail.</p>
			<p>However, debugging is not only about finding and fixing deficiencies in your automation rules or underlying Jira configurations. We can use the same techniques during planning and developing to ensure that we deliver robust rules that are likely to have a higher success rate.</p>
			<p>In this section, we will look at how using the audit log for automation rules can help to identify issues and how we can make use of it when debugging our automation rules.</p>
			<p>Firstly, let's take a look at the audit log and how it helps us to understand what is happening with our rules.</p>
			<h2 id="_idParaDest-181"><a id="_idTextAnchor161"/>Understanding the audit log</h2>
			<p>Every automation rule has an associated audit log containing a list of chronologically ordered items that affect that rule from the time it was created.</p>
			<p>These items track <a id="_idIndexMarker543"/>not only the creation, modification, and deletion events for the rule, but also every execution of the rule, including the issues affected and the outcomes of every action within the rule.</p>
			<p>There are three ways to view the audit log:</p>
			<ul>
				<li><strong class="bold">Global audit log</strong>: The global <a id="_idIndexMarker544"/>audit log allows a Jira administrator to see all the audit logs for every project and rule in the system. You can find the global audit log as a Jira administrator by clicking the <strong class="bold">settings (cog)</strong> icon in the top menu bar and then selecting <strong class="bold">System</strong>. Select the <strong class="bold">Automation rules</strong> tab in the left menu and then, in Jira Cloud, select the <strong class="bold">Audit log</strong> tab. In <em class="italic">Jira Server</em> or <em class="italic">Jira Data Center</em>, click the ellipsis (<strong class="bold">…</strong>) button and select <strong class="bold">Show audit log</strong>.</li>
				<li><strong class="bold">Project audit log</strong>: The project <a id="_idIndexMarker545"/>audit log allows project administrators to see all the audit logs for every rule in that project. To find the project audit log, as a project administrator, navigate to <strong class="bold">Project settings</strong>. In <em class="italic">Jira Cloud</em>, select the <strong class="bold">Automation</strong> tab in the left menu and then select the <strong class="bold">Audit log</strong> tab. In <em class="italic">Jira Server</em> or <em class="italic">Jira Data Center</em>, select the <strong class="bold">Project automation</strong> tab in the left menu and then click the ellipsis (<strong class="bold">…</strong>) button and select <strong class="bold">Show audit log</strong>.</li>
				<li><strong class="bold">Rule audit log</strong>: The rule <a id="_idIndexMarker546"/>audit log allows you to see all the log items for that particular rule only. To view the rule audit log, select a rule and then click the <strong class="bold">Audit log</strong> item above the <strong class="bold">rule-chain</strong> view.</li>
			</ul>
			<p>An example of the global audit log can be seen in the following screenshot, showing the audit logs for rules across all projects:</p>
			<div><div><img src="img/Figure_10.1_B16551.jpg" alt="Figure 10.1 – The global audit log view in Jira Cloud&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.1 – The global audit log view in Jira Cloud</p>
			<p>Clicking on <a id="_idIndexMarker547"/>the name of a rule in the global audit log and project audit log views will take you to the rule audit log view. In each of the rule views, clicking on the <strong class="bold">Show more</strong> link in the <strong class="bold">Operations</strong> column will expand the audit log details for that particular event.</p>
			<p>The following screenshot shows the project audit log view with some of the individual audit items expanded to show the detailed audit log:</p>
			<div><div><img src="img/Figure_10.2_B16551.jpg" alt="Figure 10.2 – The audit log in detail&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.2 – The audit log in detail</p>
			<p>Let's take <a id="_idIndexMarker548"/>a look at each of the items in the audit log:</p>
			<ol>
				<li>Each audit log has a date and timestamp associated with it that shows precisely when this event occurred, accurate to the second. Audit logs are listed in descending date and time order, with the latest event at the top of the list. The number in brackets next to the date and timestamp is the rule's identification number.</li>
				<li>This is the name of the rule with which this audit log is associated. In the global audit log and project audit log views, clicking the rule name will take you to the rule audit log for the particular rule. You can also view the audit log history for deleted rules in either the global or project audit log views. Deleted rules are easily identifiable by not having a hyperlink to the rule definition. </li>
				<li>In this column, you can see whether the rule executed successfully. In addition, it also shows configuration changes to the rule, which help when debugging rule failures.</li>
				<li>Every time a rule is executed, the time it took to run is recorded and shown in this column.</li>
				<li>In the case of rule executions, <strong class="bold">Associated items</strong> shows which issues were added to the <a id="_idIndexMarker549"/>rule execution and by which rule component. Clicking on the component will take you directly to the component configuration responsible for this action. For configuration events, this will show the user who performed the action.</li>
				<li>All the actions performed by rule execution are listed here, grouped by action. For each action configured in the rule, you will see a list of issues that were successful. If an action was unsuccessful, an error message will be displayed instead. Clicking on any of the actions will take you directly to the action configuration screen.</li>
				<li>Expanding the <strong class="bold">What do the different statuses mean</strong> option will list all the possible status codes and their meanings.</li>
			</ol>
			<p>Now that we've learned how to read the audit log, let's take a look at how we can use it to debug our rules.</p>
			<h2 id="_idParaDest-182"><a id="_idTextAnchor162"/>Using the audit log for debugging</h2>
			<p>The ability to see what is stored in a smart value or to examine the outcome of a smart value function <a id="_idIndexMarker550"/>will give you some insight into what is happening in your rule. This is particularly useful when you are designing a rule or when debugging a rule that is not behaving as expected.</p>
			<p>For this purpose, an automation action component, <em class="italic">Log action</em>, is available to use in your rules. The sole purpose of this component is to inject messages into the audit log, which you can then inspect when debugging a rule.</p>
			<p>Let's take a look at an example that utilizes the Log action component.</p>
			<h3 id="_idParaDest-183">Logging messages using Log action</h3>
			<p>The Log action component allows you to inject messages into the audit log so you can add debugging <a id="_idIndexMarker551"/>statements to help you <a id="_idIndexMarker552"/>understand what is happening when a rule executes.</p>
			<p>In this example, we will use the Log action component to add a timestamp to the audit log before and after calling a <strong class="bold">Create sub-tasks</strong> action:</p>
			<ol>
				<li value="1">In your Service Desk project, navigate to <strong class="bold">Project settings</strong>, click on the <strong class="bold">Automation</strong> tab, and then click on <strong class="bold">Create rule</strong>.</li>
				<li>Select the <strong class="bold">Issue created</strong> trigger and then click <strong class="bold">Save</strong>.</li>
				<li>Then select <code>Request Type</code></p><p><code>equals</code></p><p><code>Onboard new employees</code></p></li>
				<li>Now select <code>{{now}} Start create sub-tasks</code></p></li>
				<li>Next, select <code>Provision new laptop by {{issue.duedate.longDate}}</code></p><p><code>Setup new desk phone by {{issue.duedate.longDate}}</code></p></li>
				<li>Again, select <code>{{now}} End create sub-tasks</code></p></li>
				<li>Next, name <a id="_idIndexMarker553"/>your rule <code>Create onboarding sub-tasks with debug logging</code> and then click <strong class="bold">Turn it on</strong> to save and enable the rule.<p>The rule <a id="_idIndexMarker554"/>should look similar to the following screenshot:</p></li>
			</ol>
			<div><div><img src="img/Figure_10.3_B16551.jpg" alt="Figure 10.3 – Creating a rule with debug logging&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.3 – Creating a rule with debug logging</p>
			<p>Now that we have our rule in place, use the <strong class="bold">Raise a request</strong> link from your Service Desk project to create a new issue using the <em class="italic">Onboard new employees</em> request type and then navigate back to the <em class="italic">Create onboarding sub-tasks with debug logging</em> rule and click on the <strong class="bold">Audit log</strong> item.</p>
			<p>After expanding the audit log item, you should see something similar to the following screenshot:</p>
			<div><div><img src="img/Figure_10.4_B16551.jpg" alt="Figure 10.4 – Audit log with debug log messages&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.4 – Audit log with debug log messages</p>
			<p>You can see <a id="_idIndexMarker555"/>in the audit log the <a id="_idIndexMarker556"/>messages we inserted around the <strong class="bold">Create sub-tasks</strong> action:</p>
			<ol>
				<li value="1">The first log action message just before the <strong class="bold">Create sub-tasks</strong> action is called.</li>
				<li>The second log action message just after the <strong class="bold">Create sub-tasks</strong> action is called.</li>
			</ol>
			<p>From this, you can now determine how long the <code>Sub-task</code> issue type.</p>
			<h3 id="_idParaDest-184">Logging messages using the debug smart value function</h3>
			<p>Using the Log action to insert messages into the audit log makes debugging your rules a lot easier. However, having too many Log action components to log things such as the output of <a id="_idIndexMarker557"/>smart value functions <a id="_idIndexMarker558"/>means you have to duplicate your smart values in order to create debug logs.</p>
			<p>To get around this, you can use the debug smart value function. This involves surrounding your smart value with the <code>{{#debug}}</code> function.</p>
			<p>Let's take a look at an example rule that uses the debug smart value function to achieve this:</p>
			<ol>
				<li value="1">In your <strong class="bold">Service Desk</strong> project, navigate to <strong class="bold">Project settings</strong>, click on the <strong class="bold">Automation</strong> tab, and then click on <strong class="bold">Create rule</strong>.</li>
				<li>Select the <code>Waiting for customer</code></p></li>
				<li>Now, select <strong class="bold">New action</strong> followed by <strong class="bold">Comment on issue</strong>. Add the following message to the <strong class="bold">Comment</strong> field and then click <strong class="bold">Save</strong>:<pre>Hi {{issue.reporter.displayName}}
We require some additional information from you to complete your request.
Please update this issue by <strong class="bold">{{#debug}}{{now.plusBusinessDays(5).fullDate}}{{/}}</strong>.
Kind regards,
The Service Desk Team</pre><p>Your rule should look similar to the following screenshot:</p><div><img src="img/Figure_10.5_B16551.jpg" alt="Figure 10.5 – Using the debug smart value function&#13;&#10;"/></div><p class="figure-caption">Figure 10.5 – Using the debug smart value function</p></li>
				<li>Finally, name the rule <code>Comment on waiting for customer with debug logging</code> and then click <strong class="bold">Turn it on</strong> to save and enable the rule.</li>
			</ol>
			<p>Create an issue of the <em class="italic">Service Request</em> type, transition it to <em class="italic">Waiting for customer</em>, and then <a id="_idIndexMarker559"/>navigate back to the <em class="italic">Comment on waiting for customer with debug logging</em> rule and click on the <strong class="bold">Audit log</strong> item.</p>
			<p>After expanding <a id="_idIndexMarker560"/>the top audit log item, your audit log should look similar to the following screenshot:</p>
			<div><div><img src="img/Figure_10.6_B16551.jpg" alt="Figure 10.6 – Audit log using the debug smart value function&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.6 – Audit log using the debug smart value function</p>
			<p>Using the <code>{{#debug}}</code> smart value function has caused a <strong class="bold">d</strong><strong class="bold">ebug message</strong> to be printed in the audit log, along with the information output by the <strong class="bold">Comment on issue</strong> action without needing to add a separate <strong class="bold">Log action</strong> component to the rule. You can see this in the item labeled <strong class="bold">(1)</strong> in <em class="italic">Figure 10.6</em>.</p>
			<p>We have <a id="_idIndexMarker561"/>learned in this section how <a id="_idIndexMarker562"/>to understand and use the audit log from a global, project, and rule perspective, and what the various items in the log can tell us.</p>
			<p>We have also learned how to send messages to the audit log from our rules to aid in debugging our rules.</p>
			<p>In the next section, we will be looking at the service limits that are in place to prevent rules from negatively impacting the performance of your Jira instance.</p>
			<h1 id="_idParaDest-185"><a id="_idTextAnchor163"/>Understanding service limits</h1>
			<p>Service limits for <a id="_idIndexMarker563"/>automation rules are key to ensuring that automation rules do not have a negative impact on the performance of your Jira instance.</p>
			<p>In this section, we'll look at what service limits are in place and how they affect your rules. We'll also look at how to work within these service limits and how we can use automation rules to monitor some of these.</p>
			<p>Let's start by looking at what service limits are available.</p>
			<h2 id="_idParaDest-186"><a id="_idTextAnchor164"/>Getting to know service limits</h2>
			<p>Service limits <a id="_idIndexMarker564"/>are applicable to both the Jira Cloud and Jira Server/Data Center versions of the automation rules.</p>
			<p>The service limits that apply to all rules are listed along with a description of how each limit could be breached:</p>
			<ul>
				<li>Components per rule: 65<p>Any rule that contains more than 65 conditions, branches, and actions.</p></li>
				<li>New sub-tasks per action: 100<p>A rule that attempts to create more than 100 sub-tasks.</p></li>
				<li>Issues searched: 1,000<p>A JQL search that returns more than 1,000 items will cause this to be breached.</p></li>
				<li>Concurrent scheduled rule executions: 1<p>A rule scheduled to run every 5 minutes, but takes longer than 5 minutes to complete, will cause this limit to be breached as the subsequent execution cannot start while the first execution is still processing.</p></li>
				<li>Items queued by rule: 5,000 for Jira Cloud, and 25,000 for Jira Server/Data Center<p>Any single rule that causes more than the specified number of issues to be queued will breach this limit.</p></li>
				<li>Items queued globally: 50,000 for Jira Cloud, and 100,000 for Jira Server/Data Center<p>The total number of issues queued at any one time cannot exceed the specified limits.</p></li>
				<li>Daily processing time: 60 minutes per 12 hours<p>Any single rule that executes every 5 minutes with a processing time of more than 5 seconds per execution will breach this limit.</p></li>
				<li>Hourly processing time: 100 minutes<p>This limit will <a id="_idIndexMarker565"/>only trigger if there are more than 2,000 rule executions per hour on Jira Cloud or 5,000 rule executions per hour on Jira Server/Data Center. This could happen if you perform a bulk operation that causes several rules to fire at the same time.</p></li>
				<li>Loop detection: 10<p>A rule that triggers itself or other rules more than the specified number of times in quick succession.</p></li>
			</ul>
			<h2 id="_idParaDest-187"><a id="_idTextAnchor165"/>Dealing with service limit breaches</h2>
			<p>When rules breach their service limits, the automation engine will throttle the affected rule. The audit log <a id="_idIndexMarker566"/>will contain more information and use the <em class="italic">throttled</em> status to make it easier to identify.</p>
			<p>Rules that have been throttled for breaching their service limits will also be disabled so as to prevent any further performance issues.</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">When setting up your rule, you can choose to send the rule owner an email notification when a rule first fails or every time a rule fails. You should be aware that when a notification is sent, the rule will already have been throttled and disabled.</p>
			<p>In the case where regularly executing rules are in danger of exceeding their processing time limits, there is a special trigger, the <em class="italic">Service limit breached</em> trigger, which you can use to monitor your rules. Rather than waiting for the rule to get throttled and disabled, you can set up an automation rule using this trigger to notify you before the breach occurs.</p>
			<p>Let's take a quick look at how you can set up an automation rule to watch for and notify you when <a id="_idIndexMarker567"/>rules reach 80% of their processing time limit:</p>
			<ol>
				<li value="1">In your Jira project, navigate to <strong class="bold">Project settings</strong>, click on the <strong class="bold">Automation</strong> link in the <strong class="bold">Project settings</strong> menu, and then click <strong class="bold">Create rule</strong>.</li>
				<li>Select the <code>Used more than 80% of the service limit</code></p><p><code>Once per hour</code></p></li>
				<li>Next, select <code>administrators</code></p><p><code>Rules are about to breach their service limits</code></p><p><code>There are rules about to breach their 80% processing time limit: {{breachedSummary}}.</code></p><p><code>The following rules are about to breach:</code></p><p><code>{{breachedRules}}</code></p><p>The rule should look similar to the following screenshot:</p><div><img src="img/Figure_10.7_B16551.jpg" alt="Figure 10.7 – Rule to monitor processing time service limits&#13;&#10;"/></div><p class="figure-caption">Figure 10.7 – Rule to monitor processing time service limits</p></li>
				<li>Finally, name your rule <code>Service limit 80% notification</code> and click <strong class="bold">Turn it on</strong> to save and enable the rule.</li>
			</ol>
			<p>Now, any time <a id="_idIndexMarker568"/>a rule reaches 80% of its processing time limit, an email notification will be sent to the administrators allowing them to take action before the rule gets throttled and disabled.</p>
			<h2 id="_idParaDest-188"><a id="_idTextAnchor166"/>Working with queued item limits</h2>
			<p>Automation rules in Jira work by using a rule processing queue. As an example, if you have 50 projects <a id="_idIndexMarker569"/>in your Jira instance and a single global automation rule that uses the <em class="italic">Issue updated</em> trigger, each time a single issue in any project gets updated, 50 rule executions are created and queued.</p>
			<p>Adding a second global automation rule that uses the <em class="italic">Issue updated</em> trigger will cause 100 rule executions to be created and queued; that is, one execution per rule per project.</p>
			<p>If, instead, each rule was only specific to a single project, only two rule executions would be created and queued.</p>
			<p>As you can imagine, it is quite easy to quickly create a performance bottleneck if you have too many incorrectly scoped rules using non-specific triggers, and this is only one example.</p>
			<p>Using JQL searches in a scheduled trigger or in a related issues branch using the <em class="italic">Branch rule / related issues</em> component can also lead to more issues than the service limits allow being queued per rule.</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">Rules that breach the queued items limit are disabled automatically by the rule engine to prevent any further executions, and the details of the breach are recorded in the audit log.</p>
			<p>To prevent <a id="_idIndexMarker570"/>your rules from queueing too many items, you should consider the following guidelines:</p>
			<ul>
				<li>Use the narrowest scope possible for your rules. If the rule only needs to operate on a single project or a small group of projects, restrict the scope accordingly.</li>
				<li>Use a trigger such as the <em class="italic">Field value changed</em> trigger, rather than the <em class="italic">Issue created</em> or <em class="italic">Issue updated</em> trigger, when your rule is only interested in changes to a specific field.</li>
				<li>Limit the number of issues returned by JQL queries by making the query as specific as possible.</li>
				<li>Use the <em class="italic">Branch rule / related issues</em> component sparingly.</li>
			</ul>
			<p>In this section, we have learned what the various service limits imposed by the automation rule engine are and how we can use this knowledge to write more efficient rules. In the following section, we'll learn how you can use performance insights to gain an overview of the overall performance of your automation rules.</p>
			<h1 id="_idParaDest-189"><a id="_idTextAnchor167"/>Gaining insights on performance</h1>
			<p>To ensure the overall success of your automation rules and that performance is maintained at a satisfactory level requires that you keep an eye out for any issues that could cause problems in the long run.</p>
			<p>We have already <a id="_idIndexMarker571"/>seen how the audit log can give you insights into whether your rules are running successfully or with errors, or are causing performance issues and being throttled. In addition to this, having the ability to monitor and proactively notify the administrators when rules threaten to breach their service limits helps you to keep an eye on things.</p>
			<p>While this does help, it can be time consuming to go through and examine the audit logs, especially when you have a large number of rules executing frequently.</p>
			<p>In this section, we'll look at the performance insights feature of automation rules, which will give you a bird's-eye view of the overall performance of your rules.</p>
			<p>Performance insights are available to both project administrators and global administrators. Project administrators are able to view the performance of all the rules within their project, while for global administrators, the performance insights give an overview of every automation rule in the system.</p>
			<p>To access the performance insights as a project administrator, navigate to <strong class="bold">Project settings</strong>, and then select the <strong class="bold">Automation</strong> link from the left menu (use the <strong class="bold">Project automation</strong> link if you use <em class="italic">Jira Server</em> or <em class="italic">Jira Data Center</em>). Then, click the ellipsis (<strong class="bold">…</strong>) button and select the <strong class="bold">View performance insights</strong> menu item.</p>
			<p>To access the global performance insights, click the settings (<strong class="bold">cog</strong>) icon in the top menu bar and then select <strong class="bold">System</strong>. Click on <strong class="bold">Automation rules</strong> in the left menu area and finally, click the ellipsis (<strong class="bold">…</strong>) button and select the <strong class="bold">View performance insights</strong> menu item.</p>
			<p>The performance insights screen is shown in the following screenshot and is similar for both project and global performance insights:</p>
			<div><div><img src="img/Figure_10.8_B16551.jpg" alt="Figure 10.8 – Viewing performance insights&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.8 – Viewing performance insights</p>
			<p>Let's take <a id="_idIndexMarker572"/>a quick look at the various aspects of the performance insights:</p>
			<ol>
				<li value="1">Use the time resolution options to select whether the graph shows the last hour, day, week, or month's worth of rule executions. Click the circular arrow icon to refresh the data on the screen.</li>
				<li>For each data point, the graph shows the total number of rule executions, the number of successful rule executions, the number of executions with errors, and the number of executions that were throttled. Hovering over the graph with your mouse will show you the actual number for each of the data points.</li>
				<li>The drop-down menu directly above the table allows you to select what data is displayed in the rule status columns on the right-hand side of the table. The available options are <strong class="bold">Execution count</strong>, <strong class="bold">Average duration (s)</strong>, and <strong class="bold">Total duration (s)</strong>.</li>
				<li>The table below the graph shows the top 20 rules that are displayed on the graph. These are sorted by descending execution count by default.<p>You can sort the table by <strong class="bold">Execution count</strong>, <strong class="bold">Total duration</strong>, or <strong class="bold">Average duration</strong> in ascending or descending order by clicking on each of the appropriate column headings.</p><p>Clicking on a <a id="_idIndexMarker573"/>rule name will take you to the audit log for that particular rule, which will allow you to examine the log in more detail.</p></li>
			</ol>
			<p>As you can see, the performance insights let you quickly see how your rules are performing and allow you to drill down into the problem rules.</p>
			<p>Using the performance insights sorted by average duration will allow you to see which rules are taking longer to run per execution. These rules could be prime candidates for further examination to see whether they could benefit from performance enhancements.</p>
			<p>Rules with large numbers of executions and slow durations could be candidates for eventually breaching the processing time limits and should be examined for possible improvements. There is no definitive measure about what is considered slow due to how the individual configuration of each Jira instance can vary. You should therefore examine the durations in the context of your other rules, taking into account the specific configurations of your Jira instance.</p>
			<h1 id="_idParaDest-190"><a id="_idTextAnchor168"/>Summary</h1>
			<p>In this chapter, we have learned how to approach troubleshooting our automation rules when things go wrong or when our rules start performing sub-optimally.</p>
			<p>We have learned how the audit log works and the wealth of information it provides in order to gain insights into what is happening when a rule is executed. In addition, we also learned how to make use of the audit log to output messages, which will help you to debug your rules.</p>
			<p>We also learned about the various service limits and how to monitor these using automation rules, giving us the ability to receive an early warning before rules breach their processing limits.</p>
			<p>Finally, we looked at the performance insights available to project and global administrators and learned how this gives an overview of the performance of the rules in the system and how we can use this to stay on top of possible performance issues.</p>
			<p>By understanding how to use the audit log for debugging, you will be able to write more robust rules and also be able to quickly determine when smart values or functions are causing rules to fail and be able to identify the problem.</p>
			<p>Knowing how the service limits work and how you can monitor them using both automation rules and by inspecting the performance insights will enable you to maintain the performance of your Jira instance.</p>
			<p>In the next chapter, we'll be looking at another well-known automation app in the Atlassian ecosystem that allows us to perform more advanced automations using Groovy scripting.</p>
		</div>
	</body></html>