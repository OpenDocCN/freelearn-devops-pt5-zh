<html><head></head><body>
		<div><h1 id="_idParaDest-18"><em class="italic"><a id="_idTextAnchor017"/>Chapter 1</em>: Key Concepts of Automation</h1>
			<p>Atlassian Jira is a popular workflow management system that allows teams to track their work in various scenarios, the most common of these being software projects, followed closely by service desks. Over time, most teams come to realize that there are many repetitive and time-consuming tasks that need to be performed to ensure project tasks and requests are tracked accurately and in a timely manner.</p>
			<p>Since Atlassian recently acquired <strong class="bold">Automation for Jira</strong> and incorporated it as a native feature in Jira Cloud, it is now even easier to create complex and powerful automation rules using an intuitive <em class="italic">if-this-then-that</em> approach without having to write any code. Automation for Jira is still available as an add-on app for Jira Server and Jira Data Center and we'll cover both use cases where they diverge in this book.</p>
			<p>If, like me, you find yourself saying <em class="italic">I'm sure there is a way we can automate this somehow</em> when confronted with yet another monotonous and time-consuming task in Jira, then you've picked up the right book.</p>
			<p>In this chapter, we are going to cover the following main topics:</p>
			<ul>
				<li>Getting started with rules</li>
				<li>Working with triggers</li>
				<li>Working with conditions</li>
				<li>Working with actions</li>
				<li>Creating your first rule</li>
			</ul>
			<p>By the end of this chapter, you will have a good understanding of the key concepts of automation rules in Jira and how the various components of rules work together to enable you to write rules that will help you to automate any repetitive and other time-consuming tasks in Jira so that you can focus on what really matters: getting things done!</p>
			<h1 id="_idParaDest-19"><a id="_idTextAnchor018"/>Technical requirements</h1>
			<p>The requirements for this chapter are as follows:</p>
			<ul>
				<li><strong class="bold">Jira Cloud environment</strong>: If you don't already have access to Jira, you can create a free Jira Cloud account at <a href="https://www.atlassian.com/software/jira/free">https://www.atlassian.com/software/jira/free</a> and ensure that you have both Jira Software and Jira Service Management selected; or</li>
				<li><strong class="bold">Jira Server environment</strong>: If you are using Jira Server (available from <a href="https://www.atlassian.com/software/jira/download">https://www.atlassian.com/software/jira/download</a>), ensure that you have licenses for both Jira Software and Jira Service Management. In addition, you will also need to ensure that you install the <em class="italic">Automation for Jira</em> app available from the Atlassian Marketplace.</li>
			</ul>
			<p>In both instances, you will need to have at least Project Administrator access to a Jira project.</p>
			<p>You can download the latest code samples for this chapter from this book's official GitHub repository at <a href="https://github.com/PacktPublishing/Automate-Everyday-Tasks-in-Jira">https://github.com/PacktPublishing/Automate-Everyday-Tasks-in-Jira</a>.</p>
			<p>The Code in Action videos for this chapter are available at <a href="https://bit.ly/38POLVA">https://bit.ly/38POLVA</a></p>
			<h1 id="_idParaDest-20"><a id="_idTextAnchor019"/>Getting started with rules</h1>
			<p>To understand automations, we need to first take a look at some of the basic concepts associated with them, the foremost of which is the rule.</p>
			<p>In this section, we will examine the following concepts:</p>
			<ul>
				<li>The definition of a rule</li>
				<li>Rule scopes</li>
				<li>Owners and actors</li>
				<li>Audit log</li>
			</ul>
			<p>These will give us a foundation on which to build in the following chapters, so without further ado, let's get started.</p>
			<h2 id="_idParaDest-21"><a id="_idTextAnchor020"/>What is a rule?</h2>
			<p>A rule, in <a id="_idIndexMarker000"/>its basic form, is a list of steps required to be executed in a specific order to achieve a desired outcome that is both repeatable and auditable.</p>
			<p>By this, we mean that a rule should have the exact same outcome each and every time it is executed, and we should be able to examine the actions applied by the rule chronologically.</p>
			<p>Specifically, a rule in Jira allows you to perform actions against issues based on criteria that you set.</p>
			<p>Every rule is comprised of three basic <a id="_idIndexMarker001"/>components:</p>
			<ul>
				<li><strong class="bold">Triggers</strong>: The<a id="_idIndexMarker002"/> entry point for a rule.</li>
				<li><strong class="bold">Conditions</strong>: These<a id="_idIndexMarker003"/> refine the criteria of the rule.</li>
				<li><strong class="bold">Actions</strong>: These<a id="_idIndexMarker004"/> perform the actual tasks.</li>
			</ul>
			<p>In addition to these, a rule also contains some other <a id="_idIndexMarker005"/>basic information:</p>
			<ul>
				<li>The rule name</li>
				<li>The rule description</li>
				<li>The rule scope</li>
				<li>The rule owner and actor</li>
				<li>Options to notify the rule owner in the case of rule failures</li>
				<li>Options to allow other rules to trigger this rule</li>
				<li>The rule audit log</li>
			</ul>
			<p>Together, these form the building blocks of automation rules. By combining these basic components, you are able to create rules that can be used to automate many time-consuming and repetitive tasks.</p>
			<p>The following screenshot shows an outline of the basic components<a id="_idIndexMarker006"/> of a rule in Jira:</p>
			<div><div><img src="img/Figure_1.1_B16551.jpg" alt="Figure 1.1 – Visualizing the basic components of a rule&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.1 – Visualizing the basic components of a rule</p>
			<p>We will cover each of these components in more detail in this and the following chapter.</p>
			<h2 id="_idParaDest-22"><a id="_idTextAnchor021"/>Understanding scopes</h2>
			<p>Rules in Jira have can be applied in <a id="_idIndexMarker007"/>one of four <strong class="bold">scopes</strong>:</p>
			<ul>
				<li>Global rules</li>
				<li>Multi-project rules</li>
				<li>Project type-specific rules</li>
				<li>Project-specific rules</li>
			</ul>
			<p>The following table shows how these rule scopes are defined and which Jira permission is required in order to create and manage a rule that is applied in that scope:</p>
			<div><div><img src="img/Figure_1.2_B16551.jpg" alt="Figure 1.2 – Rule scope permissions&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption"> Figure 1.2 – Rule scope permissions</p>
			<p>As we can see, most of <a id="_idIndexMarker008"/>the rule scopes require you to have Jira Global admin permissions in order to manage them, and this is expected, as these rules span multiple projects and cannot therefore rely on project-specific permissions.</p>
			<p>Project rules, on the other hand, can be created and managed by project administrators in addition to Jira global administrators.</p>
			<p>Having this distinction allows Jira administrators to delegate the project-specific automations and gives project administrators more flexibility in managing their own project rules, whilst Jira Global admins can focus on automation rules that can be applied across a much wider audience.</p>
			<p>Rules can also be moved between the global and project scopes by Jira administrators. If, for example, it is determined that a project-specific rule could be reused across multiple projects, a Jira administrator can adjust the scope of the rule. The reverse is also true. If a particular global rule is only ever utilized by a single project, a Jira administrator can adjust the scope to that specific project and by doing so, transfer administration of the rule to the project administrators.</p>
			<h2 id="_idParaDest-23"><a id="_idTextAnchor022"/>Owners and actors</h2>
			<p>Every rule requires both an owner and an actor.</p>
			<p>The <strong class="bold">owner</strong> of the rule<a id="_idIndexMarker009"/> is generally the user who created the rule and is responsible for maintaining the rule. The rule owner will also receive email notifications from Jira if the rule fails while executing.</p>
			<p>The rule <strong class="bold">actor</strong> is the <a id="_idIndexMarker010"/>user the rule will execute as. This user must have the correct permissions in the project for both the trigger and any actions the rule will perform. For example, if you create a rule that needs to add a comment to an issue, the rule actor will need to have the <em class="italic">Add Comments</em> permission in the project.</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">In Jira Cloud, the default rule actor is always the <em class="italic">Automation app user</em> and will belong to the <em class="italic">atlassian-addons-project-access</em> project role. This project role is assigned every permission in a project and can be changed in the <strong class="bold">Project settings</strong> | <strong class="bold">Permissions</strong> section. Removing permissions from this role could potentially cause add-ons not to work correctly, so it is generally advised not to change these permissions. </p>
			<h2 id="_idParaDest-24"><a id="_idTextAnchor023"/>Audit log</h2>
			<p>Every rule<a id="_idIndexMarker011"/> has its own <strong class="bold">audit log</strong>, which tracks the execution of a rule chronologically and allows you to examine the outcome as well as the actions applied to the affected items for each execution.</p>
			<p>This functionality is not only necessary to be able to track the outcomes of a rule execution; it also gives us the ability to be able to debug rules when things don't go as planned.</p>
			<p>We will examine the role of the audit log in debugging rules in more detail in <a href="B16551_10_Final_ASB_ePub.xhtml#_idTextAnchor158"><em class="italic">Chapter 10</em></a>,<em class="italic"> Troubleshooting Tips and Techniques</em>, when we will explore techniques for debugging rules and solving common issues.</p>
			<h1 id="_idParaDest-25"><a id="_idTextAnchor024"/>Working with triggers</h1>
			<p>The starting <a id="_idIndexMarker012"/>point for every rule is a <strong class="bold">trigger</strong>. A trigger defines how the rule will activate and will generally listen for events in Jira, such as when an issue is created or when values in fields within an issue change.</p>
			<p>In this section, we will begin by looking at Jira events as this will help you to understand <em class="italic">when</em> and <em class="italic">why</em> rules are triggered, after which we'll explore the available rule triggers, <em class="italic">what</em> each of them are, and <em class="italic">how</em> they can be used.</p>
			<h2 id="_idParaDest-26"><a id="_idTextAnchor025"/>Understanding Jira events</h2>
			<p>To better understand how<a id="_idIndexMarker013"/> triggers work, it is worth taking a brief look at how events in Jira work as these are the driving force behind most of the triggers available in the automation rules.</p>
			<p>Jira, like many applications, incorporates an event-driven architecture. In essence, this means that every time an action is performed within Jira, an event is fired that allows interested components to listen to and perform additional actions based on those events.</p>
			<p>There are two main types of events that affect issues in Jira. The first of these are workflow events. These events are fired when an issue is created and any time an issue is transitioned to a new status in its underlying workflow, and are responsible for causing the <strong class="bold">Issue created</strong> and <strong class="bold">Issue transitioned</strong> triggers in an automation rule to fire.</p>
			<p>The second type of event is issue events and these are responsible for the majority of the remainder of the issue triggers and are fired whenever a user (or app) makes a non-workflow-related change to an issue, such as updating a field or linking two issues together.</p>
			<h2 id="_idParaDest-27"><a id="_idTextAnchor026"/>Rule triggers</h2>
			<p>Jira automation provides us with a<a id="_idIndexMarker014"/> number of triggers that we can use to kick off the execution of our rules.</p>
			<p>These triggers are grouped into categories to make it easier to identify which type of trigger you will need when creating your rule, and these categories are as follows:</p>
			<ul>
				<li>Issue triggers</li>
				<li>DevOps triggers</li>
				<li>Scheduled triggers</li>
				<li>Integration triggers</li>
			</ul>
			<p>We will take a look at each category in turn and the available triggers in each.</p>
			<h3 id="_idParaDest-28">Issue triggers</h3>
			<p>As we mentioned in the <em class="italic">Understanding Jira events</em> section, the majority of triggers relate to events occurring on issues, such as when an issue is created or edited.</p>
			<p>Most of the triggers are self-explanatory and single purpose. However, there are some that can be further configured to make the trigger more specific without needing to use additional conditions.</p>
			<p>Let's take a look at the issue triggers<a id="_idIndexMarker015"/> available at the time of writing and what each one does:</p>
			<ul>
				<li><strong class="bold">Field value changed</strong>: This rule <a id="_idIndexMarker016"/>will run when the value of a field changes. You configure this trigger by selecting the fields you want to monitor or by using a regular expression that matches the field names you want to monitor. You can also optionally narrow which issue operations will trigger the rule.</li>
				<li><strong class="bold">Issue assigned</strong>: This rule will run when the assignee of the issue changes.</li>
				<li><strong class="bold">Issue commented</strong>: This rule will run every time a new comment is added to an issue. Note though that this does not include when comments are edited or deleted.</li>
				<li><strong class="bold">Issue created</strong>: This rule will execute every time an issue is created. This trigger listens for the issue-created event that is always fired as the first step in a workflow.</li>
				<li><strong class="bold">Issue deleted</strong>: This rule will run when an issue is deleted.</li>
				<li><strong class="bold">Issue link deleted</strong>: This rule will run when an issue is unlinked from another issue. You can optionally configure this trigger to only execute for specific link types.</li>
				<li><strong class="bold">Issue linked</strong>: This rule will execute when an issue is linked to another issue. Like the issue link deleted trigger, you can optionally configure which issue link type the trigger will execute for.</li>
				<li><strong class="bold">Issue moved</strong>: This rule will execute when an issue is moved from one project to another. You can optionally specify that the trigger only executes if an issue is moved from a specific project.</li>
				<li><strong class="bold">Issue transitioned</strong>: This rule will<a id="_idIndexMarker017"/> execute every time an issue transitions through the workflow from one status to another. You can optionally configure this trigger to listen for a specific transition or multiple transitions to or from a specific status.</li>
				<li><strong class="bold">Issue updated</strong>: This will trigger<a id="_idIndexMarker018"/> the rule when details on an issue are updated, except when changes are made by linking, assigning, or logging work on an issue.</li>
				<li><strong class="bold">SLA threshold breached</strong>: This rule will get triggered for issues in a Service Management project when the SLA threshold has breached or is about to breach. You can configure which SLA to monitor as well as the time before or after it has breached.</li>
				<li><strong class="bold">Work logged</strong>: This rule will run when a worklog is created, updated, or deleted.</li>
			</ul>
			<p>There are a few specialized issue triggers worth taking note of and these are the following:</p>
			<ul>
				<li><strong class="bold">Manual trigger</strong>: This trigger is not dependent on any underlying events. Instead, triggers of this type are presented to the user in the Issue view and require the user to manually activate them.</li>
				<li><strong class="bold">Multiple issue events</strong>: This trigger allows you to listen to more than one event for an issue. For example, this is useful when you need to perform the same automation when a ticket is both created and updated, rather than having to create a separate rule for each event.</li>
				<li><strong class="bold">Sprint and Version triggers</strong>: These triggers are not directly associated with underlying issues, and instead they allow you to perform actions against the related issues when something <a id="_idIndexMarker019"/>happens to the containing Sprint or when the<a id="_idIndexMarker020"/> versions pertaining to a project are created or changed.</li>
				<li><strong class="bold">Service limit breached</strong>: This is a specialized trigger that allows you to monitor and manage your automation rules themselves.</li>
			</ul>
			<h3 id="_idParaDest-29">DevOps triggers</h3>
			<p>DevOps triggers are specific to Jira <a id="_idIndexMarker021"/>Cloud and allow you to create rules that are linked to events in your <a id="_idIndexMarker022"/>connected development tools, such as Bitbucket and GitHub.</p>
			<p>Let's take a quick look at these triggers and what they do:</p>
			<ul>
				<li><strong class="bold">Branch created</strong>: This rule will run when a branch in a connected source repository is created.</li>
				<li><strong class="bold">Build failed</strong>: This rule will be executed when a build in a connected build tool fails. You can optionally configure this to trigger on specific build names, branches, or tags.</li>
				<li><strong class="bold">Build status changed</strong>: This rule will be run when the build status in a connected build tool changes, for example, from failed to success, or vice versa. This can optionally also be configured to trigger on specific build names, branches, or tags.</li>
				<li><strong class="bold">Build successful</strong>: Similar to the previous triggers, this will cause the rule to execute when a build in a connected build tool is successful. This can also optionally be configured to listen for specific build names, branches, or tags.</li>
				<li><strong class="bold">Commit created</strong>: This rule will run when a commit is created in a connected source repository.</li>
				<li><strong class="bold">Deployment failed</strong>: This rule will execute when a deployment against a specified environment fails.</li>
				<li><strong class="bold">Deployment status changed</strong>: This rule will run when the deployment against a specified environment changes status from failed to success, or vice versa.</li>
				<li><strong class="bold">Deployment successful</strong>: This rule will run when the deployment against a specified environment is successful.</li>
				<li><strong class="bold">Pull request created</strong>: This rule will execute when a pull request in a connected source repository is created.</li>
				<li><strong class="bold">Pull request declined</strong>: This<a id="_idIndexMarker023"/> rule will execute when a pull request in a connected source<a id="_idIndexMarker024"/> repository is declined.</li>
				<li><strong class="bold">Pull request merged</strong>: This rule will execute when a pull request in a connected source repository is merged.<p class="callout-heading">Important note</p><p class="callout">DevOps triggers are not available in Jira Server, although these triggers can be emulated using the <em class="italic">Incoming webhook integration</em> trigger.</p></li>
			</ul>
			<p>We will explore these triggers in more detail in <a href="B16551_08_Final_ASB_ePub.xhtml#_idTextAnchor127"><em class="italic">Chapter 8</em></a>, <em class="italic">Integrating with DevOps tools</em>.</p>
			<h3 id="_idParaDest-30">Scheduled triggers</h3>
			<p>Scheduled <a id="_idIndexMarker025"/>triggers allow you to configure rules that run at defined intervals. These can be <a id="_idIndexMarker026"/>simple fixed-rate intervals or more complex schedules.</p>
			<p>Scheduled triggers are perfect for automating clean-up processes or to create recurring tasks that need to be actioned and we'll look at these in more detail in <a href="B16551_02_Final_ASB_ePub.xhtml#_idTextAnchor038"><em class="italic">Chapter 2</em></a>, <em class="italic">Automating Jira Issues</em><em class="italic">.</em></p>
			<h3 id="_idParaDest-31">Integration triggers</h3>
			<p>The final type of trigger <a id="_idIndexMarker027"/>is the incoming webhook. This trigger provides a way for <a id="_idIndexMarker028"/>third-party applications to trigger automation rules.</p>
			<p>An incoming webhook trigger can specify the exact issues to act on or even provide real-time data that you can use to update issues.</p>
			<p><a href="B16551_05_Final_ASB_ePub.xhtml#_idTextAnchor095"><em class="italic">Chapter 5</em></a>, <em class="italic">Working with External Systems</em>, is dedicated to exploring the ways in which we can integrate our automation rules with external systems.</p>
			<h1 id="_idParaDest-32"><a id="_idTextAnchor027"/>Working with conditions</h1>
			<p>Once a rule has been <a id="_idIndexMarker029"/>triggered and in order for it to continue to run, it will need to meet the criteria that you have specified.</p>
			<p>Conditions, therefore, narrow the scope of a rule and if a condition fails, the rule will stop running and no actions following that condition will be performed.</p>
			<p>Automation provides a number of conditions that can be applied to a rule, most of which can be applied either in isolation or chained together to form more complex conditions.</p>
			<p>The set of conditions available to automation rules is as follows:</p>
			<ul>
				<li><code>Issue</code> fields condition is not sufficient.</li>
				<li><strong class="bold">If/else block</strong>: This condition allows us to perform alternate actions depending on whether the conditions in each block match and you can have as many conditions as you need.</li>
				<li><strong class="bold">Issue attachments</strong>: This condition checks whether attachments exist for an issue.</li>
				<li><strong class="bold">Issue fields condition</strong>: This condition checks an issue field against a particular criterion that you can specify.</li>
				<li><strong class="bold">JQL condition</strong>: This condition allows you to check an issue against any valid JQL query.</li>
				<li><strong class="bold">Related issues condition</strong>: This condition allows you to check whether related issues exist for the triggered issue and whether they match a specific JQL query.</li>
				<li><strong class="bold">User condition</strong>: This condition <a id="_idIndexMarker030"/>allows you to compare a user to a set of criteria.</li>
			</ul>
			<p>We will cover conditions in more detail in <a href="B16551_02_Final_ASB_ePub.xhtml#_idTextAnchor038"><em class="italic">Chapter 2</em></a>, <em class="italic">Automating Jira Issues.</em></p>
			<h1 id="_idParaDest-33"><a id="_idTextAnchor028"/>Working with actions</h1>
			<p>The final building<a id="_idIndexMarker031"/> block in the rule chain is <strong class="bold">actions</strong>. Actions are the components that allow you to make changes within your projects and can perform many tasks, including editing issues, sending notifications, creating tasks, and much more.</p>
			<p>Like conditions, a rule chain can include multiple actions in the chain, allowing you to perform more than one task in a single rule; for example, editing an issue field followed immediately by sending a notification via email.</p>
			<p>Rule actions are grouped in categories in order to make it easier to identify the type of action you want your rule to perform.</p>
			<p>Let's take a look at the categories and then we'll examine the actions in each category:</p>
			<ul>
				<li>Issue actions</li>
				<li>Notifications</li>
				<li>Jira Service Management</li>
				<li>Software</li>
				<li>Advanced</li>
			</ul>
			<h2 id="_idParaDest-34"><a id="_idTextAnchor029"/>Issue actions</h2>
			<p>Actions <a id="_idIndexMarker032"/>in the <strong class="bold">Issue actions</strong> category allow you to make changes to existing issues as <a id="_idIndexMarker033"/>well as create new issues. Let's look at the available actions in this category, and what each of them do:</p>
			<ul>
				<li><strong class="bold">Assign issue</strong>: This action assigns the issue to a user. This can be to a specific user or by using a method such as balanced workload, round-robin, or randomly when using a list of users.</li>
				<li><strong class="bold">Clone issue</strong>: This action creates a new issue, in the same project or in a different project, copying across all possible fields. It is not a true clone and will therefore not copy across links, attachments, or comments.</li>
				<li><strong class="bold">Comment on issue</strong>: This action allows you to add a comment to the issue, optionally specifying the visibility in Service Management projects.</li>
				<li><strong class="bold">Create issue</strong>: This action creates a new issue in the project, or selected project for global rules, and allows you to select which fields to configure and their corresponding values.</li>
				<li><strong class="bold">Create sub-tasks</strong>: This action creates sub-tasks on the issue and sets the summary to the specified value. If you select to add additional fields, this action will be converted to a <strong class="bold">Create issue</strong> action with the issue type set to <strong class="bold">sub-task</strong>.</li>
				<li><strong class="bold">Delete comment</strong>: This action can only be used with triggers that involve adding a comment and can only be used to delete the comment that triggered the rule. It cannot be used to delete any other comment.</li>
				<li><strong class="bold">Delete issue</strong>: This action causes the current issue that is in context to be deleted.</li>
				<li><strong class="bold">Delete issue links</strong>: This action allows you to delete any issue links on an issue. You can specify certain types of links to delete or specific issues.</li>
				<li><strong class="bold">Edit issue</strong>: This action lets you edit the fields on the issue by choosing the fields and setting their corresponding values.</li>
				<li><strong class="bold">Link issues</strong>: Using this action will allow you to link an issue to another issue by selecting the link type and the issue to link.</li>
				<li><strong class="bold">Log work</strong>: This action<a id="_idIndexMarker034"/> allows you to log time worked against an issue using either actual dates and times, or by using smart value functions.</li>
				<li><strong class="bold">Manage watchers</strong>: Use this action to specify users to add or remove as watchers on the issue.</li>
				<li><strong class="bold">Transition issue</strong>: This<a id="_idIndexMarker035"/> action allows you to transition an issue from one status to another through the assigned workflow. You can additionally select fields and their associated values to be updated during the transition, providing these fields are present on the issue transition screen.</li>
			</ul>
			<h2 id="_idParaDest-35"><a id="_idTextAnchor030"/>Notifications</h2>
			<p>Actions in this category allow you to<a id="_idIndexMarker036"/> send <strong class="bold">notifications</strong> via various channels as well as give you the ability to send data to other external systems. The actions in this category are as follows:</p>
			<ul>
				<li><strong class="bold">Send email</strong>: This action sends an email when the rule executes.</li>
				<li><strong class="bold">Send Microsoft Teams message</strong>: This action allows you to send a message to notify a team in Microsoft Teams when the rule is run.</li>
				<li><strong class="bold">Send Slack message</strong>: This action allows you to send a message to a Slack channel or specific Slack user when the rule is run.</li>
				<li><strong class="bold">Send Twilio notification</strong>: Use this action to send an SMS message using Twilio when the rule is executed.</li>
				<li><strong class="bold">Send web request</strong>: This action allows you to send a request to any third-party system that can accept web requests. You can also configure this action to accept response data from the external system that can be used in subsequent actions.</li>
			</ul>
			<h2 id="_idParaDest-36"><a id="_idTextAnchor031"/>Jira Service Management</h2>
			<p>These actions allow you perform tasks specific to <strong class="bold">Service Management</strong> projects<a id="_idIndexMarker037"/> and are as follows:</p>
			<ul>
				<li><strong class="bold">Add Service project customer</strong>: This action allows you to add customers to your Service Management project.</li>
				<li><strong class="bold">Approve/Decline request</strong>: You can use this action to approve or decline a request in a Service Management project.</li>
				<li><strong class="bold">Create service request</strong>: This action allows you to create a service request in a Service Management project. It is similar in function to the <strong class="bold">Create issue</strong> action, but adds the ability to select the request type and customer.</li>
			</ul>
			<h2 id="_idParaDest-37"><a id="_idTextAnchor032"/>Software</h2>
			<p>Software actions <a id="_idIndexMarker038"/>allow you to manipulate the <strong class="bold">software</strong> versions within a Software project and <a id="_idIndexMarker039"/>are limited to the following actions:</p>
			<ul>
				<li><strong class="bold">Create version</strong>: This action allows you to create new versions within the project. It will not create a version if one with the same name already exists.</li>
				<li><strong class="bold">Release version</strong>: This action releases the next unreleased version in the project using the version's release date. Alternatively, you can configure which unreleased version to release and optionally override the release date.</li>
				<li><strong class="bold">Unrelease version</strong>: This action allows you to unrelease a version.</li>
			</ul>
			<h2 id="_idParaDest-38"><a id="_idTextAnchor033"/>Advanced</h2>
			<p>The final<a id="_idIndexMarker040"/> category is the <strong class="bold">advanced</strong> actions. These actions allow you to do things such as <a id="_idIndexMarker041"/>creating variables for use in later rule components, log information to the audit log, and more. Let's take a look at these now:</p>
			<ul>
				<li><strong class="bold">Create variable</strong>: This action allows you to create a smart variable for use in other actions and conditions within this rule, and is only available in Jira Cloud.</li>
				<li><strong class="bold">Delete attachments</strong>: This action allows you to delete attachments from an issue using regular expressions against the attachment filenames.</li>
				<li><strong class="bold">Log action</strong>: Use this action to log a message to the rule's audit log. This action is particularly useful in debugging rules.</li>
				<li><strong class="bold">Lookup issues</strong>: This action allows you to use JQL to search up to 100 other issues and include the results list in other actions in this rule.</li>
				<li><strong class="bold">Re-fetch issue data</strong>: This action refreshes the smart values with the latest issue data. This is especially useful in multi-action rules where subsequent actions rely on previously updated data.</li>
				<li><strong class="bold">Set entity property</strong>: You can<a id="_idIndexMarker042"/> use this action to set entity properties <a id="_idIndexMarker043"/>on issues, projects, and users. These are hidden key/value stores that are used by certain apps.</li>
			</ul>
			<h1 id="_idParaDest-39"><a id="_idTextAnchor034"/>Creating your first rule</h1>
			<p>Now that we've covered the key concepts, let's take a<a id="_idIndexMarker044"/> look at creating your first automation rule.</p>
			<p>Before we dive into the actual rule, we'll take a brief look at the rule editor user interface and its layout.</p>
			<h2 id="_idParaDest-40"><a id="_idTextAnchor035"/>The rule editor</h2>
			<p>The following <a id="_idIndexMarker045"/>screenshot represents the <strong class="bold">automation rule editor</strong>. As you can see, it is presented in a structured format that makes working with rules straightforward and intuitive:</p>
			<div><div><img src="img/FIgure_1.3_B16551.jpg" alt="Figure 1.3 – The automation rule editor&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.3 – The automation rule editor</p>
			<p>Let's take a look at the<a id="_idIndexMarker046"/> main components that we have numbered in the preceding screenshot:</p>
			<ol>
				<li><strong class="bold">Rule-chain view</strong>: In this panel, you can see the name of the rule, along with the components that make up the rule, in the order in which they will be processed during execution. This is also where you can access the rule's main details and its bespoke audit log. You can also drag and drop components in this panel to reorder them.</li>
				<li><strong class="bold">Components</strong>: You can add new components anywhere in the rule chain by clicking on the <strong class="bold">Add components</strong> link that appears when you move your mouse pointer between any existing components.</li>
				<li><strong class="bold">Rule details view</strong>: The rule <a id="_idIndexMarker047"/>details view allows you to edit the main rule details, view the rule's audit log, and edit the component configurations as applicable.</li>
			</ol>
			<h2 id="_idParaDest-41"><a id="_idTextAnchor036"/>Creating a rule to assign the highest priority to VIP users' issues</h2>
			<p>This brings <a id="_idIndexMarker048"/>us to our first automation rule. In many organizations, issues raised by VIP users such as managers or executives need to be assigned the highest priority so that they get the attention of the team members immediately.</p>
			<p>As this is our first rule, we'll show you step by step, with associated screenshots, how to author an automation rule in Jira so you can see how the rule editor enables us to quickly create a rule intuitively.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">The location of the automation rules configurations differs slightly between Jira Cloud and Jira Server.</p>
			<p class="callout">In Jira Cloud projects, automation rules can be found under the <strong class="bold">Automation</strong> tab in <strong class="bold">Project Settings</strong>, whilst in Jira Server, they can be found under the <strong class="bold">Project automation</strong> tab.</p>
			<p>For this rule, we are going to use a Service Management project. To follow along with this rule, you will need to have a user group defined, called <strong class="bold">VIP</strong>, to which the appropriate users are assigned.</p>
			<p>Firstly, in your Service Management project, navigate to <strong class="bold">Project settings</strong>, click on the <strong class="bold">Automation</strong> tab, and then click the<a id="_idIndexMarker049"/> <strong class="bold">Create Rule</strong> button in the upper-right corner:</p>
			<ol>
				<li value="1">After you've decided to create a new rule, the first thing you're presented with is the option to choose your trigger.<p>For this rule, click on the <strong class="bold">Issue created</strong> trigger and then click <strong class="bold">Save</strong>, as shown in the following screenshot:</p><div><img src="img/Figure_1.4_B16551.jpg" alt="Figure 1.4 – Selecting the Issue created trigger&#13;&#10;"/></div><p class="figure-caption">Figure 1.4 – Selecting the Issue created trigger</p></li>
				<li>Next we are going to add in a condition that checks whether the user who reported the issue is a member of the <em class="italic">VIP</em> user group.<p>In the following<a id="_idIndexMarker050"/> screen, select <strong class="bold">New condition</strong>, followed by the <strong class="bold">JQL condition </strong>component:</p><div><img src="img/Figure_1.5_B16551.jpg" alt="Figure 1.5 – Adding the JQL condition component&#13;&#10;"/></div><p class="figure-caption">Figure 1.5 – Adding the JQL condition component</p></li>
				<li>The JQL condition component requires further configuration in the form of a JQL query. In the component's configuration screen, enter the following JQL query, then click the <code>reporter in membersOf("VIP")</code></p><p>Your rule should look similar to the following screenshot:</p><div><img src="img/Figure_1.6_B16551.jpg" alt="Figure 1.6 – Configuring the JQL condition component&#13;&#10;"/></div><p class="figure-caption">Figure 1.6 – Configuring the JQL condition component</p></li>
				<li>Next, we need<a id="_idIndexMarker051"/> to insert the action to perform. In this case, we need to use the <strong class="bold">Edit issue</strong> action in order to set the <strong class="bold">Priority</strong> field to <strong class="bold">highest</strong>.<p>Go ahead and click on <strong class="bold">New action</strong>, followed by <strong class="bold">Edit issue</strong>:</p><div><img src="img/Figure_1.7_B16551.jpg" alt="Figure 1.7 – Selecting the Edit issue action&#13;&#10;"/></div><p class="figure-caption">Figure 1.7 – Selecting the Edit issue action</p></li>
				<li>Like the <strong class="bold">JQL condition</strong> component, the <strong class="bold">Edit issue</strong> component also requires further configuration and we now need to choose the fields we wish to update.<p>You can set<a id="_idIndexMarker052"/> multiple fields in this action. However, for this rule, we are only going to set the <strong class="bold">Priority</strong> field. Start by typing the field name, and then click on the checkbox once you've narrowed your selection:</p><div><img src="img/Figure_1.8_B16551.jpg" alt="Figure 1.8 – Selecting the Priority field&#13;&#10;"/></div><p class="figure-caption">Figure 1.8 – Selecting the Priority field</p></li>
				<li>Now that <a id="_idIndexMarker053"/>you've selected the <strong class="bold">Priority</strong> field, click out of the <strong class="bold">Choose fields to set</strong> option so that you can access the field values list where you will be presented with a dropdown of available options. Select the value <strong class="bold">Highest</strong>, and then click on <strong class="bold">Save</strong>:<div><img src="img/Figure_1.9_B16551.jpg" alt="Figure 1.9 – Setting the value of the Priority field&#13;&#10;"/></div><p class="figure-caption">Figure 1.9 – Setting the value of the Priority field</p></li>
				<li>We have<a id="_idIndexMarker054"/> now configured our first rule. All that remains is to give our new rule a name, turn it on, and give it a description.<p>In the following screen, set the rule name as follows and then click <code>Set highest priority for VIPs</code></p><p>The completed rule components should look similar to the following screenshot:</p><div><img src="img/Figure_1.10_B16551.jpg" alt="Figure 1.10 – Giving the rule a name and turning it on&#13;&#10;"/></div><p class="figure-caption">Figure 1.10 – Giving the rule a name and turning it on</p></li>
				<li>Finally, let's give our rule a description and ensure we're happy with the general rule details. Click on <code>Ensure issues created by members of the VIP group are assigned the highest priority.</code></p><div><img src="img/Figure_1.11_B16551.jpg" alt="Figure 1.11 – Adding a description to your rule&#13;&#10;"/></div><p class="figure-caption">Figure 1.11 – Adding a description to your rule</p></li>
				<li>You may have<a id="_idIndexMarker055"/> noticed that when you entered the description, the lozenge at the top of the <strong class="bold">Rule-chain</strong> view changed from <strong class="bold">Enabled</strong> to <strong class="bold">Draft</strong>.<p>This alerts you to the fact that changes have been made to the rule, but not yet published. If you do not wish these changes to be published, either click on the <strong class="bold">Cancel</strong> button at the bottom of the <strong class="bold">Rule</strong> details panel or click the <strong class="bold">Return to list</strong> link in the top-right corner of the <strong class="bold">Details</strong> panel.</p><p>For now, click on <strong class="bold">Publish changes</strong>:</p></li>
			</ol>
			<div><div><img src="img/Figure_1.12_B16551.jpg" alt="Figure 1.12 – Publishing your rule changes&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.12 – Publishing your rule changes</p>
			<p>Your rule will now appear <a id="_idIndexMarker056"/>in the rule list against your Service Management project and every time an issue is created by a user in the VIP user group, the priority will automatically update to <strong class="bold">Highest</strong>.</p>
			<p>To test this rule, add yourself to the VIP group and create a new service request in your Service Management project. Make sure the priority is set to something other than <strong class="bold">Highest</strong>. Once you have created the issue, navigate to it and examine the activity in the <strong class="bold">History</strong> tab. You should see the priority change from what you selected to <strong class="bold">Highest</strong>, and the activity should be logged against the rule actor.</p>
			<p>You have now learned how to create and publish an automation rule in Jira without writing any code.</p>
			<h1 id="_idParaDest-42"><a id="_idTextAnchor037"/>Summary</h1>
			<p>In this chapter, you have learned about the key concepts of automation rules in Jira and the basic building blocks of rules, including triggers, conditions, and actions. We also covered rule types and the differences between rule owners and actors and finally, we saw how to combine all of these concepts into our first automation rule.</p>
			<p>As you have learned in this chapter, we have a lot of powerful and flexible components at our disposal that will, in turn, help us to create powerful automation rules to automate everyday tasks in Jira without the need to write any code. In the following chapters, we will be exploring these components in more detail and with the help of practical examples that you can use to kick-start your own rules.</p>
			<p>In the following chapter, we will learn how to use these components to work with issues in Jira. We'll explore all the conditions we introduced in this chapter, how to work with related issues, and how we can use some of the action components available to edit and transition issues before looking at how we can run rules on a scheduled basis.</p>
		</div>
	</body></html>