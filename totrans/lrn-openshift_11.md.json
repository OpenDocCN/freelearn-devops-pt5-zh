["```\n$ cat Vagrantfile \n$common_provision = <<SCRIPT\ncat <<EOF >> /etc/hosts\n172.24.0.11 openshift-master.example.com openshift-master\n172.24.0.12 openshift-node-1.example.com openshift-node-1\n172.24.0.13 openshift-node-2.example.com openshift-node-2\nEOF\nsed -i '/^127.0.0.1.*openshift.*$/d' /etc/hosts\nyum -y update\nyum install -y docker\nsystemctl start docker\nsystemctl enable docker\nSCRIPT\n\n$master_provision = <<SCRIPT\nyum -y install git epel-release\nyum -y install ansible\ngit clone -b release-3.9 https://github.com/openshift/openshift-ansible /root/openshift-ansible\nssh-keygen -f /root/.ssh/id_rsa -N ''\ncp /root/.ssh/id_rsa.pub /root/.ssh/authorized_keys\nfor i in 1 3; do ssh-keyscan 172.24.0.1$i; done >> .ssh/known_hosts\ncp .ssh/known_hosts /root/.ssh/known_hosts\nfor i in 1 2; do sudo ssh-copy-id -o IdentityFile=/vagrant_private_keys/machines/openshift-node-$i/virtualbox/private_key -f -i /root/.ssh/id_rsa root@172.24.0.1$((i+1)); done\nreboot\nSCRIPT\n\n$node_provision = <<SCRIPT\ncp -r /home/vagrant/.ssh /root\nreboot\nSCRIPT\n\nVagrant.configure(2) do |config|\n  config.vm.define \"openshift-node-1\" do |conf|\n    conf.vm.box = \"centos/7\"\n    conf.vm.hostname = 'openshift-node-1.example.com'\n    conf.vm.network \"private_network\", ip: \"172.24.0.12\"\n    conf.vm.provider \"virtualbox\" do |v|\n       v.memory = 2048\n       v.cpus = 2\n    end\n    conf.vm.provision \"shell\", inline: $common_provision\n    conf.vm.provision \"shell\", inline: $node_provision\n  end\n\n  config.vm.define \"openshift-node-2\" do |conf|\n    conf.vm.box = \"centos/7\"\n    conf.vm.hostname = 'openshift-node-2.example.com'\n    conf.vm.network \"private_network\", ip: \"172.24.0.13\"\n    conf.vm.provider \"virtualbox\" do |v|\n       v.memory = 2048\n       v.cpus = 2\n    end\n    conf.vm.provision \"shell\", inline: $common_provision\n    conf.vm.provision \"shell\", inline: $node_provision\n  end\n\n  config.vm.define \"openshift-master\" do |conf|\n    conf.vm.box = \"centos/7\"\n    conf.vm.hostname = 'openshift-master.example.com'\n    conf.vm.network \"private_network\", ip: \"172.24.0.11\"\n    conf.vm.synced_folder '.vagrant/', '/vagrant_private_keys', type: 'rsync'\n    conf.vm.provider \"virtualbox\" do |v|\n       v.memory = 4096\n       v.cpus = 2\n    end\n    conf.vm.provision \"shell\", inline: $common_provision\n    conf.vm.provision \"shell\", inline: $master_provision\n  end\nend\n```", "```\n$ cat /etc/hosts\n127.0.0.1   localhost openshift localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n172.24.0.11 openshift.example.com\n```", "```\n$ vagrant up\nBringing machine 'openshift-node-1' up with 'virtualbox' provider...\nBringing machine 'openshift-node-2' up with 'virtualbox' provider...\nBringing machine 'openshift-master' up with 'virtualbox' provider...\n...\n<output omitted>\n...\n```", "```\n$ vagrant ssh openshift-master\n[vagrant@openshift-master ~]$ sudo -i\n[root@openshift-master ~]#\n```", "```\n# cat /etc/ansible/hosts ...\n<output omitted>\n...\n[masters]\n172.24.0.11\n\n[nodes]\n172.24.0.11 openshift_node_labels=\"{'region': 'us', 'zone': 'default'}\" openshift_ip=172.24.0.11 openshift_master_cluster_hostname=172.24.0.11 openshift_hostname=172.24.0.11\n172.24.0.12 openshift_node_labels=\"{'region': 'infra', 'zone': 'east'}\" openshift_ip=172.24.0.12 openshift_master_cluster_hostname=172.24.0.12 openshift_hostname=172.24.0.12\n172.24.0.13 openshift_node_labels=\"{'region': 'us', 'zone': 'west'}\" openshift_ip=172.24.0.13 openshift_master_cluster_hostname=172.24.0.13 openshift_hostname=172.24.0.13\n\n[etcd]\n172.24.0.11\n\n[OSEv3:vars]\nopenshift_deployment_type=origin\nopenshift_disable_check=memory_availability,disk_availability\nansible_service_broker_install=false\nopenshift_master_cluster_public_hostname=openshift.example.com\nopenshift_public_hostname=openshift.example.com\nopenshift_master_default_subdomain=openshift.example.com\nopenshift_schedulable=true\n\n[OSEv3:children]\nmasters\nnodes\netcd\n```", "```\n# cd openshift-ansible\n# ansible-playbook playbooks/prerequisites.yml\n...\n<output omitted>\n...\n# ansible-playbook playbooks/deploy_cluster.yml\n...\n<output omitted>\n...\n```", "```\n# cat /etc/origin/master/master-config.yaml\n...\n<output omitted>\n...\nnetworkConfig:\n  clusterNetworkCIDR: 10.128.0.0/14\n  clusterNetworks:\n  - cidr: 10.128.0.0/14\n    hostSubnetLength: 9\n...\n<output omitted>\n...\n```", "```\n# oc new-project demo\n...\n```", "```\n# cat httpd-pod.yml \napiVersion: v1\nkind: Pod\nmetadata:\n  name: httpd\n  labels:\n    role: web\nspec:\n  containers:\n  - name: httpd\n    image: manageiq/httpd\n    resources:\n      requests:\n        cpu: 400m\n        memory: 128Mi\n# oc create -f httpd-pod.yml\npod \"httpd\" created\n```", "```\n# oc describe po/httpd | grep '\\(Node\\|IP\\):'\nNode: 172.24.0.13/172.24.0.13\nIP: 10.129.0.20\n```", "```\n# oc rsh httpd ip a\n...\n<output omitted>\n...\n3: eth0@if25: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue state UP group default \n    link/ether 0a:58:0a:81:00:2c brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet 10.129.0.20/23 brd 10.129.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::14d1:32ff:fef9:b92c/64 scope link \n       valid_lft forever preferred_lft forever\n```", "```\n# oc project default\nNow using project \"default\" on server \"https://openshift-master.example.com:8443\".\n# oc get po\nNAME READY STATUS RESTARTS AGE\ndocker-registry-1-cplvg 1/1 Running 1 17h\nrouter-1-52xrr 1/1 Running 1 17h\n# oc describe po/docker-registry-1-cplvg | grep '\\(Node\\|IP\\):'\nNode: 172.24.0.12/172.24.0.12\nIP: 10.128.0.5\n```", "```\n# oc rsh docker-registry-1-cplvg ip a\n...\n<output omitted>\n...\n3: eth0@if12: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue state UP group default\n    link/ether 0a:58:0a:80:00:05 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet 10.128.0.5/23 brd 10.128.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::948e:9aff:feca:7f61/64 scope link\n       valid_lft forever preferred_lft forever\n```", "```\n# ip a\n...\n<output omitted>\n...\n9: br0: <BROADCAST,MULTICAST> mtu 1450 qdisc noop state DOWN group default qlen 1000\n    link/ether ae:da:68:ed:ac:4c brd ff:ff:ff:ff:ff:ff\n10: vxlan_sys_4789: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 65520 qdisc noqueue master ovs-system state UNKNOWN group default qlen 1000\n    link/ether 0e:fd:50:11:a1:a8 brd ff:ff:ff:ff:ff:ff\n11: tun0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/ether fa:4e:a6:71:84:8e brd ff:ff:ff:ff:ff:ff\n    inet 10.128.0.1/23 brd 10.128.1.255 scope global tun0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::f84e:a6ff:fe71:848e/64 scope link\n       valid_lft forever preferred_lft forever\n12: veth5d5b06ef@if3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue master ovs-system state UP group default\n    link/ether be:3e:2d:24:22:42 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet6 fe80::bc3e:2dff:fe24:2242/64 scope link\n       valid_lft forever preferred_lft forever\n```", "```\n# ovs-vsctl show\nbb215e68-10dc-483f-863c-5cd67927ed6b\n    Bridge \"br0\"\n        fail_mode: secure\n        Port \"vxlan0\"\n            Interface \"vxlan0\"\n                type: vxlan\n                options: {key=flow, remote_ip=flow}\n        Port \"tun0\"\n            Interface \"tun0\"\n                type: internal\n        Port \"veth5d5b06ef\"\n            Interface \"veth5d5b06ef\"\n        Port \"br0\"\n            Interface \"br0\"\n                type: internal\n    ovs_version: \"2.6.1\"\n```", "```\n# ip a\n...\n<output omitted>\n...\n9: br0: <BROADCAST,MULTICAST> mtu 1450 qdisc noop state DOWN group default qlen 1000\n    link/ether ea:e2:58:58:04:44 brd ff:ff:ff:ff:ff:ff\n10: vxlan_sys_4789: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 65520 qdisc noqueue master ovs-system state UNKNOWN group default qlen 1000\n    link/ether 76:ef:26:5c:61:08 brd ff:ff:ff:ff:ff:ff\n11: tun0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/ether 4a:a7:ab:95:bc:46 brd ff:ff:ff:ff:ff:ff\n    inet 10.129.0.1/23 brd 10.129.1.255 scope global tun0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::48a7:abff:fe95:bc46/64 scope link\n       valid_lft forever preferred_lft forever\n30: veth7b4d46e7@if3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue master ovs-system state UP group default\n    link/ether 7e:82:7a:d2:9b:df brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet6 fe80::7c82:7aff:fed2:9bdf/64 scope link\n       valid_lft forever preferred_lft forever\n# ovs-vsctl show\n3c752e9a-07c9-4b19-9789-a99004f2eaa3\n    Bridge \"br0\"\n        fail_mode: secure\n        Port \"br0\"\n            Interface \"br0\"\n                type: internal\n        Port \"vxlan0\"\n            Interface \"vxlan0\"\n                type: vxlan\n                options: {key=flow, remote_ip=flow}\n        Port \"veth7b4d46e7\"\n            Interface \"veth7b4d46e7\"\n        Port \"tun0\"\n            Interface \"tun0\"\n                type: internal\n    ovs_version: \"2.6.1\"\n```", "```\n# oc delete project demo\nproject \"demo\" deleted\n```", "```\n# cat /etc/origin/master/master-config.yaml\n...\n<output omitted>\n...\nnetworkConfig:\n  clusterNetworkCIDR: 10.128.0.0/14\n  clusterNetworks:\n  - cidr: 10.128.0.0/14\n    hostSubnetLength: 9\n  externalIPNetworkCIDRs:\n  - 0.0.0.0/0\n  hostSubnetLength: 9\n  networkPluginName: redhat/openshift-ovs-subnet ...\n<output omitted>\n...\n```", "```\n# oc new-project demo-1\n...\n```", "```\n# cat httpd-pod.yml apiVersion: v1\nkind: Pod\nmetadata:\n  name: httpd\n  labels:\n    role: web\nspec:\n  containers:\n  - name: httpd\n    image: manageiq/httpd\n    resources:\n      requests:\n        cpu: 400m\n        memory: 128Mi # oc create -f httpd-pod.yml\npod \"httpd\" created\n```", "```\n# oc describe po/httpd | grep IP:\nIP: 10.129.0.22\n```", "```\n# oc new-project demo-2\n...\n```", "```\n# oc create -f httpd-pod.yml\npod \"httpd\" created\n```", "```\n# oc rsh httpd ping 10.129.0.22\nPING 10.129.0.22 (10.129.0.22) 56(84) bytes of data.\n64 bytes from 10.129.0.22: icmp_seq=1 ttl=64 time=0.345 ms\n...\n<output omitted>\n...\n```", "```\n# oc project\nUsing project \"demo-2\" on server \"https://openshift-master.example.com:8443\".\n# oc describe po/httpd | grep IP:\nIP: 10.129.0.23\n# oc project demo-1Now using project \"demo-1\" on server \"https://openshift-master.example.com:8443\".\n# oc rsh httpd ping 10.129.0.23\nPING 10.129.0.23 (10.129.0.23) 56(84) bytes of data.\n64 bytes from 10.129.0.23: icmp_seq=1 ttl=64 time=0.255 ms\n...\n<output omitted>\n...\n```", "```\n# cat /etc/origin/master/master-config.yaml\n...\n<output omitted>\n...\nnetworkConfig:\n  clusterNetworkCIDR: 10.128.0.0/14\n  clusterNetworks:\n  - cidr: 10.128.0.0/14\n    hostSubnetLength: 9\n  externalIPNetworkCIDRs:\n  - 0.0.0.0/0\n  hostSubnetLength: 9\n  networkPluginName: redhat/openshift-ovs-multitenant\n...\n<output omitted>\n...\n```", "```\n# cat /etc/origin/node/node-config.yaml\n...\n<output omitted>\n...\nnetworkPluginName: redhat/openshift-ovs-multitenant\n# networkConfig struct introduced in origin 1.0.6 and OSE 3.0.2 which\n# deprecates networkPluginName above. The two should match.\nnetworkConfig:\n   mtu: 1450\n   networkPluginName: redhat/openshift-ovs-multitenant\n...\n<output omitted>\n...\n```", "```\n# systemctl restart origin-master-{api,controllers}\n```", "```\n# systemctl stop origin-node\n```", "```\n # systemctl restart openvswitch\n```", "```\n# systemctl start origin-node\n```", "```\n# oc describe po/httpd | grep IP:\nIP: 10.129.0.25\n```", "```\n# oc project demo-2\nNow using project \"demo-2\" on server \"https://openshift-master.example.com:8443\".\n\n# oc describe po/httpd | grep IP:\nIP: 10.129.0.24\n```", "```\n# oc rsh httpd ping 10.129.0.25\nPING 10.129.0.25 (10.129.0.25) 56(84) bytes of data.\n^C\n--- 10.129.0.25 ping statistics ---\n10 packets transmitted, 0 received, 100% packet loss, time 9057ms\n\ncommand terminated with exit code 1\n```", "```\n# oc project demo-1\nNow using project \"demo-1\" on server \"https://openshift-master.example.com:8443\".\n# oc rsh httpd ping 10.129.0.24\n\nPING 10.129.0.24 (10.129.0.24) 56(84) bytes of data.\n\n^C\n--- 10.129.0.24 ping statistics ---\n5 packets transmitted, 0 received, 100% packet loss, time 4012ms\n\ncommand terminated with exit code 1\n```", "```\n# oc adm pod-network join-projects --to=demo-1 demo-2\n```", "```\n# oc rsh httpd ping 10.129.0.24\nPING 10.129.0.24 (10.129.0.24) 56(84) bytes of data.\n64 bytes from 10.129.0.24: icmp_seq=1 ttl=64 time=0.323 ms\n...\n<output omitted>\n...\n# oc project demo-2\nNow using project \"demo-2\" on server \"https://openshift-master.example.com:8443\".\n# oc rsh httpd ping 10.129.0.25\nPING 10.129.0.25 (10.129.0.25) 56(84) bytes of data.\n64 bytes from 10.129.0.25: icmp_seq=1 ttl=64 time=0.287 ms\n...\n<output omitted>\n...\n```", "```\n# oc project default\nNow using project \"default\" on server \"https://openshift-master.example.com:8443\".\n# oc get po\nNAME                        READY   STATUS      RESTARTS  AGE\ndocker-registry-1-cplvg     1/1     Running     2         22h\nrouter-1-52xrr              1/1     Running     1         22h\n# oc describe po/docker-registry-1-cplvg | grep IP:\nIP: 10.128.0.6\n```", "```\n# oc project demo-1\nNow using project \"demo-1\" on server \"https://openshift-master.example.com:8443\".\n# oc rsh httpd ping 10.128.0.6\nPING 10.128.0.6 (10.128.0.6) 56(84) bytes of data.\n64 bytes from 10.128.0.6: icmp_seq=1 ttl=64 time=1.94 ms\n...\n<output omitted>\n...\n```", "```\n# oc project demo-2\nNow using project \"demo-2\" on server \"https://openshift-master.example.com:8443\".\n# oc rsh httpd ping 10.128.0.6\nPING 10.128.0.6 (10.128.0.6) 56(84) bytes of data.\n64 bytes from 10.128.0.6: icmp_seq=1 ttl=64 time=1.72 ms\n...\n<output omitted>\n...\n```", "```\n# oc adm pod-network isolate-projects demo-1\n```", "```\n# oc rsh httpd ping 10.129.0.25\nPING 10.129.0.25 (10.129.0.25) 56(84) bytes of data.\n\n^C\n--- 10.129.0.25 ping statistics ---\n3 packets transmitted, 0 received, 100% packet loss, time 2014ms\n\ncommand terminated with exit code 1\n```", "```\n# oc project demo-1\nNow using project \"demo-1\" on server \"https://openshift-master.example.com:8443\".\n\n# oc rsh httpd ping 10.129.0.24\nPING 10.129.0.24 (10.129.0.24) 56(84) bytes of data.\n^C\n--- 10.129.0.24 ping statistics ---\n4 packets transmitted, 0 received, 100% packet loss, time 3009ms\n\ncommand terminated with exit code 1\n```", "```\n# oc adm pod-network make-projects-global demo-2\n```", "```\n# oc rsh httpd ping 10.129.0.24\nPING 10.129.0.24 (10.129.0.24) 56(84) bytes of data.\n64 bytes from 10.129.0.24: icmp_seq=1 ttl=64 time=0.276 ms\n...\n<output omitted>\n...\n```", "```\n[root@openshift-master book]# oc get netnamespaces\nNAME                NETID      EGRESS IPS\ndefault             0          []\ndemo-1              9793016    []\ndemo-2              0          []\nkube-public         10554334   []\nkube-system         8648643    []\nlogging             11035285   []\nmanagement-infra    4781458    []\nopenshift           13291653   []\nopenshift-infra     12251614   []\nopenshift-node      38906      []\n```", "```\n# curl -O https://raw.githubusercontent.com/openshift/origin/master/contrib/migration/migrate-network-policy.sh\n# chmod +x migrate-network-policy.sh\n```", "```\n# ./migrate-network-policy.sh\n\nNAMESPACE: default\nNamespace is global: adding label legacy-netid=0\n\nNAMESPACE: demo-1\nnetworkpolicy \"default-deny\" created\nnetworkpolicy \"allow-from-self\" created\nnetworkpolicy \"allow-from-global-namespaces\" created\n\nNAMESPACE: demo-2\nNamespace is global: adding label legacy-netid=0\n...\n<output omitted>\n...\n```", "```\n# oc export networkpolicy/allow-from-global-namespaces\napiVersion: extensions/v1beta1\nkind: NetworkPolicy\nmetadata:\n  creationTimestamp: null\n  generation: 1\n  name: allow-from-global-namespaces\nspec:\n  ingress:\n - from:\n - namespaceSelector:\n matchLabels:\n pod.network.openshift.io/legacy-netid: \"0\"\n  podSelector: {}\n  policyTypes:\n  - Ingress\n```", "```\n# oc project\nUsing project \"demo-1\" on server \"https://openshift-master.example.com:8443\".\n```", "```\n# oc describe po/httpd | grep IP:\nIP: 10.129.0.26\n```", "```\n# oc project demo-2\n...\n# oc describe po/httpd | grep IP:\nIP: 10.129.0.27\n```", "```\n# oc rsh httpd ping 10.129.0.26\nPING 10.129.0.26 (10.129.0.26) 56(84) bytes of data.\n64 bytes from 10.129.0.26: icmp_seq=1 ttl=64 time=0.586 ms\n...\n<output omitted>\n...\n```", "```\n# oc project demo-1\nNow using project \"demo-1\" on server \"https://openshift-master.example.com:8443\".\n# oc rsh httpd ping 10.129.0.27\nPING 10.129.0.27 (10.129.0.27) 56(84) bytes of data.\n64 bytes from 10.129.0.27: icmp_seq=1 ttl=64 time=0.346 ms\n...\n<output omitted>\n...\n```", "```\n# oc new-project demo-3\n...\n\n# oc create -f httpd-pod.yml\npod \"httpd\" created\n\n# oc describe po/httpd | grep IP:\nIP: 10.129.0.28\n```", "```\n# oc rsh httpd ping 10.129.0.26\nPING 10.129.0.26 (10.129.0.26) 56(84) bytes of data.\n^C\n--- 10.129.0.26 ping statistics ---\n10 packets transmitted, 0 received, 100% packet loss, time 9063ms\n\ncommand terminated with exit code 1\n```", "```\n# oc project demo-1\n...\n\n# oc label namespace demo-3 name=demo-3\nnamespace \"demo-3\" labeled\n\n# cat networkpolicy-demo-3.yml\nkind: NetworkPolicy\napiVersion: extensions/v1beta1\nmetadata:\n  name: networkpolicy-demo-3\nspec:\n  podSelector:\n  ingress:\n - from:\n - namespaceSelector:\n matchLabels:\n name: demo-3\n\n# oc create -f networkpolicy-demo-3.yml\nnetworkpolicy \"networkpolicy-demo-3\" created\n```", "```\n# oc project demo-3\nNow using project \"demo-3\" on server \"https://openshift-master.example.com:8443\".\n# oc rsh httpd ping 10.129.0.26\nPING 10.129.0.26 (10.129.0.26) 56(84) bytes of data.\n64 bytes from 10.129.0.26: icmp_seq=1 ttl=64 time=0.546 ms\n...\n<output omitted>\n...\n```", "```\n# oc adm create-bootstrap-project-template -o yaml > demo-project-request.yml\n```", "```\n# cat demo-project-request.yml\napiVersion: v1\nkind: Template\nmetadata:\n  creationTimestamp: null\n  name: demo-project-request\nobjects:\n...\n<output omitted>\n...\n- apiVersion: extensions/v1beta1\n  kind: NetworkPolicy\n  metadata:\n    name: default-deny\n  spec:\n    ingress:\n...\n<output omitted>\n...\n```", "```\n# oc create -f demo-project-request.yml\ntemplate \"demo-project-request\" created\n```", "```\n# cat /etc/origin/master/master-config.yaml\nprojectConfig:\n  defaultNodeSelector: node-role.kubernetes.io/compute=true\n  projectRequestMessage: ''\n  projectRequestTemplate: demo-3/demo-project-request\n```", "```\n# systemctl restart origin-master-api\n```", "```\n# oc new-project demo-4\n...\n\n# oc get networkpolicy\nNAME POD-SELECTOR AGE\ndefault-deny <none> 7s\n```", "```\n# cat httpd-pod.yml apiVersion: v1\nkind: Pod\nmetadata:\n  name: httpd\n  labels:\n    role: web\nspec:\n  containers:\n  - name: httpd\n    image: manageiq/httpd\n    resources:\n      requests:\n        cpu: 400m\n        memory: 128Mi\n # oc create -f httpd-pod.yml\npod \"httpd\" created\n\n# oc describe po/httpd | grep IP:\nIP: 10.129.0.29\n```", "```\n# oc project demo-3\nNow using project \"demo-3\" on server \"https://openshift-master.example.com:8443\".\n# oc rsh httpd ping 10.129.0.29\nPING 10.129.0.29 (10.129.0.29) 56(84) bytes of data.\n^C\n--- 10.129.0.29 ping statistics ---\n5 packets transmitted, 0 received, 100% packet loss, time 4019ms\n\ncommand terminated with exit code 1\n```", "```\n# oc project demo-1\n...\n# oc rsh httpd ping github.com\nPING github.com (192.30.255.113) 56(84) bytes of data.\n64 bytes from lb-192-30-255-113-sea.github.com (192.30.255.113): icmp_seq=1 ttl=61 time=61.8 ms\n...\n<output omitted>\n...\n# oc rsh httpd ping google.com\nPING google.com (172.217.14.78) 56(84) bytes of data.\n64 bytes from lax17s38-in-f14.1e100.net (172.217.14.78): icmp_seq=1 ttl=61 time=132 ms\n...\n<output omitted>\n...\n```", "```\n# cat demo-egress-policy.yml \nkind: EgressNetworkPolicy\napiVersion: v1\nmetadata:\n  name: demo-egress-policy\nspec:\n  egress:\n  - type: Deny\n    to:\n      dnsName: github.com\n\n# oc create -f demo-egress-policy.yml \negressnetworkpolicy \"demo-egress-policy\" created\n```", "```\n# oc rsh httpd ping github.com\nPING github.com (192.30.255.113) 56(84) bytes of data.\n^C\n--- github.com ping statistics ---\n20 packets transmitted, 0 received, 100% packet loss, time 19090ms\n\ncommand terminated with exit code 1\n# oc rsh httpd ping google.com\nPING google.com (172.217.14.78) 56(84) bytes of data.\n64 bytes from lax17s38-in-f14.1e100.net (172.217.14.78): icmp_seq=1 ttl=61 time=35.9 ms\n...\n<output omitted>\n...\n```", "```\n# oc edit egressnetworkpolicy/demo-egress-policy\n...\n<output omitted>\n...\nspec:\n  egress:\n  - to:\n      dnsName: github.com\n    type: Allow\n  - to:\n      cidrSelector: 0.0.0.0/0\n    type: Deny\n```", "```\n# oc rsh httpd-egress ping github.com\nPING github.com (192.30.253.112) 56(84) bytes of data.\n64 bytes from lb-192-30-253-112-iad.github.com (192.30.253.112): icmp_seq=1 ttl=61 time=68.4 ms\n...\n<output omitted>\n...\n# oc rsh httpd-egress ping google.com\nPING google.com (209.85.201.138) 56(84) bytes of data.\n^C\n--- google.com ping statistics ---\n18 packets transmitted, 0 received, 100% packet loss, time 17055ms\n\ncommand terminated with exit code 1\n```", "```\n# oc new-project demo-1\n...\n```", "```\n# oc create -f httpd-pod.yml\npod \"httpd\" created\n```", "```\n# oc expose po/httpd --port 80\nservice \"httpd\" exposed\n```", "```\n# oc new-project demo-2\n...\n```", "```\n# oc create -f httpd-pod.yml\npod \"httpd\" created\n```", "```\n# oc expose po/httpd --port 80\nservice \"httpd\" exposed\n```", "```\n# oc exec httpd -it bash\nbash-4.2$ dig httpd.demo-1.svc.cluster.local\n...\n<output omitted>\n...\n;; ANSWER SECTION:\nhttpd.demo-1.svc.cluster.local. 30 IN A 172.30.35.41\n...\n<output omitted>\n...\n```", "```\n# oc project demo-1\nNow using project \"demo-1\" on server \"https://openshift-master.example.com:8443\".\n# oc exec httpd -it bash\nbash-4.2$ dig httpd.demo-2.svc.cluster.local\n...\n<output omitted>\n...\n;; ANSWER SECTION:\nhttpd.demo-2.svc.cluster.local. 30 IN A 172.30.81.86\n...\n<output omitted>\n...\n```", "```\n$ dig httpd.demo-2.endpoints.cluster.local\n...\n<output omitted>\n...\n;; ANSWER SECTION:\nhttpd.demo-2.endpoints.cluster.local. 30 IN A 10.129.0.7 ...\n<output omitted>\n...\n```", "```\n# ss -tulpn | grep '53 '\nudp UNCONN 0 0 *:8053 *:* users:((\"openshift\",pid=1492,fd=10))\ntcp LISTEN 0 128 *:8053 *:* users:((\"openshift\",pid=1492,fd=13))\n```", "```\n# ps auxf | grep openshift\n...\nroot       1492  7.3 10.3 1040996 402668 ?      Ssl  00:41  17:51 /usr/bin/openshift start master api --config=/etc/origin/master/master-config.yaml --loglevel=2 --listen=https://0.0.0.0:8443 --master=https://openshift-master.example.com:8443\n...\n```", "```\n# ss -tulpn | grep '53 '\nudp UNCONN 0 0 172.24.0.12:53 *:* users:((\"dnsmasq\",pid=1202,fd=4))\nudp UNCONN 0 0 127.0.0.1:53 *:* users:((\"openshift\",pid=2402,fd=26))\nudp UNCONN 0 0 10.128.0.1:53 *:* users:((\"dnsmasq\",pid=1202,fd=15))\nudp UNCONN 0 0 172.17.0.1:53 *:* users:((\"dnsmasq\",pid=1202,fd=19))\nudp UNCONN 0 0 10.0.2.15:53 *:* users:((\"dnsmasq\",pid=1202,fd=6))\n...\ntcp LISTEN 0 5 172.24.0.12:53 *:* users:((\"dnsmasq\",pid=1202,fd=5))\ntcp LISTEN 0 128 127.0.0.1:53 *:* users:((\"openshift\",pid=2402,fd=31))\ntcp LISTEN 0 5 10.128.0.1:53 *:* users:((\"dnsmasq\",pid=1202,fd=16))\ntcp LISTEN 0 5 172.17.0.1:53 *:* users:((\"dnsmasq\",pid=1202,fd=20))\ntcp LISTEN 0 5 10.0.2.15:53 *:* users:((\"dnsmasq\",pid=1202,fd=7))\n...\n```", "```\n# ps auxf | grep openshift\n...\nroot       2402  9.0  5.4 1067700 102980 ?      Ssl  00:42  22:39 /usr/bin/openshift start node --config=/etc/origin/node/node-config.yaml --loglevel=2\n```", "```\n# oc exec httpd -it bash\nbash-4.2$ cat /etc/resolv.conf \nnameserver 10.0.2.15\nsearch demo-1.svc.cluster.local svc.cluster.local cluster.local example.com\noptions ndots:5\n```", "```\n# cat /etc/dnsmasq.d/node-dnsmasq.conf\nserver=/in-addr.arpa/127.0.0.1\nserver=/cluster.local/127.0.0.1\n```", "```\n# cat /etc/dnsmasq.d/origin-upstream-dns.conf\nserver=10.0.2.2\n```"]