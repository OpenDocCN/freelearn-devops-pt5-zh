["```\ncd cloud-provisioning\n\ngit pull\n\nscripts/dm-swarm.sh\n\n```", "```\ndocker-machine ssh swarm-1\n\ntce-load -wi curl wget\n\nwget https://github.com/stedolan/jq/releases/download/jq-1.5/jq-linux64\n\nsudo mv jq-linux64 /usr/local/bin/jq\n\nsudo chmod +x /usr/local/bin/jq\n\n```", "```\ncurl \\ \n    --unix-socket /var/run/docker.sock \\\n    http:/nodes | jq '.'\n\n```", "```\ncurl \\\n    --unix-socket /var/run/docker.sock \\\n    http:/nodes/swarm-1 | jq '.'\n\n```", "```\n[\n  {\n    \"ID\": \"2vxiqun3wvh1l1g43utk2v5a7\",\n    \"Version\": {\n      \"Index\": 23\n    },\n    \"CreatedAt\": \"2017-01-23T20:30:00.402618571Z\",\n    \"UpdatedAt\": \"2017-01-23T20:30:04.026051022Z\",\n    \"Spec\": {\n      \"Labels\": {\n        \"env\": \"prod\"\n      },\n      \"Role\": \"manager\",\n      \"Availability\": \"active\"\n    },\n    \"Description\": {\n      \"Hostname\": \"swarm-1\",\n      \"Platform\": {\n        \"Architecture\": \"x86_64\",\n        \"OS\": \"linux\"\n       },\n      \"Resources\": {\n        \"NanoCPUs\": 1000000000,\n        \"MemoryBytes\": 1044131840\n      },\n      \"Engine\": {\n        \"EngineVersion\": \"1.13.0\",\n        \"Labels\": {\n          \"provider\": \"virtualbox\"\n        },\n        \"Plugins\": [\n          {\n            \"Type\": \"Network\",\n            \"Name\": \"bridge\"\n          },\n          {\n            \"Type\": \"Network\",\n            \"Name\": \"host\"\n          },\n          {\n            \"Type\": \"Network\",\n            \"Name\": \"macvlan\"\n          },\n          {\n            \"Type\": \"Network\",\n            \"Name\": \"null\"\n          },\n          {\n            \"Type\": \"Network\",\n            \"Name\": \"overlay\"\n          },\n          {\n            \"Type\": \"Volume\",\n            \"Name\": \"local\"\n          }\n        ]\n     }\n  },\n  \"Status\": {\n    \"State\": \"ready\",\n    \"Addr\": \"127.0.0.1\"\n},\n\"ManagerStatus\": {\n  \"Leader\": true,\n   \"Reachability\": \"reachable\",\n      \"Addr\": \"192.168.99.100:2377\"\n}\n},\n\n```", "```\ncurl -XPOST \\\n      -d '{\n  \"Name\": \"go-demo-db\",\n  \"TaskTemplate\": {\n    \"ContainerSpec\": {\n      \"Image\": \"mongo:3.2.10\"\n    }\n  }\n}' \\\n    --unix-socket /var/run/docker.sock \\\n    http:/services/create | jq '.'\n\n```", "```\n{\n  \"ID\": \"7157kfo9cp2vhed4bidrc8hfi\"\n}\n\n```", "```\ncurl \\\n    --unix-socket /var/run/docker.sock \\\n    http:/services | jq '.'\n\n```", "```\n[\n  {\n    \"ID\": \"s73ez21cmshwu8okipejehvo0\",\n    \"Version\": {\n      \"Index\": 26\n    },\n    \"CreatedAt\": \"2017-01-23T20:47:27.247329291Z\",\n    \"UpdatedAt\": \"2017-01-23T20:47:27.247329291Z\",\n    \"Spec\": {\n      \"Name\": \"go-demo-db\",\n      \"TaskTemplate\": {\n        \"ContainerSpec\": {\n          \"Image\":  \"mongo:3.2.10@sha256:532a19da83ee0e4e2a2ec6bc4212fc4af26357c040675d5c2\\\n629a4e4c4563cef\"\n         },\n        \"ForceUpdate\": 0\n      },\n      \"Mode\": {\n         \"Replicated\": {\n           \"Replicas\": 1\n      }\n    }\n  },\n  \"Endpoint\": {\n    \"Spec\": {}\n  },\n  \"UpdateStatus\": {\n      \"StartedAt\": \"0001-01-01T00:00:00Z\",\n      \"CompletedAt\": \"0001-01-01T00:00:00Z\"\n   }\n  }\n] \n\n```", "```\ncurl \\\n    --unix-socket /var/run/docker.sock \\\n    http:/services/go-demo-db | jq '.'\n\n```", "```\n{\n  \"ID\": \"s73ez21cmshwu8okipejehvo0\",\n  \"Version\": {\n    \"Index\": 26\n},\n  \"CreatedAt\": \"2017-01-23T20:47:27.247329291Z\",\n  \"UpdatedAt\": \"2017-01-23T20:47:27.247329291Z\",\n  \"Spec\": {\n    \"Name\": \"go-demo-db\",\n    \"TaskTemplate\": {\n      \"ContainerSpec\": {\n        \"Image\":  \"mongo:3.2.10@sha256:532a19da83ee0e4e2a2ec6bc4212fc4af26357c040675d5c2\n629a4e4c4563cef\"\n      },\n      \"ForceUpdate\": 0\n    },\n    \"Mode\": {\n      \"Replicated\": {\n        \"Replicas\": 1\n      }\n    }\n  },\n  \"Endpoint\": {\n    \"Spec\": {}\n  },\n  \"UpdateStatus\": {\n    \"StartedAt\": \"0001-01-01T00:00:00Z\",\n    \"CompletedAt\": \"0001-01-01T00:00:00Z\"\n  }\n}\n\n```", "```\nVERSION=$(curl \\\n    --unix-socket /var/run/docker.sock \\\n    http:/services/go-demo-db | \\\n    jq '.Version.Index')\n\necho $VERSION\n\n```", "```\n27\n\n```", "```\nID=$(curl \\\n    --unix-socket /var/run/docker.sock \\\n    http:/services/go-demo-db | \\\n    jq --raw-output '.ID')\n\necho $ID\n\n```", "```\n7157kfo9cp2vhed4bidrc8hfi\n\n```", "```\ncurl -XPOST \\\n    -d '{\n  \"Name\": \"go-demo-db\",\n  \"TaskTemplate\": {\n    \"ContainerSpec\": {\n      \"Image\": \"mongo:3.2.10\"\n    }\n  },\n  \"Mode\": {\n    \"Replicated\": {\n      \"Replicas\": 3\n    }\n  }\n}' \\\n    --unix-socket /var/run/docker.sock \\\n    http:/services/$ID/update?version=$VERSION\n\n```", "```\ncurl \\\n    --unix-socket /var/run/docker.sock \\\n    http:/tasks | jq '.'\n\n```", "```\n[\n  {\n    \"ID\": \"c0nev776zyuoaul51n5w9xc85\",\n    \"Version\": {\n      \"Index\": 32\n    },\n    \"CreatedAt\": \"2017-01-23T20:47:27.255828694Z\",\n    \"UpdatedAt\": \"2017-01-23T20:47:51.329755266Z\",\n    \"Spec\": {\n      \"ContainerSpec\": {\n        \"Image\":  \"mongo:3.2.10@sha256:532a19da83ee0e4e2a2ec6bc4212fc4af26357c040675d5c2\\\n629a4e4c4563cef\"\n       },\n       \"ForceUpdate\": 0\n    },\n    \"ServiceID\": \"s73ez21cmshwu8okipejehvo0\",\n    \"Slot\": 1,\n    \"NodeID\": \"2vxiqun3wvh1l1g43utk2v5a7\",\n    \"Status\": {\n      \"Timestamp\": \"2017-01-23T20:47:51.295994806Z\",\n      \"State\": \"running\",\n      \"Message\": \"started\",\n      \"ContainerStatus\": {\n        \"ContainerID\": \n\"20112c904386733c6748bc186e84255640c9dc279fd3530b771616a1ef767957\",\n        \"PID\": 4238\n       },\n     \"PortStatus\": {}\n     },\n    \"DesiredState\": \"running\"\n },\n {\n    \"ID\": \"ptbp594sh5k2qey6lexafr31d\",\n    \"Version\": {\n      \"Index\": 37\n },\n    \"CreatedAt\": \"2017-01-23T21:16:55.680872244Z\",\n    \"UpdatedAt\": \"2017-01-23T21:16:55.960585822Z\",\n    \"Spec\": {\n      \"ContainerSpec\": {\n        \"Image\":  \"mongo:3.2.10@sha256:532a19da83ee0e4e2a2ec6bc4212fc4af26357c040675d5c2\\\n629a4e4c4563cef\"\n     },\n        \"ForceUpdate\": 0\n    },\n    \"ServiceID\": \"s73ez21cmshwu8okipejehvo0\",\n         \"Slot\": 2,\n     \"NodeID\": \"skj5sjemrvnusdop3ovcv6q7h\",\n     \"Status\": {\n       \"Timestamp\": \"2017-01-23T21:16:55.882919942Z\",\n       \"State\": \"preparing\",\n       \"Message\": \"preparing\",\n       \"ContainerStatus\": {},\n       \"PortStatus\": {}\n    },\n    \"DesiredState\": \"running\"\n},\n{\n    \"ID\": \"rqa04bpvdcddkeia2x1d6r95r\",\n    \"Version\": {\n      \"Index\": 37\n  },\n  \"CreatedAt\": \"2017-01-23T21:16:55.6812298Z\",\n  \"UpdatedAt\": \"2017-01-23T21:16:55.960175605Z\",\n    \"Spec\": {\n      \"ContainerSpec\": {\n        \"Image\":  \"mongo:3.2.10@sha256:532a19da83ee0e4e2a2ec6bc4212fc4af26357c040675d5c2\\\n629a4e4c4563cef\"\n    },\n    \"ForceUpdate\": 0\n  },\n     \"ServiceID\": \"s73ez21cmshwu8okipejehvo0\",\n     \"Slot\": 3,\n     \"NodeID\": \"lbgy0xih6n0w3nmzih0gnfvhd\",\n     \"Status\": {\n      \"Timestamp\": \"2017-01-23T21:16:55.881446699Z\",\n      \"State\": \"preparing\",\n      \"Message\": \"preparing\",\n      \"ContainerStatus\": {},\n      \"PortStatus\": {}\n    },\n    \"DesiredState\": \"running\"\n  }\n]\n\n```", "```\nexit\n\neval $(docker-machine env swarm-1)\n\nNODE=$(docker service ps \\\n    -f desired-state=running \\\n    go-demo-db \\\n    | tail -n 1 \\\n    | awk '{print $4}')\n\necho $NODE\n\n```", "```\nswarm-2\n\n```", "```\ndocker-machine ssh $NODE\n\nID=$(docker ps -qa | tail -n 1)\n\necho $ID\n\n```", "```\nf8f345042cf7\n\n```", "```\ncurl \\\n    --unix-socket /var/run/docker.sock \\\n    http:/containers/$ID/stats\n\n```", "```\ncurl \\\n    --unix-socket /var/run/docker.sock \\\n    http:/containers/$ID/stats?stream=false\n\n```", "```\ncurl -XDELETE \\\n    --unix-socket /var/run/docker.sock \\\n    http:/services/go-demo-db\n\ncurl \\\n    --unix-socket /var/run/docker.sock \\\n    http:/services\n\n```", "```\n[]\n\n```", "```\nexit\n\n```", "```\neval $(docker-machine env swarm-1)\n\ndocker network create --driver overlay proxy\n\ndocker network create --driver overlay go-demo\n\n```", "```\ndocker service create --name swarm-listener \\\n    --network proxy \\\n    --mount \\\n    \"type=bind,source=/var/run/docker.sock,target=/var/run/\\\n    docker.sock\" \\\n-e DF_NOTIF_CREATE_SERVICE_URL=http://proxy:8080/v1/\n    docker-flow-proxy/reconfigure \\\n-e DF_NOTIF_REMOVE_SERVICE_URL=http://proxy:8080/v1/\n    docker-flow-proxy/remove \\\n    --constraint 'node.role==manager' \\\n    vfarcic/docker-flow-swarm-listener\n\n```", "```\ndocker service create --name proxy \\\n    -p 80:80 \\\n    -p 443:443  \\\n    --network proxy \\\n    -e MODE=swarm \\\n    -e LISTENER_ADDRESS=swarm-listener \\\n    vfarcic/docker-flow-proxy\n\n```", "```\ndocker service create --name go-demo-db \\\n  --network go-demo \\\n  mongo:3.2.10\n\ndocker service create --name go-demo \\\n  -e DB=go-demo-db \\\n  --network go-demo \\\n  --network proxy \\\n  --label com.df.notify=true \\\n  --label com.df.distribute=true \\\n  --label com.df.servicePath=/demo  \\\n  --label com.df.port=8080 \\\n  vfarcic/go-demo:1.0\n\n```", "```\ndocker service ls\n\n```", "```\ncurl -i \"$(docker-machine ip swarm-1)/demo/hello\"\n\n```", "```\nHTTP/1.1 200 OK\nDate: Thu, 13 Oct 2016 18:26:18 GMT\nContent-Length: 14\nContent-Type: text/plain; charset=utf-8\n\nhello, world!\n\n```", "```\ndocker service rm go-demo\n\n```", "```\nSending service removed notification to http://proxy:8080/v1/\ndocker-flow-proxy/remove?serviceName=go-demo\n\n```", "```\nProcessing request /v1/docker-flow-proxy/remove?serviceName=go-demo\nProcessing remove request /v1/docker-flow-proxy/remove\nRemoving go-demo configuration\nRemoving the go-demo configuration files\nReloading the proxy\n\n```", "```\ndocker-machine rm -f swarm-1 swarm-2 swarm-3\n\n```"]