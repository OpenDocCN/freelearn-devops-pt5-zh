<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch18"/>Chapter 18. Troubleshooting JIRA</h1></div></div></div><p>One of the most important responsibilities of JIRA administrators is to provide support to users who rely on JIRA for their daily work. As JIRA administrators, it's important to make sure that service is not impacted. In this chapter, we will cover common problems that may arise in your instance. Most importantly, we will cover how to troubleshoot these issues.</p><p>In this chapter, we will cover the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Atlassian support</li><li class="listitem" style="list-style-type: disc">Common configuration issues</li><li class="listitem" style="list-style-type: disc">Increasing memory</li><li class="listitem" style="list-style-type: disc"><strong>Integrity Checker</strong></li></ul></div><div><div><div><div><h1 class="title"><a id="ch18lvl1sec112"/>Atlassian support</h1></div></div></div><p>When you purchase JIRA, you are entitled to get official support from Atlassian, and they are quite responsive when you raise a support request. You can raise a support ticket with Atlassian when you are not able to find the solution yourself.</p><div><div><div><div><h2 class="title"><a id="ch18lvl2sec140"/>Atlassian Answers</h2></div></div></div><p>We all learn from our experiences and it takes time to become an expert in a specific tool or technology. Atlassian has a great online community of fellow JIRA administrators and users. Here, they share knowledge with each other and also seek help. I recommend that, before raising a support ticket with Atlassian, you should always try to find the possible solution on the <em>Atlassian Answers</em> online portal, at <a class="ulink" href="https://answers.atlassian.com/">https://answers.atlassian.com/</a>:</p><p>
</p><div><img src="img/image_18_001.jpg" alt="Atlassian Answers"/></div><p>
</p><p>In this portal, you can see the questions that other users have posted. You can go through these questions and also respond to them, if you want to contribute and help others. Each question is usually marked with tags (such as <strong>jira</strong>, <strong>jira-administration</strong>, and <strong>confluence</strong>). You can click on any of these tags and find all the questions related to a specific tag. <em>Atlassian Answers</em> is a wonderful online portal to seek help from.</p></div><div><div><div><div><h2 class="title"><a id="ch18lvl2sec141"/>Reporting a problem</h2></div></div></div><p>Raising a support request with Atlassian is quite easy. Atlassian has a support portal where you can raise your tickets. Depending on the urgency of your problem, you will get your response from Atlassian. In my experience, the support provided by Atlassian is quite good and they respond in a timely manner. If you have further queries on your ticket, you can post a follow-up comment and close the ticket only when you are satisfied with the solution provided.</p><p>Perform these steps to raise a support request ticket:</p><div><ol class="orderedlist arabic"><li class="listitem">Enter <a class="ulink" href="https://support.atlassian.com/customer/servicedesk-portal">https://support.atlassian.com/customer/servicedesk-portal</a> in your browser and click on <strong>JIRA</strong> from the list of tools. Then click on <strong>JIRA Core</strong>, <strong>JIRA Software</strong>, or <strong>JIRA Service Desk</strong>:<p>
</p><div><img src="img/image_18_002.jpg" alt="Reporting a problem"/></div><p>
</p></li><li class="listitem">On the next screen, click on <strong>Submit a problem report to us</strong>:<p>
</p><div><img src="img/image_18_003.jpg" alt="Reporting a problem"/></div><p>
</p></li><li class="listitem">On the next screen, you will be presented with a form. This form contains various fields, where you can explain the issue. Fill in the <strong>Affects Version/s</strong> field to help Atlassian support to understand on which version of the application you are facing the issue, and press the <strong>Create</strong> button to create the issue:<p>
</p><div><img src="img/image_18_004.jpg" alt="Reporting a problem"/></div><p>
</p></li><li class="listitem">After the issue is created, you can also upload screenshots, if any, or attach log files:<p>
</p><div><img src="img/image_18_005.jpg" alt="Reporting a problem"/></div><p>
</p></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch18lvl2sec142"/>Log scanner</h2></div></div></div><p>If you ever run into an issue of any kind, you should first check the log file located at <code class="literal">home/log/atlassian-jira.log</code>, in your <code class="literal">JIRA HOME</code> directory.</p><p>All internal error messages are logged in this file and it provides very useful information about the possible source of the problem. You will get good clues about where to start your troubleshooting. You can search for the respective error message from your log file on <em>Atlassian Answers</em>.</p><p>If you find looking into the log files daunting in the beginning, you can also use the log scanner option that comes with JIRA. Perform these steps to run log scanner:</p><div><ol class="orderedlist arabic"><li class="listitem">Go to <strong>Administration</strong> | <strong>System</strong> | <strong>Support Tools</strong> (under <strong>TROUBLESHOOTING AND SUPPORT</strong>):<p>
</p><div><img src="img/image_18_006.jpg" alt="Log scanner"/></div><p>
</p></li><li class="listitem">Click on the <strong>Log Analyzer</strong> tab link to run the scanner. You will get the option to either run the scanner on the standard log file or any other log file whose location you can enter. We will select the standard log file. Click on the <strong>Scan</strong> button to continue:<p>
</p><div><img src="img/image_18_007.jpg" alt="Log scanner"/></div><p>
</p></li><li class="listitem">The scanner will run and look into the log file for error and warning messages; the good thing about the log scanner is that it will also provide various links to <em>Atlassian Answers</em> and JIRA issues based on similar error messages other users might have faced. As a JIRA administrator, you should run this scanner regularly, read these recommendations, and take appropriate action:<p>
</p><div><img src="img/image_18_008.jpg" alt="Log scanner"/></div><p>
</p></li><li class="listitem">Apart from manually running <strong>Log Analyzer</strong>, you can also schedule this scan to happen periodically and mail you the output. Click on the <strong>Periodic Scan</strong> button in the top-right corner to schedule this scan:<p>
</p><div><img src="img/image_18_009.jpg" alt="Log scanner"/></div><p>
</p></li><li class="listitem">Select the <strong>Enable</strong> checkbox, set <strong>Start Time</strong> and  <strong>Frequency</strong>, enter your e-mail in the <strong>Recipients</strong> text field, and click on the <strong>Save Changes</strong> button.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch18lvl2sec143"/>Support ZIP</h2></div></div></div><p>When you raise the support request ticket with Atlassian support, it's always a good idea to attach the log files. You can manually copy the whole <code class="literal">log</code> folder in your JIRA's home directory and send Atlassian the compressed version of this folder; however, JIRA makes the job easier for you. You can generate the support ZIP file. This not only contains the log files of your instance, but also contains <strong>Application Properties</strong>, <strong>JIRA Configuration Files</strong>, and a few other important files that give Atlassian a very good idea about your instance, which will enable them to give you better answers for your issues.</p><p>Under <strong>Support Tools</strong>, click on the third tab, called <strong>CreateSupport Zip</strong>. Here, you will have the option to select the files to include in the support ZIP file. Then, click on the <strong>Create</strong> button to generate the support ZIP file:</p><p>
</p><div><img src="img/image_18_010.jpg" alt="Support ZIP"/></div><p>
</p><p>The support ZIP will be suffixed with a timestamp and its zipped version will be placed in your <code class="literal">export</code> folder, under JIRA's home directory. You can copy this file and attach it to your support ticket.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch18lvl1sec113"/>Common configuration issues</h1></div></div></div><p>In <a class="link" href="ch17.html" title="Chapter 17. JIRA Best Practices">Chapter 17</a>, <em>JIRA Best Practices</em>, we discussed various best practices you can employ in your organization to implement customizations in JIRA. We also described the process (from gathering the requirements to testing new configurations) used to perform customizations. If testing is not done properly, then it's quite possible to have issues later on and users will complain. Let's go through some common configuration-related issues and their possible causes.</p><div><div><div><div><h2 class="title"><a id="ch18lvl2sec144"/>User is not able to log in</h2></div></div></div><p>Let's say that you receive a request to create a new user account in JIRA. You create the account manually and assign appropriate groups to the user to provide access to the relevant projects, but you receive the complaint that the user is not able to log in to JIRA at all.</p><div><div><div><div><h3 class="title"><a id="ch18lvl3sec70"/>Solution</h3></div></div></div><p>First, check in your JIRA instance's global permissions, whose groups are part of the JIRA user's permission. In the default JIRA configuration, the <strong>jira-users</strong> group is part of this permission. Just check whether this user is part of the <strong>jira-users</strong> group or not.</p></div></div><div><div><div><div><h2 class="title"><a id="ch18lvl2sec145"/>Users don't see the project</h2></div></div></div><p>If you are using different permission schemes in your projects to hide specific projects from everyone, it's possible that users will not be able to see the projects they want to work on.</p><div><div><div><div><h3 class="title"><a id="ch18lvl3sec71"/>Solution</h3></div></div></div><p>In <a class="link" href="ch04.html" title="Chapter 4. Customizing JIRA for Test Management">Chapter 4</a>, <em>Customizing JIRA for Test Management</em>, we discussed how to limit the visibility of a project to a certain group. The <strong>Browse Projects</strong> permission in the project's permission scheme decides who will see the project and who will not. Just check which group or project role is assigned this permission and add the user to this group or project role.</p></div><div><div><div><div><h3 class="title"><a id="ch18lvl3sec72"/>Permission helper</h3></div></div></div><p>JIRA comes with a handy tool, called <strong>Permission helper</strong>, which can quickly tell whether a user has a specific permission or not:</p><div><ol class="orderedlist arabic"><li class="listitem">Go to <strong>Administration</strong> | <strong>System</strong> | <strong>Permission helper</strong> (under <strong>ADMIN HELPER</strong>).<p>
</p><div><img src="img/image_18_011.jpg" alt="Permission helper"/></div><p>
</p></li><li class="listitem">Enter the <strong>User</strong>, select the <strong>Issue</strong> and the <strong>Permission</strong> you want to check for, and click the <strong>Submit</strong> button:<p>
</p><div><img src="img/image_18_012.jpg" alt="Permission helper"/></div><p>
</p></li><li class="listitem">As shown in the preceding screenshot, you will then get the details of permissions that user has on a specific Issue.</li></ol></div><p>This is a great tool to quickly check the permissions of any user.</p></div></div><div><div><div><div><h2 class="title"><a id="ch18lvl2sec146"/>User complaints about e-mails not being received</h2></div></div></div><p>JIRA has the capability to send e-mail notifications to relevant users on various events, such as issue creation, resolutions, and workflow transitions.</p><p>If the user is not able to receive e-mails, seek more clarification based on the following questions:</p><div><table border="1"><colgroup><col/><col/></colgroup><tbody><tr><td>
<p>
<strong>E-mail not received</strong>
</p>
</td><td>
<p>
<strong>Solution</strong>
</p>
</td></tr><tr><td>
<p>E-mail not working for some events or not working at all</p>
</td><td>
<p>If e-mails are not working at all, then check the outgoing mail configuration. It can be an issue with the <strong>Simple Mail Transfer Protocol</strong> (<strong>SMTP</strong>) mail server.</p>
</td></tr><tr><td>
<p>E-mails are not received for changes in a particular issue</p>
</td><td>
<p>Check whether the user is the reporter, assignee, watcher, component lead, or project lead. Then, check whether the project notification scheme is configured to send e-mails on issue events.</p>
</td></tr><tr><td>
<p>E-mails are not received on state transition</p>
</td><td>
<p>If a custom workflow is used, then check whether the post function on any custom event is triggered or not. Then, in the project notification scheme, check whether any user, group, or role is configured to receive e-mails on this custom event.</p>
</td></tr></tbody></table></div></div><div><div><div><div><h2 class="title"><a id="ch18lvl2sec147"/>Workflow buttons are missing</h2></div></div></div><p>Customized workflows have the ability to add conditions on various transitions and a common usage is to limit who can perform these transitions. For instance, in the default workflow, once the issue is created, only the assignee of the issue can move it to the <strong>In Progress</strong> state. In a customized workflow, you have to be very careful about these conditions, because users might not be able to move the issues in the workflow if these conditions are not met.</p><div><div><div><div><h3 class="title"><a id="ch18lvl3sec73"/>Solution</h3></div></div></div><p>If users complain about not being able to perform workflow transitions, check the condition for that transition. Either modify or remove the condition, if it's not required, or add the user to the relevant group or permission to be able to make the transition.</p></div></div><div><div><div><div><h2 class="title"><a id="ch18lvl2sec148"/>The options in the select list suddenly changed</h2></div></div></div><p>In <a class="link" href="ch17.html" title="Chapter 17. JIRA Best Practices">Chapter 17</a>, <em>JIRA Best Practices</em>, we discussed using the same custom field of the type select list in multiple projects by using context to create different sets of options that appear in the field. The request to add different sets of options for an individual project is quite common, and can easily be done using the context. However, if two or more projects are using the same context, then it's equally easy to make a mistake by not selecting the project name.</p><p>While configuring, choose applicable context; the project names are available in the list, and to select multiple projects, you need to press the <em>Ctrl</em> key.</p></div><div><div><div><div><h2 class="title"><a id="ch18lvl2sec149"/>The custom field disappears from the project</h2></div></div></div><p>Working with context can be tricky in the beginning. Another common problem JIRA administrators face is that users complain about a custom field, which suddenly went missing from the project, even though this custom field is present on the screen.</p><p>While creating the context, as discussed in <a class="link" href="ch17.html" title="Chapter 17. JIRA Best Practices">Chapter 17</a>, <em>JIRA Best Practices</em>, there is an option, <strong>Choose applicable issue types</strong>. By default, <strong>Any issue type</strong> is selected, but if you mistakenly select a specific issue type (such as <strong>Bug</strong>), then this issue type will be present in the project and the content will be limited to this issue type only. Unless there is a specific request to limit the custom field for a particular issue type, it's better to select <strong>Any issue type</strong>.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch18lvl1sec114"/>Increasing memory</h1></div></div></div><p>As your JIRA instance grows, both in terms of the number of users and data, you will need to keep track of how much memory is consumed by your instance. In <a class="link" href="ch01.html" title="Chapter 1. Planning Your JIRA Installation">Chapter 1</a>, <em>Planning Your JIRA Installation</em>, we discussed hardware recommendations, where we mentioned the minimum amount of RAM and CPU required based on the usage; there are times when JIRA will consume more memory than usual (such as taking XML backup, which consumes a lot of memory), so make sure that not many people are using the instance before performing these activities. However, when your instance grows, it will consume a lot of memory and you might get degraded performance. It's quite possible that, due to a lack of sufficient memory, your JIRA instance might stop working.</p><p>Perform these steps to check the consumption of memory:</p><div><ol class="orderedlist arabic"><li class="listitem">Go to <strong>Administration</strong> | <strong>System</strong> | <strong>System info</strong> (under <strong>TROUBLESHOOTING AND SUPPORT</strong>).</li><li class="listitem">Scroll down until you see <strong>Java VM Memory Statistics</strong>:<p>
</p><div><img src="img/image_18_013.jpg" alt="Increasing memory"/></div><p>
</p></li></ol></div><p>In this section, you can see how much memory your instance has and how much is currently free. To free up some memory, you can also click on the <strong>Force garbage collection</strong> link.</p><p>If you notice degraded performance or <code class="literal">Java Heap Out of Memory</code> errors in your log file, then you can increase the available memory for JIRA. Follow these instructions to modify it:</p><div><ol class="orderedlist arabic"><li class="listitem">Open <code class="literal">setenv.bat</code> in your <code class="literal">bin</code> directory, under JIRA's installation directory.</li><li class="listitem">Increase the <strong>Java virtual machine</strong> (<strong>JVM</strong>) maximum memory from 768 MB to 1024 MB or more, depending on the number of issues in your instance:<pre class="programlisting">        set JVM_MAXIMUM_MEMORY=1024m &#13;
</pre></li></ol></div><p>Atlassian that the JVM maximum memory of 1 GB is enough to handle 5000 issues. You can increase it appropriately for your case, making sure that you have enough physical RAM on your server.</p></div>
<div><div><div><div><h1 class="title"><a id="ch18lvl1sec115"/>Integrity Checker</h1></div></div></div><p>Whenever there is an issue with the instance, any experienced JIRA administrator will always have an idea of where to look first to fix these problems; however, there is a built-in tool called Integrity Checker that can be used to identify any possible problems. Perform these steps to use Integrity Checker tool:</p><div><ol class="orderedlist arabic"><li class="listitem">Go to <strong>Administration</strong> | <strong>System</strong> | <strong>Integrity Checker</strong> (under <strong>TROUBLESHOOTING AND SUPPORT</strong>).</li><li class="listitem">Check the <strong>Select All</strong> checkbox:<p>
</p><div><img src="img/image_18_014.jpg" alt="Integrity Checker"/></div><p>
</p></li><li class="listitem">Click on the <strong>Check</strong> button to continue:<p>
</p><div><img src="img/image_18_015.jpg" alt="Integrity Checker"/></div><p>
</p></li></ol></div><p>On the next screen, the system will display the list of problems with the configurations found in the instance. You can check the <strong>Fix All</strong> checkbox and click on the <strong>Fix</strong> button to resolve these issues. Alternatively, if you know the actual reason behind these problems, you can resolve them manually and run <strong>Integrity Checker</strong> again.</p></div>
<div><div><div><div><h1 class="title"><a id="ch18lvl1sec116"/>Summary</h1></div></div></div><p>In this chapter, we discussed the various problems that may arise in your JIRA instance. Most importantly, we discussed how to handle these issues. If the configurations are not tested properly, users will complain about usage-related issues, which can be fixed by making appropriate changes to the configurations. In this chapter, we discussed such configuration-related issues and their solutions.</p><p>This is the last chapter of this book. I hope you enjoyed reading these chapters and I am sure you must have learned about a lot of interesting things that JIRA has to offer. In recent years, JIRA, along with other Atlassian tools, has become a popular choice in organizations. These days, JIRA is treated not just as a tool to manage issues, but is considered a competency. If you are a project manager, scrum master, or are managing any project, learning JIRA will certainly help you get the best out of this amazing tool.</p></div></body></html>