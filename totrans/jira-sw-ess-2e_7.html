<html><head></head><body>
        

                            
                    <h1 class="header-title" id="calibre_pb_0">Jira Software – Release and Deploy</h1>
                
            
            
                
<p class="calibre3">In the previous chapters, we looked at integrating Jira with some other tools from both Atlassian and third-party developers to extend what Jira can do. In this chapter, we will look into using another Atlassian tool called Bamboo to tie together the release, build, and deploy process for a software development project.</p>
<p class="calibre3">By the end of the chapter, you will have learned how to:</p>
<ul class="calibre8">
<li class="calibre9">Integrate Jira and Bamboo</li>
<li class="calibre9">Perform version release and build directly in Jira</li>
<li class="calibre9">Display build information inside Jira</li>
<li class="calibre9">Deploy released builds to your operational environments</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title" id="calibre_pb_0">Integrating Jira with Bamboo</h1>
                
            
            
                
<p class="calibre3"><strong class="calibre1">Bamboo</strong> is the continuous integration and build server from Atlassian. By integrating Jira and Bamboo together, you can make Jira's issue information available in Bamboo, as well as Bamboo's build and deploy information in Jira.</p>


            

            
        
    

        

                            
                    <h1 class="header-title" id="calibre_pb_0">Setting up an application link with Bamboo</h1>
                
            
            
                
<p class="calibre3">Similar to integrating Jira with Confluence, you need to create a new application link between Jira and Bamboo. To create an application link with Bamboo, perform the following steps:</p>
<ol class="calibre14">
<li value="1" class="calibre9">Browse to the Jira administration console.</li>
<li value="2" class="calibre9">Select the Applications tab and then the Application links option.</li>
<li value="3" class="calibre9">Enter the URL to your Bamboo instance and click on the Create new link button, as shown in the next screenshot:</li>
</ol>
<div><img src="img/00133.jpeg" class="calibre27"/></div>
<ol start="4" class="calibre14">
<li value="4" class="calibre9">Tick the The servers have the same set of users and usernames option if both Jira and Bamboo share the same user repository; for example, LDAP.</li>
<li value="5" class="calibre9">Tick the I am an administrator on both instances option if you have an administrator account on both Jira and Bamboo. This will let you also create a reciprocal link from Bamboo to Jira.</li>
</ol>
<p class="calibre3"> </p>
<ol start="6" class="calibre14">
<li value="6" class="calibre9">Click on the Continue button:</li>
</ol>
<div><img src="img/00134.jpeg" class="calibre29"/></div>
<ol start="7" class="calibre14">
<li value="7" class="calibre9">Verify that the onscreen information is correct. If both applications are able to communicate with each other successfully, it will display the URLs and application name and type, as shown in the following screenshot. Then, click on the Continue button:</li>
</ol>
<div><img src="img/00135.jpeg" class="calibre30"/></div>
<ol start="8" class="calibre14">
<li value="8" class="calibre9">Continue with the onscreen wizard, and once the application link is successfully created, you will see a success message and the new application link listed for Bamboo:</li>
</ol>
<div><img src="img/00136.jpeg" class="calibre27"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title" id="calibre_pb_0">Releasing a build from Jira</h1>
                
            
            
                
<p class="calibre3">With Jira and Bamboo integrated, we will be able to combine the process of release in Jira, and build in Bamboo together:</p>
<ol class="calibre14">
<li value="1" class="calibre9">Browse to the Jira project you want to run a release for.</li>
<li value="2" class="calibre9">Click the Releases option from the left panel. The Releases page should list all the unreleased versions by default, as follows:</li>
</ol>
<div><img src="img/00137.jpeg" class="calibre27"/></div>
<ol start="3" class="calibre14">
<li value="3" class="calibre9">Click the Build and Release option for the version to release.</li>
<li value="4" class="calibre9">Select the with new build option on the Release dialog.</li>
<li value="5" class="calibre9">Select the build plan to use for building this release. The build plans should be pulled from Bamboo. If you do not see the build plan you want, make sure you have access to the build plan in Bamboo and the application link between Jira and Bamboo are working properly.</li>
<li value="6" class="calibre9">Click the Release button to release and build the version. You do not need to enter a release date, as Jira will automatically fill in today's date for you once the release ID is completed:</li>
</ol>
<div><img src="img/00138.jpeg" class="calibre31"/></div>
<p class="calibre3">Once the build is completed on Bamboo's side, Jira will mark the version as released, and show you the success result from the build, as follows. You can click on the build result link from this page to go directly to Bamboo and view more detailed information about the build, and perform a release deployment, as we will see later in this chapter:</p>
<div><img src="img/00139.jpeg" class="calibre27"/></div>
<p class="calibre3">Also, any issues that are related in this release build will also have the build results displayed under the Development section, as follows. You can click on that to view the result of the build directly in Jira:</p>
<div><img src="img/00140.jpeg" class="calibre27"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title" id="calibre_pb_0">Deploying the release</h1>
                
            
            
                
<p class="calibre3">Once you have successfully built your project, you can also deploy the final built artifact to your environments. There are several ways you can do this. For example, you can have a custom deployment stage as part of your build plan. However, we will be using the deployment plan feature in Bamboo. This gives you more control about how you want to run your deployment process, as well as keeping track of all the deployments you run, and lets you rollback to a previous deployed version if there is a problem.</p>


            

            
        
    

        

                            
                    <h1 class="header-title" id="calibre_pb_0">Setting up a deployment plan</h1>
                
            
            
                
<p class="calibre3">The first step is to set up a new deployment plan in Bamboo:</p>
<ol class="calibre14">
<li value="1" class="calibre9">Log into Bamboo.</li>
<li value="2" class="calibre9">Select the Create deployment project option from the Create menu.</li>
<li value="3" class="calibre9">Enter a name for the new deployment project, and select the Build plan and branch used to build your project with:</li>
</ol>
<div><img src="img/00141.jpeg" class="calibre27"/></div>
<ol start="4" class="calibre14">
<li value="4" class="calibre9">Click the Create deployment project button to create the deployment plan.</li>
<li value="5" class="calibre9">With the deployment project created, you will be asked to create an environment. You should create one for each real operational environment you have, such as one for production, and one for testing.</li>
</ol>
<p class="calibre3"> </p>
<ol start="6" class="calibre14">
<li value="6" class="calibre9">Click on the Continue to task setup button:</li>
</ol>
<div><img src="img/00142.jpeg" class="calibre27"/></div>
<p>You will only see artifacts listed if you have defined a shared artifact in your build plan.</p>
<ol start="7" class="calibre14">
<li value="7" class="calibre9">For each environment, you need to configure the series of tasks to run as part of your deployment. For example, if you are deploying a Java-based web application, you will need to use the Artifact download task, and select the artifact created as part of your build process:</li>
</ol>
<div><img src="img/00143.jpeg" class="calibre27"/></div>
<p>Make sure you click the Save button for each task before you add a new task.</p>
<ol start="8" class="calibre14">
<li value="8" class="calibre9">Click on the Add task button to add more tasks to your build plan. Bamboo comes with a number of deployment tasks you can use out of the box, such as deploying to Heroku cloud, and using Docker. If you do not see a deployment task suitable for your type of deployment needs, you can also check Atlassian Marketplace, where you will find many more add-ons for Bamboo that have support for other deployment options:</li>
</ol>
<div><img src="img/00144.jpeg" class="calibre27"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title" id="calibre_pb_0">Running the deployment</h1>
                
            
            
                
<p class="calibre3">After we have the deployment plan and target environments created, we can proceed to deploy the released project:</p>
<ol class="calibre14">
<li value="1" class="calibre9">Browse to the build result for the release in Bamboo. You can go there from Jira's release page.</li>
<li value="2" class="calibre9">Click the Create release button:</li>
</ol>
<div><img src="img/00145.jpeg" class="calibre27"/></div>
<ol start="3" class="calibre14">
<li value="3" class="calibre9">Make sure the correct build result is selected.</li>
<li value="4" class="calibre9">Enter the release version number for this release. This way, we create a history of all the deployments, so we can keep track of the released and deployed version for each environment, and easily rollback in the future. In the following example, we are releasing version 1.0.</li>
</ol>
<p class="calibre3"> </p>
<ol start="5" class="calibre14">
<li value="5" class="calibre9">Click the Create release button:</li>
</ol>
<div><img src="img/00146.jpeg" class="calibre27"/></div>
<p>If you have more than one environment, such as testing and production, you should always start with the testing environment first. If the deployment is successful, you will be able to then promote the deployment to production.</p>
<ol start="6" class="calibre14">
<li value="6" class="calibre9">Select the environment you want to deploy to from the Deploy menu. Every environment created earlier should be listed here:</li>
</ol>
<div><img src="img/00147.jpeg" class="calibre27"/></div>
<ol start="7" class="calibre14">
<li value="7" class="calibre9">Review the deployment and click on the Start deployment button to start. Depending on the type of deployment, this can take several minutes or longer to complete. Bamboo will display the deployment progress during all this:</li>
</ol>
<div><img src="img/00148.jpeg" class="calibre27"/></div>
<ol start="8" class="calibre14">
<li value="8" class="calibre9">If the deployment is successful, you will see the success page as follows. You can promote the deployment to other environments if you need to.</li>
<li value="9" class="calibre9">Click the Approved button if all your post-deployment verification passes. This will mark the deployment as a success:</li>
</ol>
<div><img src="img/00149.jpeg" class="calibre27"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title" id="calibre_pb_0">Summary</h1>
                
            
            
                
<p class="calibre3">In this chapter, we looked at Bamboo and what it can do. We used an application link to integrate Jira with Bamboo, so both applications can share information with each other; for example, letting you run build plans from inside Jira. We also looked into Bamboo when setting up a deployment plan, so you can deploy project artifacts you have released and built.</p>
<p class="calibre3">There are many more things you will find you can do with Jira and Bamboo integrated together; for example, you will start seeing build results flowing through automatically into Jira's activity stream on the dashboard, so everyone can be made aware if a build fails. Your build engineers can also view Jira's issue information from inside Bamboo builds, so they can easily pinpoint the cause of build plan failures.</p>


            

            
        
    </body></html>