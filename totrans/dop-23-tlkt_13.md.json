["```\ncd k8s-specs\n\ngit pull\n\nminikube start --vm-driver=virtualbox\n\nkubectl config current-context\n\nminikube addons enable ingress\n\nminikube addons enable heapster  \n```", "```\ncat res/go-demo-2-random.yml  \n```", "```\n... \napiVersion: apps/v1beta2 \nkind: Deployment \nmetadata: \n  name: go-demo-2-db \nspec: \n  ... \n  template: \n    ... \n    spec: \n      containers: \n      - name: db \n        image: mongo:3.3 \n        resources: \n          limits: \n            memory: 200Mi \n            cpu: 0.5 \n          requests: \n            memory: 100Mi \n            cpu: 0.3 \n... \napiVersion: apps/v1beta2 \nkind: Deployment \nmetadata: \n  name: go-demo-2-api \nspec: \n  ... \n  template: \n    ... \n    spec: \n      containers: \n      - name: api \n        image: vfarcic/go-demo-2 \n        ... \n        resources: \n          limits: \n            memory: 100Mi \n            cpu: 200m \n          requests: \n            memory: 50Mi \n            cpu: 100m \n... \n```", "```\nkubectl create \\\n -f res/go-demo-2-random.yml \\\n --record --save-config\n\nkubectl rollout status \\\n deployment go-demo-2-api  \n```", "```\ndeployment \"go-demo-2-api\" successfully rolled out  \n```", "```\nkubectl describe deploy go-demo-2-api  \n```", "```\n... \nPod Template: \n  ... \n  Containers: \n    ... \n   Limits: \n      cpu:    200m \n      memory: 100Mi \n    Requests: \n      cpu:    100m \n      memory: 50Mi \n... \n```", "```\nkubectl describe nodes  \n```", "```\n... \nCapacity: \n cpu:     2 \n memory:  2048052Ki \n pods:    110 \n... \nNon-terminated Pods: (12 in total) \n  Namespace          Name                         CPU Requests CPU Limits Memory Requests Memory Limits \n  ---------          ----                         ------------ ---------- --------------- ------------- \n  default            go-demo-2-api-...            100m (5%)    200m (10%) 50Mi (2%)       100Mi (5%) \n  default            go-demo-2-api-...            100m (5%)    200m (10%) 50Mi (2%)       100Mi (5%) \n  default            go-demo-2-api-...            100m (5%)    200m (10%) 50Mi (2%)       100Mi (5%) \n  default            go-demo-2-db-...             300m (15%)   500m (25%) 100Mi (5%)      200Mi (10%) \n  kube-system        default-http-...             10m (0%)     10m (0%)   20Mi (1%)       20Mi (1%) \n  kube-system        heapster-...                 0 (0%)       0 (0%)     0 (0%)          0 (0%) \n  kube-system        influxdb-grafana-...         0 (0%)       0 (0%)     0 (0%)          0 (0%) \n  kube-system        kube-addon-manager-minikube  5m (0%)      0 (0%)     50Mi (2%)       0 (0%) \n  kube-system        kube-dns-54cccfbdf8-...      260m (13%)   0 (0%)     110Mi (5%)      170Mi (8%) \n  kube-system        kubernetes-dashboard-...     0 (0%)       0 (0%)     0 (0%)          0 (0%) \n  kube-system        nginx-ingress-controller-... 0 (0%)       0 (0%)     0 (0%)          0 (0%) \n  kube-system        storage-provisioner          0 (0%)       0 (0%)     0 (0%)          0 (0%) \nAllocated resources: \n  (Total limits may be over 100 percent, i.e., overcommitted.) \n  CPU Requests CPU Limits  Memory Requests Memory Limits \n  ------------ ----------  --------------- ------------- \n  875m (43%)   1110m (55%) 430Mi (22%)     690Mi (36%) \n... \n```", "```\nkubectl --namespace kube-system \\\n    get pods \n```", "```\nNAME                         READY STATUS  RESTARTS AGE\ndefault-http-backend-...     1/1   Running 0        59m\nheapster-...                 1/1   Running 0        59m\ninfluxdb-grafana-...         2/2   Running 0        59m\nkube-addon-manager-minikube  1/1   Running 0        59m\nkube-dns-54cccfbdf8-...      3/3   Running 0        59m\nkubernetes-dashboard-...     1/1   Running 0        59m\nnginx-ingress-controller-... 1/1   Running 0        59m\nstorage-provisioner          1/1   Running 0        59m  \n```", "```\nkubectl --namespace kube-system \\ \n    expose rc heapster \\ \n    --name heapster-api \\ \n    --port 8082 \\ \n    --type NodePort \n```", "```\nkubectl --namespace kube-system \\ \n    get svc heapster-api \\  \n    -o json \n```", "```\nPORT=$(kubectl --namespace kube-system \\ \n    get svc heapster-api \\ \n    -o jsonpath=\"{.spec.ports[0].nodePort}\") \n```", "```\nBASE_URL=\"http://$(minikube ip):$PORT/api/v1/model/namespaces/default/pods\" \n\ncurl \"$BASE_URL\" \n```", "```\n[ \n  \"go-demo-2-api-796db5987d-dm69g\", \n  \"go-demo-2-db-bf6f5b486-p9vhj\", \n  \"go-demo-2-api-796db5987d-5t84b\", \n  \"go-demo-2-api-796db5987d-99nh6\" \n ] \n```", "```\nDB_POD_NAME=$(kubectl get pods \\ \n    -l service=go-demo-2 \\ \n    -l type=db \\ \n    -o jsonpath=\"{.items[0].metadata.name}\") \n```", "```\ncurl \"$BASE_URL/$DB_POD_NAME/containers/db/metrics\"  \n```", "```\n[\n \"memory/rss\",\n \"cpu/usage_rate\",\n \"cpu/request\",\n \"memory/usage\",\n \"memory/major_page_faults_rate\",\n \"cpu/limit\",\n \"memory/page_faults\",\n \"memory/major_page_faults\",\n \"uptime\",\n \"memory/limit\",\n \"cpu/usage\",\n \"memory/page_faults_rate\",\n \"memory/working_set\",\n \"restart_count\",\n \"memory/request\"\n]\n\n```", "```\ncurl \"$BASE_URL/$DB_POD_NAME/containers/db/metrics/memory/usage\"  \n```", "```\n{ \n  \"metrics\": [ \n   ... \n   { \n    \"timestamp\": \"2018-02-01T20:24:00Z\", \n    \"value\": 38334464 \n   }, \n   { \n    \"timestamp\": \"2018-02-01T20:25:00Z\", \n    \"value\": 38342656 \n   } \n  ], \n  \"latestTimestamp\": \"2018-02-01T20:25:00Z\" \n } \n```", "```\ncurl \"$BASE_URL/$DB_POD_NAME/containers/db/metrics/cpu/usage_rate\"  \n```", "```\n{ \n  \"metrics\": [ \n   ... \n   { \n    \"timestamp\": \"2018-02-01T20:25:00Z\", \n    \"value\": 5 \n   }, \n   { \n    \"timestamp\": \"2018-02-01T20:26:00Z\", \n    \"value\": 4 \n   } \n  ], \n  \"latestTimestamp\": \"2018-02-01T20:26:00Z\" \n } \n```", "```\ncat res/go-demo-2-insuf-mem.yml  \n```", "```\napiVersion: apps/v1beta2 \nkind: Deployment \nmetadata: \n  name: go-demo-2-db \nspec: \n  ... \n  template: \n    ... \n    spec: \n      containers: \n      - name: db \n        image: mongo:3.3 \n        resources: \n          limits: \n            memory: 10Mi \n            cpu: 0.5 \n          requests: \n            memory: 5Mi \n            cpu: 0.3 \n```", "```\nkubectl apply \\  \n    -f res/go-demo-2-insuf-mem.yml \\\n    --record \n\nkubectl get pods \n```", "```\n    NAME              READY STATUS    RESTARTS AGE\n    go-demo-2-api-... 1/1   Running   0        1m\n    go-demo-2-api-... 1/1   Running   0        1m\n    go-demo-2-api-... 1/1   Running   0        1m\n    go-demo-2-db-...  0/1   OOMKilled 2        17s\n\n```", "```\nkubectl describe pod go-demo-2-db  \n```", "```\n...\nContainers:\n db:\n ...\n Last State:     Terminated\n Reason:       OOMKilled\n Exit Code:    137\n ...\nEvents:\n Type    Reason  Age             From              Message\n ----    ------  ----            ----              -------\n ...\n Warning BackOff 3s (x8 over 1m) kubelet, minikube Back-off restarting failed container\n\n```", "```\ncat res/go-demo-2-insuf-node.yml  \n```", "```\napiVersion: apps/v1beta2 \nkind: Deployment \nmetadata: \n  name: go-demo-2-db \nspec: \n  ... \n  template: \n    ... \n    spec: \n      containers: \n      - name: db \n        image: mongo:3.3 \n        resources: \n          limits: \n            memory: 8Gi \n            cpu: 0.5 \n          requests: \n            memory: 4Gi \n            cpu: 0.3 \n```", "```\nkubectl apply \\  \n    -f res/go-demo-2-insuf-node.yml \\ \n    --record \n\nkubectl get pods \n```", "```\nNAME                           READY STATUS  RESTARTS AGE\ngo-demo-2-api-796db5987d-8wbk4 1/1   Running 0        8m\ngo-demo-2-api-796db5987d-w6mnx 1/1   Running 0        8m\ngo-demo-2-api-796db5987d-wtz4q 1/1   Running 0        9m\ngo-demo-2-db-5d5c46bc7c-d676j  0/1   Pending 0        13s  \n```", "```\nkubectl describe pod go-demo-2-db  \n```", "```\n...\nEvents:\n Type    Reason           Age               From              Message\n ----    ------           ----              ----              -------\n  Warning FailedScheduling 11s (x7 over 42s) default-scheduler 0/\n 1 nodes are available: 1 Insufficient memory.\n\n```", "```\nkubectl apply \\  \n    -f res/go-demo-2-random.yml \\  \n    --record \n\nkubectl rollout status \\  \n    deployment go-demo-2-db \n\nkubectl rollout status \\ \n    deployment go-demo-2-api \n```", "```\nDB_POD_NAME=$(kubectl get pods \\  \n    -l service=go-demo-2 \\  \n    -l type=db \\ \n    -o jsonpath=\"{.items[0].metadata.name}\") \n\ncurl \"$BASE_URL/$DB_POD_NAME/containers/db/metrics/memory/usage\" \n\ncurl \"$BASE_URL/$DB_POD_NAME/containers/db/metrics/cpu/usage_rate\" \n```", "```\nAPI_POD_NAME=$(kubectl get pods \\ \n    -l service=go-demo-2 \\ \n    -l type=api \\ \n    -o jsonpath=\"{.items[0].metadata.name}\") \n\ncurl \"$BASE_URL/$API_POD_NAME/containers/api/metrics/memory/usage\" \n\ncurl \n \"$BASE_URL/$API_POD_NAME/containers/api/metrics/cpu/usage_rate\" \n```", "```\ncat res/go-demo-2.yml  \n```", "```\napiVersion: apps/v1beta2 \nkind: Deployment \nmetadata: \n  name: go-demo-2-db \nspec: \n  ... \n  template: \n    ... \n    spec: \n      containers: \n      - name: db \n        image: mongo:3.3 \n        resources: \n          limits: \n            memory: \"100Mi\" \n            cpu: 0.1 \n          requests: \n            memory: \"50Mi\" \n            cpu: 0.01 \n... \napiVersion: apps/v1beta2 \nkind: Deployment \nmetadata: \n  name: go-demo-2-api \nspec: \n  ... \n  template: \n    ... \n    spec: \n      containers: \n      - name: api \n        image: vfarcic/go-demo-2 \n        ... \n        resources: \n          limits: \n            memory: \"10Mi\" \n            cpu: 0.1 \n          requests: \n            memory: \"5Mi\" \n            cpu: 0.01 \n```", "```\nkubectl apply \\  \n    -f res/go-demo-2.yml \\  \n    --record \n\nkubectl rollout status \\ \n    deployment go-demo-2-api \n```", "```\nkubectl describe pod go-demo-2-db  \n```", "```\n... \nContainers: \n  db: \n    ... \n    Limits: \n      cpu:    100m \n      memory: 100Mi \n    Requests: \n      cpu:    10m \n      memory: 50Mi \n... \nQoS Class:       Burstable \n... \n```", "```\ncat res/go-demo-2-qos.yml  \n```", "```\napiVersion: apps/v1beta2 \nkind: Deployment \nmetadata: \n  name: go-demo-2-db \nspec: \n  ... \n  template: \n    ... \n    spec: \n      containers: \n      - name: db \n        image: mongo:3.3 \n        resources: \n          limits: \n            memory: \"50Mi\" \n            cpu: 0.1 \n          requests: \n            memory: \"50Mi\" \n            cpu: 0.1 \n... \napiVersion: apps/v1beta2 \nkind: Deployment \nmetadata: \n  name: go-demo-2-api \nspec: \n  ... \n  template: \n    ... \n    spec: \n      containers: \n      - name: api \n        image: vfarcic/go-demo-2 \n... \n```", "```\nkubectl apply \\  \n    -f res/go-demo-2-qos.yml \\ \n    --record \n\nkubectl rollout status \\ \n    deployment go-demo-2-db \n```", "```\nkubectl describe pod go-demo-2-db  \n```", "```\nContainers: \n  db: \n    ... \n    Limits: \n      cpu:    100m \n      memory: 50Mi \n    Requests: \n      cpu:    100m \n      memory: 50Mi \n... \nQoS Class: Guaranteed \n... \n```", "```\nkubectl describe pod go-demo-2-api  \n```", "```\n... \nQoS Class:       BestEffort \n... \nQoS Class:       BestEffort \n... \nQoS Class:       BestEffort \n... \n```", "```\nkubectl delete \\\n -f res/go-demo-2-qos.yml\n```", "```\nkubectl create namespace test  \n```", "```\ncat res/limit-range.yml  \n```", "```\napiVersion: v1 \nkind: LimitRange \nmetadata: \n  name: limit-range \nspec: \n  limits: \n  - default: \n      memory: 50Mi \n      cpu: 0.2 \n    defaultRequest: \n      memory: 30Mi \n      cpu: 0.05 \n    max: \n      memory: 80Mi \n      cpu: 0.5 \n    min: \n      memory: 10Mi \n      cpu: 0.01 \n    type: Container \n```", "```\nkubectl --namespace test create \\  \n    -f res/limit-range.yml \\  \n    --save-config --record \n```", "```\nkubectl describe namespace test  \n```", "```\n...\nResource Limits\n Type      Resource Min  Max  Default Request Default Limit  Max  Limit/Request Ratio\n ----      -------- ---  ---  --------------- ------------- ----- ------------------\n Container cpu      10m  500m 50m             200m          -\n Container memory   10Mi 80Mi 30Mi            50Mi          - \n```", "```\ncat res/go-demo-2-no-res.yml  \n```", "```\nkubectl --namespace test create \\  \n    -f res/go-demo-2-no-res.yml \\ \n    --save-config --record \n\nkubectl --namespace test \\ \n    rollout status \\ \n    deployment go-demo-2-api \n```", "```\nkubectl --namespace test describe \\  \n    pod go-demo-2-db \n```", "```\n... \nContainers: \n  db: \n    ... \n    Limits: \n      cpu:     200m \n      memory:  50Mi \n    Requests: \n      cpu:        50m \n      memory:     30Mi \n... \n```", "```\ncat res/go-demo-2.yml  \n```", "```\n... \napiVersion: apps/v1beta2 \nkind: Deployment \nmetadata: \n  name: go-demo-2-db \nspec: \n  ... \n  template: \n    ... \n    spec: \n      containers: \n      - name: db \n        image: mongo:3.3 \n        resources: \n          limits: \n            memory: \"100Mi\" \n            cpu: 0.1 \n          requests: \n            memory: \"50Mi\" \n            cpu: 0.01 \n... \napiVersion: apps/v1beta2 \nkind: Deployment \nmetadata: \n  name: go-demo-2-api \nspec: \n  ... \n  template: \n    ... \n    spec: \n      containers: \n      - name: api \n        ... \n        resources: \n          limits: \n            memory: \"10Mi\" \n            cpu: 0.1 \n          requests: \n            memory: \"5Mi\" \n            cpu: 0.01 \n... \n```", "```\nkubectl --namespace test apply \\\n -f res/go-demo-2.yml \\\n --record\n\nkubectl --namespace test get events -w  \n```", "```\n    ... Error creating: pods \"go-demo-2-db-868dbbc488-s92nm\" is forbi\n dden: maximum memory usage per Container is 80Mi, but limit is 100Mi.\n    ...\n    ... Error creating: pods \"go-demo-2-api-6bd767ffb6-96mbl\" is \n forbidden: minimum memory usage per Container is 10Mi, but request is \n 5Mi.\n    ...\n\n```", "```\nkubectl --namespace test run test \\  \n    --image alpine \\ \n    --requests memory=100Mi \\ \n    --restart Never \\  \n    sleep 10000 \n```", "```\nkubectl --namespace test run test \\ \n    --image alpine \\ \n    --requests memory=1Mi \\  \n    --restart Never \\ \n    sleep 10000 \n```", "```\nkubectl delete namespace test  \n```", "```\ncat res/dev.yml  \n```", "```\napiVersion: v1\nkind: Namespace\nmetadata:\n name: dev\n\n---\n\napiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: dev\n  namespace: dev\nspec:\n  hard:\n    requests.cpu: 0.8\n    requests.memory: 500Mi\n    limits.cpu: 1\n    limits.memory: 1Gi\n    pods: 10\n    services.nodeports: \"0\"  \n```", "```\nkubectl create \\ \n -f res/dev.yml \\ \n --record --save-config  \n```", "```\nkubectl --namespace dev describe \\ \n    quota dev \n```", "```\nName:               dev\nNamespace:          dev\nResource            Used  Hard\n--------            ----  ----\nlimits.cpu          0     1\nlimits.memory       0     1Gi\npods                0     10\nrequests.cpu        0     800m\nrequests.memory     0     500Mi\nservices.nodeports  0     0\n```", "```\nkubectl --namespace dev create \\\n -f res/go-demo-2.yml \\ \n --save-config --record\n\nkubectl --namespace dev \\ \n rollout status \\ \n deployment go-demo-2-api  \n```", "```\nkubectl --namespace dev describe \\ \n    quota dev \n```", "```\nName:              dev\nNamespace:         dev\nResource           Used  Hard\n--------           ----  ----\nlimits.cpu         400m  1\nlimits.memory      130Mi 1Gi\npods               4     10\nrequests.cpu       40m   800m\nrequests.memory    65Mi  500Mi\nservices.nodeports 0     0  \n```", "```\ncat res/go-demo-2-scaled.yml  \n```", "```\n... \napiVersion: apps/v1beta2 \nkind: Deployment \nmetadata: \n  name: go-demo-2-api \nspec: \n  replicas: 15 \n  ... \n```", "```\nkubectl --namespace dev apply \\\n -f res/go-demo-2-scaled.yml \\\n --record\n```", "```\nkubectl --namespace dev get events  \n```", "```\n...\n... Error creating: pods \"go-demo-2-api-...\" is forbidden: exceeded quota: dev, requested: limits.cpu=100m,pods=1, used: limits.cpu=1,pods=10, limited: limits.cpu=1,pods=10\n    13s         13s          1         go-demo-2-api-6bd767ffb6.150f5   1f4b3a7ed3f         ReplicaSet                          Warning .\n .. Error creating: pods \"go-demo-2-api-...\" is forbidden: exceeded quota: dev, requested: limits.cpu=100m,pods=1, used: limits.cpu=1,pods=10, limited: limits.cpu=1,pods=10\n... \n```", "```\nkubectl describe namespace dev  \n```", "```\n... \nResource Quotas \n Name:               dev \n Resource            Used   Hard \n --------            ---    --- \n limits.cpu          1      1 \n limits.memory       190Mi  1Gi \n pods                10     10 \n requests.cpu        100m   800m \n requests.memory     95Mi   500Mi \n services.nodeports  0      0 \n... \n```", "```\nkubectl get pods --namespace dev  \n```", "```\nNAME              READY STATUS  RESTARTS AGE\ngo-demo-2-api-... 1/1   Running 0        3m\ngo-demo-2-api-... 1/1   Running 0        3m\ngo-demo-2-api-... 1/1   Running 0        5m\ngo-demo-2-api-... 1/1   Running 0        3m\ngo-demo-2-api-... 1/1   Running 0        5m\ngo-demo-2-api-... 1/1   Running 0        3m\ngo-demo-2-api-... 1/1   Running 0        3m\ngo-demo-2-api-... 1/1   Running 0        3m\ngo-demo-2-api-... 1/1   Running 0        5m\ngo-demo-2-db-...  1/1   Running 0        5m  \n```", "```\nkubectl --namespace dev apply \\\n -f res/go-demo-2.yml \\\n --record\n\nkubectl --namespace dev \\\n rollout status \\\n deployment go-demo-2-api  \n```", "```\ncat res/go-demo-2-mem.yml  \n```", "```\n...\napiVersion: apps/v1beta2\nkind: Deployment\nmetadata:\n name: go-demo-2-db\nspec:\n ...\n template:\n ...\n spec:\n containers:\n - name: db\n image: mongo:3.3\n resources:\n limits:\n memory: \"100Mi\"\n cpu: 0.1\n requests:\n memory: \"50Mi\"\n cpu: 0.01\n...\napiVersion: apps/v1beta2\nkind: Deployment\nmetadata:\n name: go-demo-2-api\nspec:\n replicas: 3\n ...\n template:\n ...\n spec:\n containers:\n - name: api\n ...\n resources:\n limits:\n memory: \"200Mi\"\n cpu: 0.1\n requests:\n memory: \"200Mi\"\n cpu: 0.01\n...  \n```", "```\nkubectl --namespace dev apply \\\n -f res/go-demo-2-mem.yml \\\n --record  \n```", "```\nkubectl --namespace dev get events \\\n | grep mem  \n```", "```\n... Error creating: pods \"go-demo-2-api-...\" is forbidden: exceeded quota: dev, requested: requests.memory=200Mi, used: requests.memory=455Mi, limited: requests.memory=500Mi\n```", "```\nkubectl describe namespace dev  \n```", "```\n...\nResource Quotas\n Name:               dev\n Resource            Used   Hard\n --------            ---    ---\n limits.cpu          400m   1\n limits.memory       510Mi  1Gi\n pods                4      10\n requests.cpu        40m    800m\n requests.memory     455Mi  500Mi\n services.nodeports  0      0\n...  \n```", "```\nkubectl --namespace dev apply \\ \n -f res/go-demo-2.yml \\ \n --record\n\nkubectl --namespace dev \\\n rollout status \\\n deployment go-demo-2-api  \n```", "```\nkubectl expose deployment go-demo-2-api \\\n --namespace dev \\\n --name go-demo-2-api \\ \n --port 8080 \\\n --type NodePort  \n```", "```\nError from server (Forbidden): services \"go-demo-2-api\" is forbidden: exceeded quota: dev, requested: services.nodeports=1, used: services.nodeports=0, limited: services.nodeports=0\n```", "```\nminikube delete\n```"]