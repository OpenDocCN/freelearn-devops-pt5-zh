["```\ndocker-machine create chapter03 --driver=virtualbox\neval $(docker-machine env chapter03)\n\n```", "```\nversion: '2'\nservices:\n  wordpress:\n    container_name: my-wordpress-app\n    image: wordpress\n    ports: \n      - \"80:80\"\n    links:\n      - mysql\n    environment:\n      WORDPRESS_DB_HOST: \"mysql:3306\"\n      WORDPRESS_DB_PASSWORD: \"password\"\n  mysql:\n    container_name: my-wordpress-database\n    image: mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: \"password\"\n```", "```\ndocker-compose up -d\n\n```", "```\ndocker-compose ps\n\n```", "```\nopen http://$(docker-machine ip chapter03)/\n\n```", "```\nopen http://$(docker-machine ip chapter03)\n\n```", "```\ndocker-compose stop && docker-compose rm\n\n```", "```\ndocker-compose up -d\ndocker-compose ps\nopen http://$(docker-machine ip chapter03)/\n\n```", "```\ndocker-compose stop && docker-compose rm\n\n```", "```\nversion: '2'\nservices:\n  wordpress:\n    container_name: my-wordpress-app\n    image: wordpress\n    ports: \n      - \"80:80\"\n    links:\n      - mysql\n    environment:\n      WORDPRESS_DB_HOST: \"mysql:3306\"\n      WORDPRESS_DB_PASSWORD: \"password\"\n volumes:\n - \"uploads:/var/www/html/wp-content/uploads/\"\n  mysql:\n    container_name: my-wordpress-database\n    image: mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: \"password\"\n    volumes:\n      - \"database:/var/lib/mysql\"\nvolumes:\n uploads:\n driver: local\n database:\n driver: local\n\n```", "```\ndocker-compose up -d\ndocker-compose ps\nopen http://$(docker-machine ip chapter03)/\n\n```", "```\ndocker exec -d my-wordpress-app chmod 777 /var/www/html/wp-content/uploads/\n\n```", "```\ndocker volume ls\n\n```", "```\ndocker-compose stop && docker-compose rm\ndocker-compose ps\n\n```", "```\ndocker-compose up -d\nopen http://$(docker-machine ip chapter03)/\n\n```", "```\n  wordpress8080:\n    container_name: my-wordpress-app-8080\n    image: wordpress\n    ports: \n      - \"8080:80\"\n    links:\n      - mysql\n    environment:\n      WORDPRESS_DB_HOST: \"mysql:3306\"\n      WORDPRESS_DB_PASSWORD: \"password\"\n    volumes:\n      - \"uploads:/var/www/html/wp-content/uploads/\"\n```", "```\ndocker volume inspect <your_volume_name>\n\n```", "```\ndocker-machine ssh chapter03\nsudo su -\n\n```", "```\ndocker-machine stop chapter03 && docker-machine rm chapter03\ndocker-machine create \\\n --driver digitalocean \\\n --digitalocean-access-token sdnjkjdfgkjb345kjdgljknqwetkjwhgoih314rjkwergoiyu34rjkherglkhrg0\\\n --digitalocean-region lon1 \\\n --digitalocean-size 1gb \\\n chapter03\neval \"$(docker-machine env chapter03)\"\n\n```", "```\ndocker-machine ssh chapter03\n\n```", "```\nwget https://github.com/rancher/convoy/releases/download/v0.4.3/convoy.tar.gz\ntar xvf convoy.tar.gz\nsudo cp convoy/convoy convoy/convoy-pdata_tools /usr/local/bin/\n\n```", "```\nsudo mkdir -p /etc/docker/plugins/\nsudo bash -c 'echo \"unix:///var/run/convoy/convoy.sock\" > /etc/docker/plugins/convoy.spec'\n\n```", "```\ntruncate -s 4G data.vol\ntruncate -s 1G metadata.vol\nsudo losetup /dev/loop5 data.vol\nsudo losetup /dev/loop6 metadata.vol\n\n```", "```\nsudo convoy daemon --drivers devicemapper --driver-opts dm.datadev=/dev/loop5 --driver-opts dm.metadatadev=/dev/loop6 &\n\n```", "```\nversion: '2'\nservices:\n  wordpress:\n    container_name: my-wordpress-app\n    image: wordpress\n    ports: \n      - \"80:80\"\n    links:\n      - mysql\n    environment:\n      WORDPRESS_DB_HOST: \"mysql:3306\"\n      WORDPRESS_DB_PASSWORD: \"password\"\n    volumes:\n      - \"uploads:/var/www/html/wp-content/uploads/\"\n  mysql:\n    container_name: my-wordpress-database\n image: mariadb\n    environment:\n      MYSQL_ROOT_PASSWORD: \"password\"\n command: mysqld --ignore-db-dir=lost+found\n    volumes:\n      - \"database:/var/lib/mysql/\"\nvolumes:\n uploads:\n driver: convoy\n database:\n driver: convoy\n\n```", "```\ndocker-compose up -d\nopen http://$(docker-machine ip chapter03)/\ndocker-compose ps\ndocker volume ls\ndocker volume inspect wordpressconvoy_database\n\n```", "```\nopen http://$(docker-machine ip chapter03)/\n\n```", "```\ndocker exec -d my-wordpress-app chmod 777 /var/www/html/wp-content/uploads/\n\n```", "```\ndocker-machine ssh chapter03\n\n```", "```\nsudo convoy snapshot create wordpressconvoy_uploads --name snap_wordpressconvoy_uploads_01\nsudo convoy snapshot create wordpressconvoy_database --name snap_wordpressconvoy_database_01\n\n```", "```\nsudo mkdir /opt/backup/\n\n```", "```\nsudo convoy backup create snap_wordpressconvoy_uploads_01 --dest vfs:///opt/backup/\nsudo convoy backup create snap_wordpressconvoy_database_01 --dest vfs:///opt/backup/\n\n```", "```\nvfs:///opt/backup/?backup=34ca255e-7164-4734-8b96-579b4e79f728\\u0026volume=26a5913e-4794-4df3-bbb9-7a6361c23a75\n\n```", "```\nvfs:///opt/backup/?backup=41731035-2760-4a1b-bba9-5e906e2471bc\\u0026volume=8212de61-ea8c-4777-881e-d4bd07b800e3\n\n```", "```\nmkdir ~/.aws/\ncat >>  ~/.aws/credentials << CONTENT\n[default]\naws_access_key_id = JHFDIGJKBDS8639FJHDS\naws_secret_access_key = sfvjbkdsvBKHDJBDFjbfsdvlkb+JLN873JKFLSJH\nCONTENT\n\n```", "```\nsudo convoy backup create snap_wordpressconvoy_uploads_01 --dest s3://chapter03-backup-bucket@us-west-2/\nsudo convoy backup create snap_wordpressconvoy_database_01 --dest s3://chapter03-backup-bucket@us-west-2/\n\n```", "```\ns3://<bucket-name>@<aws-region>\n\n```", "```\ns3://chapter03-backup-bucket@us-west-2/?backup=6cb4ed46-2084-42bc-8261-6b4da690bd5e\\u0026volume=26a5913e-4794-4df3-bbb9-7a6361c23a75\n\n```", "```\ns3://chapter03-backup-bucket@us-west-2/?backup=75608b0b-93e7-4319-b212-7a1b0ccaf289\\u0026volume=8212de61-ea8c-4777-881e-d4bd07b800e3\n\n```", "```\ndocker-machine stop chapter03 && docker-machine rm chapter03\n\n```", "```\nsudo convoy create wordpressconvoy_uploads --backup s3://chapter03-backup-bucket@us-west-2/?backup=6cb4ed46-2084-42bc-8261-6b4da690bd5e\\u0026volume=26a5913e-4794-4df3-bbb9-7a6361c23a75 \n\n```", "```\nsudo convoy create wordpressconvoy_database --backup s3://chapter03-backup-bucket@us-west-2/?backup=75608b0b-93e7-4319-b212-7a1b0ccaf289\\u0026volume=8212de61-ea8c-4777-881e-d4bd07b800e3\n\n```", "```\ndocker-compose up -d\n\n```", "```\nopen http://$(docker-machine ip chapter03)/\n\n```", "```\n docker-machine create \\\n --driver amazonec2 \\\n --amazonec2-access-key JHFDIGJKBDS8639FJHDS \\\n --amazonec2-secret-key sfvjbkdsvBKHDJBDFjbfsdvlkb+JLN873JKFLSJH \\\n --amazonec2-vpc-id vpc-35c91750 \\\n chapter03\n\n```", "```\neval \"$(docker-machine env chapter03)\"\n\n```", "```\ndocker-machine ssh chapter03\n\n```", "```\ncurl -sSL https://dl.bintray.com/emccode/rexray/install | sh -\n\n```", "```\nsudo vim /etc/rexray/config.yml\n\n```", "```\nrexray:\n  storageDrivers:\n  - ec2\naws:\n  accessKey: JHFDIGJKBDS8639FJHDS\n  secretKey: sfvjbkdsvBKHDJBDFjbfsdvlkb+JLN873JKFLSJH\n```", "```\nsudo rexray volume ls\n\n```", "```\nsudo systemctl restart rexray\nsudo systemctl status rexray\n\n```", "```\nsudo systemctl restart docker\n\n```", "```\nversion: '2'\nservices:\n  wordpress:\n    container_name: my-wordpress-app\n    image: wordpress\n    ports: \n      - \"80:80\"\n    links:\n      - mysql\n    environment:\n      WORDPRESS_DB_HOST: \"mysql:3306\"\n      WORDPRESS_DB_PASSWORD: \"password\"\n    volumes:\n      - \"uploads:/var/www/html/wp-content/uploads/\"\n  mysql:\n    container_name: my-wordpress-database\n    image: mariadb\n    environment:\n      MYSQL_ROOT_PASSWORD: \"password\"\n    command: mysqld --ignore-db-dir=lost+found\n    volumes:\n      - \"database:/var/lib/mysql/\"\nvolumes:\n  uploads:\n    driver: rexray\n  database:\n    driver: rexray\n```", "```\ndocker exec -d my-wordpress-app chmod 777 /var/www/html/wp-content/uploads/\n\n```", "```\nopen http://$(docker-machine ip chapter03)/\n\n```", "```\ndocker-compose stop\ndocker-compose rm\n\n```", "```\ndocker volume ls\n\n```", "```\ndocker-machine stop chapter03 && docker-machine rm chapter03\n\n```", "```\n    docker exec -ti my-wordpress-database env TERM=xterm bash -l\n\n    ```", "```\n    mysql -uroot -ppassword --protocol=TCP -h127.0.0.1\n\n    ```", "```\n    use wordpress;\n\n    ```", "```\n    UPDATE wp_options SET option_value = replace(option_value, 'http://54.175.31.251', 'http://52.90.249.56') WHERE option_name = 'home' OR option_name = 'siteurl';\n    UPDATE wp_posts SET guid = replace(guid, 'http://54.175.31.251','http://52.90.249.56');\n    UPDATE wp_posts SET post_content = replace(post_content, 'http://54.175.31.251', 'http://52.90.249.56');\n    UPDATE wp_postmeta SET meta_value = replace(meta_value,'http://54.175.31.251','http://52.90.249.56');\n    ```", "```\nchmod 0400 ~/Downloads/flocker-test.pem.txt\n\n```", "```\nssh ubuntu@23.20.126.24 -i ~/Downloads/flocker-test.pem.txt\n\n```", "```\nexport FLOCKER_CERTS_PATH=/etc/flocker\nexport FLOCKER_USER=user1\nexport FLOCKER_CONTROL_SERVICE=54.198.167.2\n\n```", "```\nflockerctl status\nflockerctl ls\n\n```", "```\nexport DOCKER_TLS_VERIFY=1\nexport DOCKER_HOST=tcp://$FLOCKER_CONTROL_SERVICE:2376\ndocker info | grep Nodes\n\n```", "```\ndocker volume create -d flocker -o size=1G -o profile=bronze --name=database\ndocker volume create -d flocker -o size=1G -o profile=bronze --name=uploads\n\n```", "```\nmkdir wordpress\ncd wordpress\nvim docker-compose-node1.yml\n\n```", "```\nwordpress:\n  container_name: my-wordpress-app\n  image: wordpress\n  ports: \n    - \"80:80\"\n  links:\n    - mysql\n  environment:\n - \"constraint:flocker-node==1\"\n    - \"WORDPRESS_DB_HOST=mysql:3306\"\n    - \"WORDPRESS_DB_PASSWORD=password\"\n  volume_driver: flocker\n  volumes:\n    - \"uploads:/var/www/html/wp-content/uploads/\"\nmysql:\n  container_name: my-wordpress-database\n  image: mariadb\n  environment:\n - \"constraint:flocker-node==1\"\n     - \"MYSQL_ROOT_PASSWORD=password\"\n  command: mysqld --ignore-db-dir=lost+found\n  volume_driver: flocker\n  volumes:\n    - \"database:/var/lib/mysql/\"\n```", "```\ndocker-compose -f docker-compose-node1.yml up -d\ndocker-compose -f docker-compose-node1.yml ps\n\n```", "```\ndocker exec -d my-wordpress-app chmod 777 /var/www/html/wp-content/uploads/\n\n```", "```\ndocker-compose -f docker-compose-node1.yml ps\n\n```", "```\ndocker-compose -f docker-compose-node1.yml stop\ndocker-compose -f docker-compose-node1.yml rm -f\n\n```", "```\nvim docker-compose-node2.yml\n\n```", "```\nwordpress:\n  container_name: my-wordpress-app\n  image: wordpress\n  ports: \n    - \"80:80\"\n  links:\n    - mysql\n  environment:\n - \"constraint:flocker-node==2\"\n    - \"WORDPRESS_DB_HOST=mysql:3306\"\n    - \"WORDPRESS_DB_PASSWORD=password\"\n  volume_driver: flocker\n  volumes:\n    - \"uploads:/var/www/html/wp-content/uploads/\"\nmysql:\n  container_name: my-wordpress-database\n  image: mariadb\n  environment:\n - \"constraint:flocker-node==2\"\n     - \"MYSQL_ROOT_PASSWORD=password\"\n  command: mysqld --ignore-db-dir=lost+found\n  volume_driver: flocker\n  volumes:\n    - \"database:/var/lib/mysql/\"\n```", "```\ndocker-compose -f docker-compose-node2.yml up -d\n\n```", "```\ndocker-compose -f docker-compose-node2.yml ps\n\n```"]