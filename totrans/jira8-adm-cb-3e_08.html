<html><head></head><body>
        

                            
                    <h1 class="header-title">Jira Troubleshooting and Administration</h1>
                
            
            
                
<p>In the previous chapters, we looked at Jira's different customization options. As we have seen, Jira can be a complex system, especially as the number of customizations increases. This can be a headache for administrators when users run into problems and require support.</p>
<p>In this chapter, we will how learn to use tools for troubleshooting Jira configuration issues that easily pinpoint the cause of the problem. We will also look at other tools that can help you, as an administrator, to be more efficient at diagnosing and fixing issues, as well as supporting your users.</p>
<p>In this chapter, we will cover the following recipes:</p>
<ul>
<li>Troubleshooting notifications</li>
<li>Troubleshooting permissions</li>
<li>Troubleshooting field configurations</li>
<li>Running Jira in safe mode</li>
<li>Importing data from other issue trackers</li>
<li>Automating tasks in Jira</li>
<li>Running scripts in Jira</li>
<li>Switching user sessions in Jira</li>
<li>Working with Jira from the command line</li>
<li>Viewing Jira logs online</li>
<li>Managing shared filters and dashboards</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Troubleshooting notifications</h1>
                
            
            
                
<p>In this recipe, we will look at how to troubleshoot problems related to notifications, such as determining whether a user is receiving notifications for an issue and determining the reason why a user might not be receiving notifications.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Go through the following steps to troubleshoot notification problems in Jira:</p>
<ol>
<li>Navigate to Administration &gt; <strong>System</strong> &gt; <strong>Notification Helper</strong>.</li>
<li>Select the user that is not receiving the notifications as expected.</li>
<li>Select the issue for which the user is expected to receive notifications.</li>
<li>Select the notification event that should trigger the notification.</li>
<li>Click on Submit to start troubleshooting.</li>
</ol>
<p>You can also run the <strong>Notification Helper</strong> tool from the Admin menu while viewing an issue.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>The Notification Helper tool works by looking at the notification scheme settings that are used by the project of the selected issue, and it verifies whether the selected user matches one of the notifications.</p>
<p>Let's take a look at the following screenshot:</p>
<div><img src="img/be1d7a9b-afb6-4e85-a480-d704d4e61682.png" style="width:41.92em;height:39.25em;"/></div>
<p>The user, Christine Johnson, should not receive notifications about the HUM-14 issue, because she is not the reporter, assignee, or a watcher of the issue.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">There's more...</h1>
                
            
            
                
<p>Of course, other than your notification scheme settings, you will also want to check that your Jira is able to send outgoing emails successfully (refer to the <em>Setting up an outgoing mail server</em> recipe in <a href="de142fbf-5c35-4240-9581-1c12d1eddbdd.xhtml">Chapter 6</a>, <em>Emails and Notifications</em>), and also that the notification emails are not being filtered out to the user's spam folder.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Troubleshooting permissions</h1>
                
            
            
                
<p>In this recipe, we will look at how to troubleshoot problems caused by permission settings, such as a user being unable to view an issue.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Go through the following steps to troubleshoot permission problems in Jira:</p>
<ol>
<li>Navigate to <strong>Administration</strong> &gt; System &gt; Permission Helper.</li>
<li>Select the affected user.</li>
<li>Select the issue for which the user is expected to have permissions.</li>
<li>Select the permission type that the user should have access to.</li>
<li>Click on <strong>Submit </strong>to start troubleshooting.</li>
</ol>
<p>You can also run the <strong>Permission Helper</strong> tool from the Admin menu while viewing an issue.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>The Permission Helper tool works by looking at both the permission scheme and the security scheme settings that are used by the selected issue. It verifies whether the selected user has the required permissions for the necessary action.</p>
<p>As shown in the following screenshot, the user Eric Lin does not have the ability to delete the HUM-10 issue because he does not have the Administrators project role for the project:</p>
<div><img src="img/355d81f5-44e1-4d26-9aad-de9e621e4d7a.png" style="width:42.42em;height:44.33em;"/></div>
<p>This completes our recipe.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Troubleshooting field configurations</h1>
                
            
            
                
<p>In this recipe, we will determine why a given field is not displayed while viewing an issue and look at how to troubleshoot it.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Go through the following steps to troubleshoot why a field is not being displayed:</p>
<ol>
<li>Navigate to the issue that has missing fields.</li>
<li>Select the Where is my field?<strong> </strong>option from the Admin menu:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/2f707882-326c-4b1e-bae0-8252ff1afaad.png" style="width:23.00em;height:10.33em;"/></p>
<ol start="3">
<li>Select the field that is missing to start troubleshooting.</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>The <strong>Field Helper</strong> tool examines field-related configurations, including the following:</p>
<ul>
<li><strong>Field context</strong>: This checks whether the field is a custom field. The tool will then check whether the field has a context that matches the current project and issue type combinations.</li>
<li><strong>Field configuration</strong>: This verifies that the field is set to Hidden.</li>
<li><strong>Screens</strong>: This verifies whether the field is placed on the current screen based on the screen scheme and issue type screen scheme.</li>
<li><strong>Field data</strong>: This verifies whether the current issue has a value for the field, as custom fields without a value will often not be displayed.</li>
</ul>
<p class="mce-root"/>
<p>Let's look at the following screenshot:</p>
<div><img src="img/5593cbf5-054b-4bf8-8ae6-05cb98d430c0.png" style="width:42.83em;height:31.00em;"/></div>
<p>Total Comments is a custom field, and the reason it isn't displayed is that it has not been added to the screen.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Running Jira in safe mode</h1>
                
            
            
                
<p>When you have different people installing apps in Jira, you can, at times, run into problems, but you might be unsure as to which app has caused a certain problem. In these cases, you can use the process of elimination by first disabling all the apps and re-enabling them one at a time.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>Enabling safe mode will impact on your users, so make sure you plan accordingly before doing so.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Go through the following steps to enable safe mode:</p>
<ol>
<li>Navigate to Administration &gt; <strong>System</strong> &gt; Manage apps.</li>
<li>Click on the Enter safe mode<strong> </strong>link at the bottom of the page.</li>
<li>Click on <strong>Enter safe mode </strong>when you are prompted to confirm the operation.</li>
</ol>
<p>The window looks like the following screenshot:</p>
<div><img src="img/6e780545-acf0-4b51-accc-71f355b3d5b9.png" style="width:38.17em;height:25.33em;"/></div>
<p>This completes the steps for our recipe.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>The <strong>Universal Plugin Manager</strong> (<strong>UPM</strong>) is what Jira uses to manage all its apps. Other than being the interface that allows you to upload and install third-party apps (unless instructed otherwise), it also provides a number of other useful administrative features.</p>
<p>When you enable safe mode, the UPM will disable all user-installed apps, which returns Jira to a vanilla state. You can then individually enable each app, thereby finding the problematic app via the process of elimination.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">There's more...</h1>
                
            
            
                
<p>The UPM also provides an audit feature, which keeps track of all the changes related to the apps. You can simply click on the Audit log link at the bottom of the page and the UPM will display a list of changes made in the last 90 days.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Importing data from other issue trackers</h1>
                
            
            
                
<p>If you have another issue tracker and are thinking about switching to Jira, you can often easily migrate your existing data into Jira with its built-in import tool.</p>
<p>In this recipe, we will look at how to import data from Bitbucket's issue tracker. Jira supports the importing of data from other issue trackers, such as <strong>Bugzilla</strong> and <strong>GitHub</strong>, and as a CSV file. As we will see, the process is almost identical, so this recipe can be applied to these other systems too.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Go through the following steps to import data from other issue trackers, such as Bitbucket, into Jira:</p>
<ol>
<li>Navigate to Administration &gt; System &gt; External System Import.</li>
<li>Select the source's issue tracker system. We will select Bitbucket<strong> </strong>for this recipe.</li>
</ol>
<ol start="3">
<li>Click on the Next button to authorize the Jira importer to access data from Bitbucket, and when prompted, click on Authorize:</li>
</ol>
<div><img src="img/2eeb31c3-2d37-48de-9b88-e980cba14add.png" style="width:49.75em;height:31.58em;"/></div>
<ol start="4">
<li>Map projects from Bitbucket to Jira projects. Check the Don't import this project<strong> </strong>option for those projects that you do not want to import to Jira. Click on Next to continue, as shown in the following screenshot.</li>
<li>After you have clicked on Next, Jira will query Bitbucket to get an export of settings, such as fields and values, so that they can be used to map the Jira counterparts. This process may take a few minutes, depending on the size of your Bitbucket project:</li>
</ol>
<div><img src="img/8edf7a07-62e1-43d6-80b9-c3b78b649312.png" style="width:48.25em;height:26.25em;"/></div>
<ol start="6">
<li>Select the fields from Bitbucket that you want to manually map to the Jira field values. Click on Next<strong> </strong>to continue:</li>
</ol>
<div><img src="img/8b33f2f2-9981-49de-a1ac-8c98f6b02285.png" style="width:34.67em;height:25.83em;"/></div>
<ol start="7">
<li>Map the field values from Bitbucket to the field values of the Jira fields, as shown in the following screenshot. Click on Next<strong> </strong>to continue:</li>
</ol>
<div><img src="img/eecf94dd-3185-4090-bb9a-75a4dec4ead5.png" style="width:41.25em;height:31.92em;"/></div>
<ol start="8">
<li>Map Bitbucket's link types to the Jira issue link types. Click on Begin Import<strong> </strong>to start importing data into Jira, as seen in the following screenshot:</li>
</ol>
<div><img src="img/40f54fa0-c41e-4d1c-9761-ae9d1a594649.png" style="width:36.42em;height:18.75em;"/></div>
<ol start="9">
<li>Review the import result. You can click on the download a detailed log<strong> </strong>link to get a full log of the process if the import has failed. You can also click on the save the configuration link to get a copy of the mapped files so that you do not have to remap everything from scratch next time:</li>
</ol>
<div><img src="img/e1f3d55d-99a9-47e3-8c29-839092b7b69a.png" style="width:40.50em;height:11.75em;"/></div>
<p>We will now look at how the steps work.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>Jira has a common wizard interface for all the different issue tracker importers. While each importer is unique in its own way, they all follow the same basic steps, as described in the following list:</p>
<ul>
<li><strong>Configuring the target data source</strong>: This step is where the target issue tracker's data is retrieved. It can be direct database access in the case of Bugzilla or it can be over the internet in the case of Bitbucket.</li>
<li><strong>Selecting a project to import to</strong>: This is where we have to choose the issues that are to be imported to either an existing project or a new project.</li>
<li><strong>Mapping the target system's fields to Jira fields</strong>: This is where the target issue maps the tracker's fields to the corresponding Jira fields. Custom fields can be automatically created as part of the process.</li>
<li><strong>Mapping a target system's field values to Jira field values</strong>: This maps the field data based on the previous field mappings. It is usually required for selecting list-based fields, such as priority, issue status, and custom fields.</li>
<li><strong>Mapping the issue link types</strong>: This step is optional depending on whether the target issue tracker supports linking. If it does, those link types will need to be mapped to the Jira issue link types.</li>
</ul>
<p>Although the Jira importer is able to handle most instances where the data mapping is straightforward, for bigger instances with complex mapping requirements, such as project merging and conditional mapping, it is recommended that you engage an Atlassian Expert (<a href="https://www.atlassian.com/resources/experts" target="_blank">https://www.atlassian.com/resources/experts</a>) to handle the migration rather than relying on the importer alone.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">There's more...</h1>
                
            
            
                
<p>If there are no import options available for your issue tracker, you can also try to export your data in CSV format and then use the built-in CSV importer to import the data.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Automating tasks in Jira</h1>
                
            
            
                
<p>As an administrator, being able to automate tasks is often a very important part of your job. You will often need to have some programming skills in order to take advantage of some of the automation facilities provided by Jira out of the box, such as <strong>listeners</strong> and <strong>services</strong>. Luckily, there are now tools that can help you with automation without you needing to know any programming.</p>
<p>In this recipe, we will set up an automated task where Jira will periodically check for issues that have not been updated in 7 days, close them, and add a comment.</p>
<p class="mce-root"/>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>For this recipe, we need to have the<strong> Automation for Jira </strong>app installed. You can download it from <a href="https://marketplace.atlassian.com/apps/1215460/automation-for-jira">https://marketplace.atlassian.com/apps/1215460/automation-for-jira</a> and install it using the UPM.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Go through the following steps to set up an automated task:</p>
<ol>
<li>Navigate to Administration &gt; System &gt; Automation rules.</li>
<li>Click on the Create rule<strong> </strong>button.</li>
<li>Select the <kbd>Scheduled</kbd> trigger for the new automation rule.</li>
<li>Enter how often the automation task should run. We want our task to run once every day, so enter <kbd>1</kbd>.</li>
<li>Enter the <kbd>project = "Support Desk" and updated &lt;= 7d</kbd> JQL query so that the automation task will know which issues it should affect:</li>
</ol>
<div><img src="img/7a452bc6-9a0c-48c4-b0a0-6335c297af5a.png" style="width:45.33em;height:28.00em;"/></div>
<ol start="6">
<li>Click on the Save button to save the trigger configuration.</li>
<li>With the trigger configured, we now need to select an action. Since we want to close issues, we will select the New action option.</li>
<li>Select the Transition issue action type.</li>
<li>Select the destination status to transition affected issues when the automation task runs. We want to close issues, so select the Done status. If your workflow uses a different status, select that instead:</li>
</ol>
<div><img src="img/37194869-d627-4846-a605-6156fad13dd6.png"/></div>
<ol start="10">
<li>If your workflow requires additional fields to be set, you can also set them here by selecting the fields from the Choose fields to set… drop-down menu.</li>
<li>Click the Save button to save our changes.</li>
<li>Enter a name for our new automation task, such as Close old issues, and click on the Turn it on button.</li>
</ol>
<p class="mce-root"/>
<p class="mce-root"/>
<p>Your completed automation task should look something like the following:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/66a1c653-651a-48d5-b24e-da31fb866d89.png"/></p>
<p>It's time to look at how these steps work.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>In its most basic form, an automation rule consists of two components: the trigger and the action. The trigger will determine when the automation task will run. There are three built-in trigger types:</p>
<ul>
<li><strong>Issue triggers</strong>: These triggers run when the corresponding issue fires an event, usually when issues are updated in some way, such as during issue updates and workflow transitions.</li>
<li><strong>Scheduled</strong>: This trigger type will automatically run on a predetermined time frame. You can use the simple form, as we have in this recipe, to specify the frequency, or you can use a <em>cron</em> expression to specify the exact hour, minute, and second.</li>
<li><strong>Integrations:</strong> This trigger type creates a webhook URL. When an external system makes an HTTP <kbd>POST</kbd> request to the URL, the trigger will run.</li>
</ul>
<p class="mce-root"/>
<p>The <strong>action</strong> is what will happen when a trigger runs. A trigger can run more than one action. An action can perform operations, including making changes to issue data, sending email notifications, and sending outgoing HTTP <kbd>POST</kbd> requests.</p>
<p>You can add more advanced components to your automation rule to have conditional branching and execution. For example, when a trigger is run, you can run one action for issues of type Bug, and another action for issues of type Story. You can also chain your automation rules so that one rule has a trigger based on a webhook, and you can have another rule with an action that makes an HTTP <kbd>POST</kbd> to that webhook URL to trigger it.</p>
<p>With our automation rule, we have set up a trigger to run once every day. We then used a JQL query to select only the issues in the Support Desk project that have not been updated in the last 7 days since the task was run. We then added an action for the trigger to transition all the issues returned from the JQL query to Done.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Running scripts in Jira</h1>
                
            
            
                
<p>Jira provides an app framework for people with programming skills to create apps to extend its features or perform tasks that would otherwise be impossible or tedious;  however, even with this functionality, it is sometimes overkill to create a full-blown app for what may seem like a simple task. The good news is that there is an option for you to write or program scripts that can take advantage of what the API offers without the burden of full app development.</p>
<p>In this recipe, we will create a Groovy script that will share a number of search filters by adding them as favorites for everyone in Jira—a task that would otherwise take a lot of time if done manually.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>For this recipe, we need to have ScriptRunner for the Jira app installed. You can download it from <a href="https://marketplace.atlassian.com/plugins/com.onresolve.jira.groovy.groovyrunner" target="_blank">https://marketplace.atlassian.com/plugins/com.onresolve.jira.groovy.groovyrunner</a> and install it with the UPM.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Go through the following steps to run a custom Groovy script in Jira (note that you will need to update the filter IDs accordingly):</p>
<ol>
<li>Navigate to Administration &gt; Manage apps &gt; Script Console.</li>
<li>Copy the following script into the Script text area:</li>
</ol>
<pre style="padding-left: 60px">import com.atlassian.jira.component.ComponentAccessor<br/>import com.atlassian.jira.favourites.FavouritesManager<br/>import com.atlassian.jira.issue.search.SearchRequest<br/>import com.atlassian.jira.issue.search.SearchRequestManager<br/>import com.atlassian.jira.user.util.UserManager<br/>import com.atlassian.jira.security.groups.GroupManager<br/>import com.atlassian.jira.exception.PermissionException <br/><br/>//Set the filter ID and group to share with here<br/>Long[] searchRequestIds = [10302,10303,10304]<br/>String shareWith = "jira-software-users"<br/>FavouritesManager favouritesManager = ComponentAccessor.getComponent(FavouritesManager.class)<br/>SearchRequestManager searchRequestManager = ComponentAccessor.getComponent(SearchRequestManager.class)<br/>UserManager userManager = ComponentAccessor.getComponent(UserManager.class)<br/>GroupManager groupManager = ComponentAccessor.getComponent(GroupManager.class) <br/><br/>for(Long searchRequestId in searchRequestIds) {    <br/>    SearchRequest searchRequest = searchRequestManager.getSharedEntity(searchRequestId) <br/>    <br/>    for (String userName in groupManager.getUserNamesInGroup(shareWith)) {        <br/>        try {<br/>            favouritesManager.addFavourite(userManager.getUserByName(userName), searchRequest)            <br/>        } catch (PermissionException e) {            <br/>            // the user does not have permission to view this filter        <br/>        }    <br/>    }<br/>}</pre>
<ol start="3">
<li>Switch the filter IDs (<kbd>searchRequestIds</kbd>) and group name (<kbd>shareWith</kbd>) based on your data. You can get filter IDs by running your filter, and the ID will be in your browser's address bar.</li>
</ol>
<ol start="4">
<li>Click on Run to execute the script.</li>
</ol>
<p>The Script Console window is shown in the following screenshot:</p>
<div><img src="img/097cb7f0-94a5-47f1-aa61-589ef1e5117d.png"/></div>
<p>You can see the information being displayed in the console.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>The ScriptRunner for Jira app allows you to run Groovy scripts inside Jira. Since both Java (what Jira is built with) and Groovy can run on the JVM, you will have access to all the components and APIs that Jira exposes to developers.</p>
<p>In the script, we list a number of search filters by their IDs (these filters need to be shared so that other users can favorite them), loop through them, and add each ID as a favorite to the users in the <kbd>jira-software-users</kbd> group, all done using Jira's public API.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Switching user sessions in Jira</h1>
                
            
            
                
<p>You will often have problems that only happen to a particular user. In these cases, you will have to either sit next to the user in order to see and understand the problem or reset the user's password and log in as that user.</p>
<p>In this recipe, we will learn how you can switch your current session to any other user's session without having to reset or get hold of the user's password.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>For this recipe, we need to have the <strong>SU</strong> (short for <strong>switch user</strong>) for Jira app installed. You can download it from <a href="https://marketplace.atlassian.com/plugins/com.dolby.atlassian.jira.jirasu" target="_blank">https://marketplace.atlassian.com/plugins/com.dolby.atlassian.jira.jirasu </a>and install it with the UPM.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>To switch (SU) to a different user, go through the following steps:</p>
<ol>
<li>Navigate to <strong>Administration &gt;</strong> <strong>User management</strong> &gt; Users</li>
<li>Click the SU link for the user you want to switch to:</li>
</ol>
<div><img src="img/ed68cd01-868c-4f89-b058-d7afb88ed07c.png"/></div>
<p>After you have selected the user, your current user session will be switched to that user, with the same configurations and permissions applied. After you are done, you can switch back by selecting the SU Exit option from the SU menu item from the top navigation bar.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>The SU for Jira app works by changing your current user session to the user of your choice, then, from Jira's point of view, you have effectively logged in (without having to supply the user's password) as the selected user.</p>
<p>Now that you understand this, it should be obvious that this technique could be potentially misused in the wrong hands. You can restrict access to the SU functionality by going to the UPM and clicking on the Configure button of the SU for Jira app. This will then allow you to restrict access to selected groups.</p>
<p>One useful feature is its audit log. Every time someone uses the SU function, it is logged in the system, so administrators can always go and check if someone has been abusing it. You can access the SU Audit Log by navigating to Administration &gt; System &gt; SU Audit Log.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Working with Jira from the command line</h1>
                
            
            
                
<p>We normally interact with Jira via the browser, but sometimes it is useful to be able to use the command line, especially for administrative tasks or writing shell scripts.</p>
<p>In this recipe, we will use the command line to create new users in Jira.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>For this recipe, you need to have the <strong>Atlassian</strong> <strong>Command Line Interface</strong> (<strong>CLI</strong>) tool available on your workstation. You can download it from <a href="https://marketplace.atlassian.com/plugins/org.swift.atlassian.cli" target="_blank">https://marketplace.atlassian.com/plugins/org.swift.atlassian.cli</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>To use the Atlassian CLI tool, we first need to install it by unzipping it to a convenient location on your workstation. Next, update the <kbd>jira.sh</kbd> (for Unix) or <kbd>jira.bat</kbd> (for Windows) file to add Jira's details.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>For example, as shown in the following command, Jira is running on <kbd>http://localhost:8080</kbd>, and the administrator credential is <kbd>admin_user</kbd> with <kbd>admin_password</kbd> as the password:</p>
<pre><strong>java -jar 'dirname $0'/lib/jira-cli-3.8.0.jar
-server http://localhost:8080 --user admin_user
--password admin_password "$@"</strong></pre>
<ol start="1">
<li>So, now that we have everything set up, we can run the following command to create a new user in Jira:</li>
</ol>
<pre style="padding-left: 60px"><strong>./jira.sh --action addUser --userId tester 
-userEmail tester@company.com --userFullName
Tester</strong></pre>
<ol start="2">
<li>You should get the following response:</li>
</ol>
<pre style="padding-left: 60px"><strong>User: tester added with password: 
89u66p3mik5q.  Full name is: Tester.  Email is:
tester@company.com.</strong></pre>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>The Atlassian CLI tool works by accessing Jira features and functions via its remote SOAP and REST API.</p>
<p>We updated the Jira script file with Jira details, so we don't have to specify them every time; this is useful if we want to use the tool in a script. When we run the Jira script, it will have all the necessary connection information.</p>
<p>The Atlassian CLI comes with a list of command actions, such as the <kbd>addUser</kbd> action that we used to create users in Jira. You can get a full list of actions from <a href="https://bobswift.atlassian.net/wiki/display/JCLI/Documentation" target="_blank">https://bobswift.atlassian.net/wiki/display/JCLI/Documentation</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Viewing Jira logs online</h1>
                
            
            
                
<p>Often, when an error occurs, you, as the administrator, will need to examine the Jira log files to pinpoint the exact problem. Normally, in order to get access to the logs, you will need to either SSH into the server or download the file using an FTP client. In a locked-down environment, you will have to request this via your IT team, which could lead to a long turnaround time.</p>
<p class="mce-root"/>
<p>In this recipe, we will look at how you can access and search through your Jira log files, all from the browser.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>For this recipe, we need to have the<strong> Last Log for Jira</strong> app installed. You can download it from <a href="https://marketplace.atlassian.com/apps/1211604/last-log-for-jira?hosting=server&amp;tab=overview">https://marketplace.atlassian.com/apps/1211604/last-log-for-jira?hosting=server&amp;tab=overview</a> and install it with the UPM.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Go through the following steps to access the Jira log files from the browser:</p>
<ol>
<li>Navigate to Administration &gt; Manage apps &gt; View log.</li>
<li>Select the log file to view from the log-file drop-down.</li>
<li>Enter the text string to search the selected log file. If matches are found, they will be highlighted, as shown in the following screenshot:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/f44010ed-7d4e-4214-93f0-835be7548a8d.png" style="width:44.75em;height:28.83em;"/></p>
<p>With this, we have completed the steps for this recipe.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>Jira writes its logs in the <kbd>atlassian-jira.log</kbd> file in the <kbd>JIRA_HOME/log</kbd> directory. Some Jira components, such as Jira Service Desk, and third-party apps write to their own log files. Since the Last Log for Jira app allows you to access all the files inside the <kbd>JIRA_HOME/log</kbd> directory, you will have access to all the log files.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Managing shared filters and dashboards</h1>
                
            
            
                
<p>Jira allows end users to create their own search filters and dashboards and share them with other users. When the owner of the shared filters and dashboards leaves the organization or goes on leave, others will not be able to make changes to them. In these cases, as the Jira administrator, you can temporarily (or permanently) change the owner of the shared filter and dashboard to a new user.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Go through the following steps to reassign a shared filter or dashboard to another user:</p>
<ol>
<li>Navigate to Administration &gt; System &gt; Shared filters (or dashboards).</li>
<li>Search for the shared filter.</li>
<li>Select the Change Owner<strong> </strong>option for the filter.</li>
<li>Enter a new owner for the filter—for example, yourself—and click on the Change Owner<strong> </strong>button:</li>
</ol>
<div><img src="img/f628c20a-d6bb-4112-a2c1-35fd62544257.png" style="width:28.50em;height:11.00em;"/></div>
<p>This completes the steps for this recipe.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            

            
        
    

        

                            
                    <h1 class="header-title">There's more...</h1>
                
            
            
                
<p>Normally, you will only need to change the owner of shared filters or dashboards, as other users use those; however, in rare cases where you need to change the owner of nonshared filters or dashboards, you can first switch the user session to the owner of the filter or dashboard, as outlined in the <em>Switching user sessions in Jira</em> recipe, and then change the owner to someone else. Note that this requires the user to be active in Jira, so you might need to first reactivate the account.</p>


            

            
        
    </body></html>