<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Team Project Setup" id="aid-F8901"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Team Project Setup</h1></div></div></div><div class="blockquote"><table border="0" cellspacing="0" cellpadding="0" class="blockquote" summary="Block quote"><tr><td valign="top"> </td><td valign="top"><p><span class="emphasis"><em>"It is not the beauty of a building you should look at; it's the construction of the foundation that will stand the test of time."</em></span></p></td><td valign="top"> </td></tr><tr><td valign="top"> </td><td colspan="2" align="right" valign="top" style="text-align: center">--<span class="attribution"><span class="emphasis"><em>David Allan Coe</em></span></span></td></tr></table></div><p>In this chapter, we will cover:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Connecting to TFS using Team Explorer</li><li class="listitem">Setting up your user profile in TFS</li><li class="listitem">Creating a Team Project using the Scrum Template</li><li class="listitem">Assigning a license, adding users, and auditing user access</li><li class="listitem">Configuring Dashboards in Team Project</li><li class="listitem">Setting up a welcome page for a Team Project</li><li class="listitem">Creating and setting up a Team Room</li><li class="listitem">Renaming a Team Project</li><li class="listitem">Creating a new Team Project through the command line</li><li class="listitem">Deleting a Team Project</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Introduction</h1></div></div></div><p>Microsoft Visual Studio <a id="id0" class="indexterm"/>Team Foundation Server provides a set of integrated tools enabling Teams to effectively manage the life cycle of their software project. The Team in Team Foundation Server is encapsulated within the container of a Team Project. Simply put, <span class="strong"><strong>Team Project</strong></span><a id="id1" class="indexterm"/> is a logical container isolating all tools and artifacts associated with a software application together in a single namespace.</p><p>The conceptual boundary introduced through Team Project eliminates the problem of having access to unrelated artifacts such as code, Work Items, or release information not relevant to your applications development. Related Team Projects can be grouped together into a Team Project Collection. It can be used to introduce a physical separation between the groups of related Team Projects by hosting them in separate databases.</p><p>Team Foundation Server <a id="id2" class="indexterm"/>supports multiple<a id="id3" class="indexterm"/> Team Project Collections, each of which can internally host multiple Team Projects. Resources such as build pools are scoped at the Team Project Collection level. A Team Project can host multiple Teams; certain resources are set at the Team Project level and others at the Team level. As illustrated in the following screenshot, the selection of a source control repository (TFVC or Git) is made at the Team Project level; however, Teams have autonomy on the level of backlogs they choose and the workflows on the Kanban board. The delivery framework of choice is applied through the Process Template; this in turn applies the delivery framework-specific terminology, artifacts, and workflows to the Team Project and all Teams within the Team Project:</p><div class="mediaobject"><img src="../Images/image00297.jpeg" alt="Introduction"/></div><p style="clear:both; height: 1em;"> </p><p>TFS Reporting warehouse<a id="id4" class="indexterm"/> is a traditional data warehouse consisting of a relational database organized in an approximate star schema and an SQL Server Analysis Services cube built on top of the relational database. All Team Projects, irrespective of the Team Project Collection they belong to, are aggregated into a single data warehouse.</p><p>Team Foundation Server provides a hierarchical security model. Permissions can be set through TFS Groups or AD Group membership through every level, right from the server through to the object level. Groups can be nested and set to inherit permissions through the hierarchy. Inheritance of permissions can be set to <span class="strong"><strong>Denied</strong></span> where you want to control access to selected resources. A more in-depth breakdown of precreated groups with details of access and <a id="id5" class="indexterm"/>permissions can be found at <a class="ulink" href="http://bit.ly/1PPaU6l">http://bit.ly/1PPaU6l</a>.</p><div class="mediaobject"><img src="../Images/image00298.jpeg" alt="Introduction"/></div><p style="clear:both; height: 1em;"> </p><p>Permissions can <a id="id6" class="indexterm"/>be used to limit access to resources within or between Team Projects, Team Project Collections provide an isolation altogether. Team Project Collections also provide other functional and technical benefits such as:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">The usage of a single TFS instance across multiple departments while still providing a level of isolation. Collections can be used to reflect an organizational structure too.</li><li class="listitem">Flexibility in backup and restore. This can reduce downtime as restoring one collection will not impact users of other collections.</li><li class="listitem">Scalability and load balancing by moving collections on separate SQL Server instances.</li></ul></div><p>In this chapter, we'll touch on Administration and Process Templates; these topics are discussed at length in future chapters. The focus of this chapter is on creating and setting up various elements of a Team Project.</p></div></div>
<div class="section" title="Connecting to TFS using Team Explorer" id="aid-G6PI1"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Connecting to TFS using Team Explorer</h1></div></div></div><p>To build, test, track, or <a id="id7" class="indexterm"/>release your software, you'll need to<a id="id8" class="indexterm"/> connect the client of your choice to Team Foundation Server. As a software developer, you'll spend a lot of time in the Visual Studio IDE. Whether you store the code in the TFS Git repository or TFVC source control, you'll need to connect the IDE to TFS to interact with the code. In this recipe, you'll learn how to connect to TFS using Team Explorer.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>Getting ready</h2></div></div></div><p>If you have any Visual Studio 2015 SKU installed, you already have Team Explorer. With TFS 2015, a separate install of Team Explorer is no longer available; you will need to install Visual Studio Community at the very least to get Team Explorer.</p><div class="note" title="Note"><h3 class="title"><a id="note03"/>Note</h3><p>To connect to TFS via any of the office products, you can install the TFS Office Integration Installer:<a id="id9" class="indexterm"/> <a class="ulink" href="http://bit.ly/1k3wh7p">http://bit.ly/1k3wh7p</a>. You can read more about the benefits of the TFS Office Integration Installer at <a class="ulink" href="http://bit.ly/1Grh3DS">http://bit.ly/1Grh3DS</a>.</p></div><p>When you start Visual Studio for the first time, you'll be asked to sign in with a Microsoft account, such as Live, Hotmail, or Outlook, and provide some basic registration information. Choose a Microsoft account that best represents you. If you already have a MSDN account, it's recommended that you sign in with its associated Microsoft account. If you don't have a Microsoft account, you can create one for free. Logging in has various benefits such as the synchronization of Visual Studio settings across multiple machines. While logging in is advisable, it is not mandatory.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>How to do it...</h2></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open Visual Studio 2015.</li><li class="listitem">Click on the <span class="strong"><strong>Team</strong></span> toolbar and select <span class="strong"><strong>Manage Connections...</strong></span>:<div class="mediaobject"><img src="../Images/image00299.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">From within Team Explorer, click on the <span class="strong"><strong>Manage Connections</strong></span> hyperlink and choose <span class="strong"><strong>Connect to Team Project</strong></span>:<div class="mediaobject"><img src="../Images/image00300.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">In the <span class="strong"><strong>Connect to Team Foundation Server</strong></span> window, the drop-down shows a list of all the <a id="id10" class="indexterm"/>TFS Servers you have <a id="id11" class="indexterm"/>connected to before. If you don't see the server you want to connect to in the drop-down, click on <span class="strong"><strong>Servers...</strong></span> to enter the details of the Team Foundation Server. Click on <span class="strong"><strong>Add...</strong></span> and enter the details of your TFS Server. You may be required to enter the login details to authenticate with the server.<div class="mediaobject"><img src="../Images/image00301.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">The authenticated user details along with server details will update on the <span class="strong"><strong>Connect to Team Foundation Server</strong></span> window. Click on the <span class="strong"><strong>Connect</strong></span> button to complete the operation.</li><li class="listitem">You should be successfully connected to TFS via Team Explorer now:<div class="mediaobject"><img src="../Images/image00302.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec15"/>How it works...</h2></div></div></div><p>Visual Studio <a id="id12" class="indexterm"/>now ships with a GitHub connector. Now, the <a id="id13" class="indexterm"/>
<span class="strong"><strong>Manage Connections</strong></span> dialog within the Team Explorer allows you to connect not only to TFS and VSO, but also GitHub. This is a great example of how Microsoft is embracing open source by enabling seamless integration for non-Microsoft products.</p><div class="mediaobject"><img src="../Images/image00303.jpeg" alt="How it works..."/></div><p style="clear:both; height: 1em;"> </p><div class="note" title="Note"><h3 class="title"><a id="note04"/>Note</h3><p>If you are a GitHub free account user, you will be limited to just one account in Visual Studio; this is a limitation posed by GitHub. GitHub Enterprise users have the ability to map multiple accounts from Team Explorer 2015.</p></div><p>If <a id="id14" class="indexterm"/>you are in two minds whether to log in to Visual Studio with Microsoft account, weigh these benefits:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Synchronizes your Visual Studio settings</strong></span>: Visual Studio settings such as key bindings and color theme, apply immediately when you sign in to Visual Studio on any another device.</li><li class="listitem"><span class="strong"><strong>Extends the trial period</strong></span>: If you do not have a Visual Studio license, by logging in you can extend the trial period on Visual Studio Professional or Enterprise from 30 to 120 days.</li><li class="listitem"><span class="strong"><strong>Unlocks Visual Studio</strong></span>: If your Microsoft account is associated with your MSDN account, your copy of Visual Studio is automatically unlocked.</li></ul></div><p>If you do not want to synchronize the settings, this feature can be disabled. In the <span class="strong"><strong>Tools</strong></span> menu, chose <span class="strong"><strong>Options</strong></span>. Look for <span class="strong"><strong>Synchronized Settings</strong></span> under <span class="strong"><strong>Environment</strong></span> and uncheck the option as <a id="id15" class="indexterm"/>shown<a id="id16" class="indexterm"/> in the following screenshot:</p><div class="mediaobject"><img src="../Images/image00304.jpeg" alt="How it works..."/></div><p style="clear:both; height: 1em;"> </p></div></div>
<div class="section" title="Setting up your user profile in TFS" id="aid-H5A41"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Setting up your user profile in TFS</h1></div></div></div><p>Team Foundation Server <a id="id17" class="indexterm"/>gives you the ability to personalize your experience<a id="id18" class="indexterm"/> by choosing your own settings. Every TFS user has a profile by virtue of a login. In this recipe, you'll learn how to customize your profile in TFS.</p><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec16"/>How to do it…</h2></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open Team Portal<a id="id19" class="indexterm"/> by navigating to <code class="literal">http://tfs2015:8080/tfs/</code>.</li><li class="listitem">The top right-hand corner contains the name of the logged-in user. Click on the name to open the user profile control as shown in the following screenshot:<div class="mediaobject"><img src="../Images/image00305.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Click on <span class="strong"><strong>My profile</strong></span> to view and customize your profile. Let's go through the general settings first.</li><li class="listitem">To change your profile image, click on the <span class="strong"><strong>Change picture</strong></span> hyperlink, choose an image less than 4 MB and click on <span class="strong"><strong>Save Changes</strong></span>.</li><li class="listitem">To change the display name, click on the <span class="strong"><strong>Edit</strong></span> hyperlink, change the name from <span class="strong"><strong>Tarun</strong></span> to <code class="literal">Tarun Arora</code>, and click on <span class="emphasis"><em>Enter</em></span>.</li><li class="listitem">To change the preferred e-mail, click on the <span class="strong"><strong>Edit</strong></span> hyperlink, change the e-mail address to <code class="literal">tarun.arora@outlook.com</code>, and click on <span class="emphasis"><em>Enter</em></span>.</li><li class="listitem">The <a id="id20" class="indexterm"/><span class="strong"><strong>UI SETTINGS</strong></span> field can be changed <a id="id21" class="indexterm"/>from default to high contrast by selecting the <span class="strong"><strong>High contrast</strong></span> theme from the drop-down:<div class="mediaobject"><img src="../Images/image00306.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Switch over to the locale settings by clicking on the <span class="strong"><strong>LOCALE</strong></span> tab. The language and time zone settings can be changed from here.</li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec17"/>How it works…</h2></div></div></div><p>User profile settings only apply to the individual; these settings will not impact other users. Your profile should now have an image, display name, preferred e-mail address, and a theme of your choice. Any alerts you may configure for Work Item, build, and code review will be delivered to your preferred e-mail address.</p><p>The time zone settings in TFS will override the time zone settings of the machine. For example, if your machine is in the UTC + 1 time zone, but your profile is configured to UTC + 5:30. On creating a new Work Item, the created time in the Work Item will be UTC + 5:30 and not UTC + 1.</p><div class="note" title="Note"><h3 class="title"><a id="note05"/>Note</h3><p>There are certain functions in the Team Foundation Server that are influenced by the time zone settings of where the Team Foundation Server is hosted. For example, if your Team Foundation Server is hosted in Washington, USA, and part of your distributed Team is in Delhi, India, the current sprint would end based on when the day ends in Washington.</p></div><p>When<a id="id22" class="indexterm"/> the profile is opened within the scope of a Team<a id="id23" class="indexterm"/> Project, you'll see the <span class="strong"><strong>My alerts</strong></span> option in the <span class="strong"><strong>Profile</strong></span> menu. Alerts allow you to configure e-mail notifications when certain events occur within a Team Project. For example, build completion, Work Item assignment, and so on.</p><div class="mediaobject"><img src="../Images/image00307.jpeg" alt="How it works…"/></div><p style="clear:both; height: 1em;"> </p><p>Clicking on <span class="strong"><strong>My alerts</strong></span> will launch the window to manage your TFS Alerts. Basic and Custom Alerts can be managed from within this window. Alerts can be customized with clauses. The window also contains a link to the advanced alerts management page that can be used to manage the Team Alerts.</p></div></div>
<div class="section" title="Creating a Team Project using the Scrum Template"><div class="titlepage" id="aid-I3QM2"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Creating a Team Project using the Scrum Template</h1></div></div></div><p>In TFS, a Team Project is<a id="id24" class="indexterm"/> a logical container that stores<a id="id25" class="indexterm"/> artifacts such as Work Items, code, builds, and releases. Different Teams follow different processes to organize, manage, and track work. TFS allows process specification via Process Templates. The Scrum, Agile, and CMMI template are offered out of the box. The Process Template defines the set of Work Item types, queries, and reports that can be used to plan and track the project. In this recipe, you'll learn how to create a new Team Project using the Scrum Template.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec18"/>Getting ready</h2></div></div></div><p>Team Projects cannot be created from the Team Portal; in this recipe, we'll be using Team Explorer to create a new Team Project. If you haven't already, connect Team Explorer to TFS. Refer to the <span class="emphasis"><em>Connecting to TFS using Team Explorer</em></span> recipe for more information on how this can be done.</p><p>In order to create a new <a id="id26" class="indexterm"/>Team Project, you will need the <a id="id27" class="indexterm"/>following permissions:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Create new projects permission</strong></span>: You <a id="id28" class="indexterm"/>inherit this permission by being a member of the <span class="strong"><strong>Project Collection Administrators</strong></span> group. The <span class="strong"><strong>Team Foundation Administrators global group</strong></span> also includes this permission.</li><li class="listitem"><span class="strong"><strong>Create new Team sites permission</strong></span>: This permission is granted by adding the user to a SharePoint group with full control rights on the SharePoint site collection. You don't need this permission if you decide not to create a SharePoint site as part of the Team Project creation.<p>In order to use the SQL Server Reporting Services, you must be a member of the Team Foundation Content Manager role in Reporting Services.</p><div class="note" title="Note"><h3 class="title"><a id="note06"/>Note</h3><p>To verify whether you have the correct permissions, you can download the Team Foundation Server Administration Tool from CodePlex<a id="id29" class="indexterm"/> available at <a class="ulink" href="https://tfsadmin.codeplex.com/">https://tfsadmin.codeplex.com/</a>. TFS Admin is an open source tool available under the Microsoft Public license (Ms-PL).</p></div></li></ul></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec19"/>How to do it...</h2></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open Visual Studio 2015 and connect Team Explorer to TFS:<div class="mediaobject"><img src="../Images/image00302.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">From the <span class="strong"><strong>Projects and My Teams</strong></span> submenu, click on <span class="strong"><strong>New Team Project...</strong></span>. This will bring up the new Team Project creation wizard:<div class="mediaobject"><img src="../Images/image00308.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Enter the<a id="id30" class="indexterm"/> Team Project name and<a id="id31" class="indexterm"/> description, and click on the <span class="strong"><strong>Next</strong></span> button:<div class="mediaobject"><img src="../Images/image00309.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Select the <span class="strong"><strong>Scrum</strong></span> Process Template and click on <span class="strong"><strong>Next</strong></span>. This is possibly the single most important decision you make as part of the Team Project creation process. Learn more about the differences between Process Templates<a id="id32" class="indexterm"/> at <a class="ulink" href="https://msdn.microsoft.com/library/vs/alm/work/guidance/choose-process">https://msdn.microsoft.com/library/vs/alm/work/guidance/choose-process</a>.<div class="mediaobject"><img src="../Images/image00310.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Choose the <span class="strong"><strong>Create a new SharePoint site</strong></span> option. Click on <span class="strong"><strong>Configure...</strong></span> to specify the location for the new site. If you do not have SharePoint integration, chose the option to not configure a SharePoint site.<div class="mediaobject"><img src="../Images/image00311.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">This <a id="id33" class="indexterm"/>source control selection <a id="id34" class="indexterm"/>screen presents the second most important decision that you'll be asked to make as a part of the Team Project creation process. TFS supports both centralized (TFVC) and distributed (Git) source control systems. In <a class="link" title="Chapter 2. Setting Up and Managing Code Repositories" href="part0027.xhtml#aid-PNV62">Chapter 2</a>, <span class="emphasis"><em>Setting Up and Managing Code Repositories</em></span>, we'll go deeper into both source control types. Choose <span class="strong"><strong>Team Foundation Version Control</strong></span> and click on <span class="strong"><strong>Next</strong></span>:<div class="mediaobject"><img src="../Images/image00312.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Once you have reviewed the settings, click on <span class="strong"><strong>Finish</strong></span> to start the Team Project creation process:<div class="mediaobject"><img src="../Images/image00313.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Once the Team Project creation completes, you'll see a completion status on the form. Click on the <span class="strong"><strong>View the team project creation log</strong></span> hyperlink (we'll discuss the <a id="id35" class="indexterm"/>contents of logs in<a id="id36" class="indexterm"/> the <span class="emphasis"><em>How it works…</em></span> section).<div class="mediaobject"><img src="../Images/image00314.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Team Explorer is now updated with the details of the newly created Team Project:<div class="mediaobject"><img src="../Images/image00315.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec20"/>How it works...</h2></div></div></div><p>The Process <a id="id37" class="indexterm"/>Template defines the set of Work Item <a id="id38" class="indexterm"/>types and reports that will be used to plan and track the project. The Process Template also applies the Work Item workflows and state transitions. Let's look at how the out-of-the-box templates differ broadly from one another:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">The Scrum Template<a id="id39" class="indexterm"/> is designed to support the Scrum framework as defined by the Scrum organization. This Process Template tracks bugs at the same level as Product Backlog items and tracks estimates using an Effort field.</li><li class="listitem">The Agile Template<a id="id40" class="indexterm"/> is designed to support Agile development for Teams that don't want to be restricted by Scrum. It supports estimating User Stories by using Story Points. Tasks contain fields to track the Original Estimate, Remaining, and Completed work fields. While originally the Agile Template didn't allow bug tracking on any backlog page, this can optionally be configured through Team settings in Team Portal.</li><li class="listitem">The CMMI Template<a id="id41" class="indexterm"/> is designed to support formal change management processes. This template supports the estimated requirements using a <span class="strong"><strong>Size</strong></span> field. Tasks contain fields to track original estimate, remaining, and completed work fields.</li></ul></div><p>The out-of-the-box templates are designed to meet the needs of most Teams. All of them support using the Agile planning tools to create the Product Backlog and work in sprints with the task board. If your Team has different needs, you can customize a template and then create the Team Project, or you can create a Team Project from a template and then customize the project.</p><p>You can download the <a id="id42" class="indexterm"/>Process Template by going into the Process Template Manager from the <span class="strong"><strong>Settings</strong></span> view in Team Explorer. Refer to <a class="ulink" href="https://msdn.microsoft.com/Library/vs/alm/Work/guidance/manage-process-templates">https://msdn.microsoft.com/Library/vs/alm/Work/guidance/manage-process-templates</a> for further instructions on how to download the Process Template.</p><div class="mediaobject"><img src="../Images/image00316.jpeg" alt="How it works..."/></div><p style="clear:both; height: 1em;"> </p><p>Open <code class="literal">ProcessTemplate.xml</code> from the earlier download location; you'll note that it follows an <a id="id43" class="indexterm"/>XML structure that constructs a <a id="id44" class="indexterm"/>sequence of plugins and instructions for setting up the plugins. The Main Template is linked to sub modules that are defined by other XML structures. In the following representation, you'll see the correlation between these XML Templates and the instrumentation generated from the project creation workflow. Process Template customization is discussed in detail in <a class="link" title="Chapter 8. Extending and Customizing Team Foundation Server" href="part0094.xhtml#aid-2PKKS2">Chapter 8</a>, <span class="emphasis"><em>Extending and Customizing Team Foundation Server</em></span>.</p><div class="mediaobject"><img src="../Images/image00317.jpeg" alt="How it works..."/></div><p style="clear:both; height: 1em;"> </p><p>The following items are created for you as part of the Team Project creation process:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Code Repository</strong></span>: A code repository<a id="id45" class="indexterm"/> based on your selection is provisioned.</li><li class="listitem"><span class="strong"><strong>Team</strong></span>: A default Team<a id="id46" class="indexterm"/> with the same name as the Team Project is provisioned.</li><li class="listitem"><span class="strong"><strong>Area Path</strong></span>: A default Area Path<a id="id47" class="indexterm"/> with the same name as the name of the Team is provisioned. The Teams backlog is configured to show Work Items assigned to this Area Path.</li><li class="listitem"><span class="strong"><strong>Iteration Path</strong></span>: The <a id="id48" class="indexterm"/>set of iterations is precreated for the Team.</li><li class="listitem"><span class="strong"><strong>Team Portal</strong></span>: The Team Portal<a id="id49" class="indexterm"/> allows the Team members to connect to TFS to manage source code, Work Items, build, and test efforts.</li><li class="listitem"><span class="strong"><strong>Team Room</strong></span>: A room <a id="id50" class="indexterm"/>with the same name as the Team is provisioned. Team room is meant to be used for collaboration.</li></ul></div><p>If your Team Foundation Server is configured to support SharePoint project portal and reporting, you'll see the <span class="strong"><strong>Documents and Reports</strong></span> hub in Team Explorer. The <span class="strong"><strong>Documents</strong></span> view offers deep integration with the SharePoint project portal. This allows you to create document libraries and organize and share documents with your Team members. The <span class="strong"><strong>Reports</strong></span> view gives you a collection of precreated SSRS reports that you can use to track and manage the progress of work in your Teams:</p><div class="mediaobject"><img src="../Images/image00318.jpeg" alt="How it works..."/></div><p style="clear:both; height: 1em;"> </p></div></div>
<div class="section" title="Assigning a license, adding users, and auditing user access"><div class="titlepage" id="aid-J2B82"><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Assigning a license, adding users, and auditing user access</h1></div></div></div><p>A Scrum Team<a id="id51" class="indexterm"/> consists of a product owner, a development Team, and a Scrum master. While <a id="id52" class="indexterm"/>your stakeholders aren't part of the Scrum Team, they will need<a id="id53" class="indexterm"/> visibility into the product backlog. The Scrum Team is cross-functional and will have the skills to cover design, development, testing, and deployment of the increment. From a tooling point of view, not everyone in the Team may need the same access to TFS.</p><p>TFS offers three <a id="id54" class="indexterm"/>access levels: Stakeholder, Basic, and Advanced. The TFS license required for the access levels is listed here:</p><div class="informaltable"><table border="1"><colgroup><col/><col/></colgroup><thead><tr><th valign="bottom">
<p>Access level</p>
</th><th valign="bottom">
<p>License required</p>
</th></tr></thead><tbody><tr><td valign="top">
<p>Stakeholder</p>
</td><td valign="top">
<p>No<a id="id55" class="indexterm"/> license required.</p>
</td></tr><tr><td valign="top">
<p>Basic</p>
</td><td valign="top">
<p>TFS<a id="id56" class="indexterm"/> client-access license (CAL) or Visual Studio Professional with MSDN subscription.</p>
</td></tr><tr><td valign="top">
<p>Advanced</p>
</td><td valign="top">
<p>One of <a id="id57" class="indexterm"/>these MSDN subscriptions: Visual Studio Enterprise with MSDN, MSDN Platforms, or Visual Studio Test Professional with MSDN.</p>
</td></tr></tbody></table></div><p>The product licensing has been significantly simplified over the last year. A few key licensing changes have been introduced in TFS 2015 and now in TFS 2015 Update 1:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">The TFS CAL<a id="id58" class="indexterm"/> license has <a id="id59" class="indexterm"/>been changed to include access to even more TFS features:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Agile planning</strong></span>: All backlog management and sprint planning capabilities in TFS 2015 web access are now available to any user with a TFS CAL.</li><li class="listitem"><span class="strong"><strong>Chart authoring</strong></span>: Chart authoring and the ability to pin/share charts to your project home page are now available in the CAL.</li><li class="listitem"><span class="strong"><strong>Team Rooms</strong></span>: Team Rooms are now available with a CAL in TFS 2015.</li><li class="listitem"><span class="strong"><strong>Test Hub</strong></span>: With <a id="id60" class="indexterm"/>TFS 2015, the web-based test experience for executing test <a id="id61" class="indexterm"/>cases (for User Acceptance Testing such as scenarios) is now available in the TFS CAL.</li></ul></div></li><li class="listitem">Buying Visual Studio Team Services, Professional, or Advanced license gives you a free TFS CAL for that named user with it. This provides several advantages:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">You can now "rent" a TFS CAL. Rather than having to pay a onetime $499 (list price) license cost, you can pay a much lower monthly cost for as long as you need it.</li><li class="listitem">Companies using vendors/contractors now have a simple way to manage people who need temporary access to their TFS.</li><li class="listitem">The CAL is "always up to date". Because it is a subscription rather than a onetime purchase, you don't have to deal with buying/renewing your CALs when new TFS versions come out. The CAL that comes with a VS Online license works with any TFS version, whereas a traditionally purchased CAL supports only a given TFS version and earlier.</li></ul></div><p>Access Level and Role are two separate things in TFS. Access Level dictates the features you have the right to use, the Role dictates the permissions. For example, with the basic license, the Access Level includes grants for source control use; however, if you are in the reader role, you will not have permissions to edit the source code.</p><p>The Team Foundation Server Access Levels are closely related to the typical roles in a software project and the activities carried out in those roles. The following table summarizes the feature to access level mapping. So a project supporter will only need a stakeholder license, a project manager or developer will need a basic license, and a tester or portfolio manager will need an advanced license.</p><div class="informaltable"><table border="1"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th valign="bottom">
<p>Feature</p>
</th><th valign="bottom">
<p>Stakeholder</p>
</th><th valign="bottom">
<p>Basic</p>
</th><th valign="bottom">
<p>Advanced</p>
</th></tr></thead><tbody><tr><td valign="top">
<p>View and edit all Work Items</p>
</td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Standard features</p>
</td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Agile boards</p>
</td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Basic backlog and sprint planning tools</p>
</td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Chart viewing</p>
</td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Chart authoring</p>
</td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Code</p>
</td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Build</p>
</td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Request and manage feedback</p>
</td><td valign="top"> </td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Web-based Test execution</p>
</td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Web-based Test case management</p>
</td><td valign="top"> </td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Team rooms</p>
</td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Administer account</p>
</td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Advanced home page</p>
</td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Advanced backlog and sprint planning tools</p>
</td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Advanced portfolio management</p>
</td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr><tr><td valign="top">
<p>Analyze test results and manage machine groups</p>
</td><td valign="top"> </td><td valign="top">
<p>Yes</p>
</td><td valign="top">
<p>Yes</p>
</td></tr></tbody></table></div><p>With stakeholder access, users can create and modify all Work Items, and create and save queries on all Work Items under their <code class="literal">My Queries</code> folder. (This is a change from limited access, in which users can create and modify only those Work Items that they created, and query and view Work Items they created.) Also, stakeholders can create and modify Work Items using Team Foundation clients such as Microsoft Excel, Microsoft Project, and Microsoft Feedback Client.</p></li><li class="listitem">Standard <a id="id62" class="indexterm"/>features include access to the home<a id="id63" class="indexterm"/> and work hubs.</li><li class="listitem">Can view backlog pages and Kanban boards and add Work Items through the <span class="strong"><strong>Quick Add</strong></span> panel, which appear at the bottom of the list. It can't move items on the page or use other features.</li><li class="listitem">Can view sprint pages and task boards and add Work Items, but can't use other sprint planning tool features.</li></ul></div><p>To set up new <a id="id64" class="indexterm"/>users in TFS, the user first needs to be<a id="id65" class="indexterm"/> assigned a license and then added to a Team. In this recipe, you'll learn how to allocate licenses and add members to a Team, you'll also learn how to audit user access in TFS.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec21"/>Getting ready</h2></div></div></div><p>In this recipe, we'll be allocating the license and permissions to the following users in the FabrikamTFVC Team Project.</p><div class="informaltable"><table border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th valign="bottom">
<p>Name (username)</p>
</th><th valign="bottom">
<p>Access Level</p>
</th><th valign="bottom">
<p>Comments</p>
</th></tr></thead><tbody><tr><td valign="top">
<p>John Smith</p>
<p><code class="literal">TFS2015\JohnS</code></p>
</td><td valign="top">
<p>Stakeholder</p>
</td><td valign="top">
<p>John usually provides feedback via the feedback client and creates Work Items in the product backlog.</p>
</td></tr><tr><td valign="top">
<p>Brian Miller</p>
<p><code class="literal">TFS2015\BrianM</code></p>
</td><td valign="top">
<p>Basic</p>
</td><td valign="top">
<p>Brian is a developer and spends most of his time programming and unit testing.</p>
</td></tr><tr><td valign="top">
<p>Aaron Cook</p>
<p><code class="literal">TFS2015\AaronC</code></p>
</td><td valign="top">
<p>Basic</p>
</td><td valign="top">
<p>Aaron is a developer and spends most of his time programming and unit testing.</p>
</td></tr><tr><td valign="top">
<p>Willy Peter</p>
<p><code class="literal">TFS2015\WillyP</code></p>
</td><td valign="top">
<p>Basic</p>
</td><td valign="top">
<p>Willy is a scrum master and developer on the Team. Willy mostly focuses on integration and SQL Server report development.</p>
</td></tr><tr><td valign="top">
<p>Annu Arora</p>
<p><code class="literal">TFS2015\AnnuA</code></p>
</td><td valign="top">
<p>Advanced</p>
</td><td valign="top">
<p>Annu is a tester and spends most of her time functional and performance testing.</p>
</td></tr><tr><td valign="top">
<p>Tom Hacker</p>
<p><code class="literal">TFS2015\TomH</code></p>
</td><td valign="top">
<p>Advanced</p>
</td><td valign="top">
<p>Tom is a business analyst and spends most of his time programming and integration testing.</p>
</td></tr><tr><td valign="top">
<p>Chris Wang</p>
<p><code class="literal">TFS2015\ChrisW</code></p>
</td><td valign="top">
<p>Advanced</p>
</td><td valign="top">
<p>Chris is the product owner. He manages the product vision and portfolio.</p>
</td></tr></tbody></table></div><p>In order to add new users to the Access Levels, you'll need to be a collection administrator. To add new users to a Team Project, you need to be a project administrator; if you aren't already, arrange to be added to these groups.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec22"/>How to do it...</h2></div></div></div><div class="section" title="Assigning a user license:"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec01"/>Assigning a user license:</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log into <a id="id66" class="indexterm"/>Team Portal and navigate to the Access Level administration screen by browsing to <code class="literal">http://tfs2015:8080/tfs/_admin/_licenses</code>:<div class="mediaobject"><img src="../Images/image00319.jpeg" alt="Assigning a user license:"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">From the left panel, click on the <span class="strong"><strong>Stakeholder</strong></span> access. From the right panel, click on the <span class="strong"><strong>Add</strong></span> button and choose <span class="strong"><strong>Add Windows user or group</strong></span>. In the <span class="strong"><strong>Add new user or group</strong></span> window, enter the user details as <span class="strong"><strong>TFS2015\JohnS</strong></span> and click the <span class="strong"><strong>OK</strong></span> button:<div class="mediaobject"><img src="../Images/image00320.jpeg" alt="Assigning a user license:"/></div><p style="clear:both; height: 1em;"> </p><p>Repeat this <a id="id67" class="indexterm"/>step to add all users into the Access Levels as specified in the user table in the <span class="emphasis"><em>Getting ready</em></span> section of this recipe. At this point, you should have one Stakeholder, three Basic, and three Advanced users.</p></li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="Adding users to the project:"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec02"/>Adding users to the project:</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">There are two <a id="id68" class="indexterm"/>ways to add users to the Team Project. One way is <a id="id69" class="indexterm"/>to navigate to the FabikamTFVC project security screen in Team Portal by browsing to <code class="literal">http://tfs2015:8080/tfs/DefaultCollection/FabrikamTFVC/_admin/_security</code>. From the left panel, click on the <span class="strong"><strong>Contributors</strong></span> group, from the right panel, click on the <span class="strong"><strong>Members</strong></span> tab and the <span class="strong"><strong>Add...</strong></span> button to add Windows user or group. Enter the user details and click on <span class="strong"><strong>OK</strong></span>:<div class="mediaobject"><img src="../Images/image00321.jpeg" alt="Adding users to the project:"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">The other option<a id="id70" class="indexterm"/> is to navigate to the FabrikamTFVC <a id="id71" class="indexterm"/>project home page by browsing to <code class="literal">http://tfs2015:8080/tfs/DefaultCollection/FabrikamTFVC</code>. From the <span class="strong"><strong>Members</strong></span> widget, click on <span class="strong"><strong>Manage...</strong></span>, in the <span class="strong"><strong>MANAGE MEMBERS OF FABRIKAMTFVC TEAM</strong></span> window enter the user details and press <span class="strong"><strong>OK</strong></span>. Repeat these steps to add other users listed in the user table in the getting started section.<div class="mediaobject"><img src="../Images/image00322.jpeg" alt="Adding users to the project:"/></div><p style="clear:both; height: 1em;"> </p><div class="note" title="Note"><h3 class="title"><a id="note07"/>Note</h3><p>Managing users in TFS is much easier if you create Windows or Active Directory groups for them. If you decide to use Active Directory groups in TFS, consider creating specific ones whose purpose is dedicated to user management in TFS.</p></div></li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="Auditing user access"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec03"/>Auditing user access</h3></div></div></div><p>In the next few steps, you'll<a id="id72" class="indexterm"/> learn how to extract an audit log to track the last login of users and groups and their access type:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to the Access Level screen in Team Web Access by browsing to <code class="literal">http://tfs2015:8080/tfs/_admin/_licenses</code>.</li><li class="listitem">From the left navigation, click on <span class="strong"><strong>Export audit log</strong></span>. Open the downloaded CSV file; we'll explore this in depth in the <span class="emphasis"><em>How it works...</em></span> section.<div class="mediaobject"><img src="../Images/image00323.jpeg" alt="Auditing user access"/></div><p style="clear:both; height: 1em;"> </p></li></ol><div style="height:10px; width: 1px"/></div></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec23"/>How it works...</h2></div></div></div><p>The default Access Level is assigned to a user that is directly added via the Team Project security or members screen. It is recommended that the default Access Level be set to Basic. If a user is assigned to multiple Access Levels, the highest always takes precedence.</p><p>Next, let's review the audit log, import the <code class="literal">data.csv</code> into Excel. You should see a view similar to the following screenshot. The <span class="strong"><strong>Last Accessed (UTC)</strong></span> column tells you whether the user has accessed TFS or not; you don't need to pay for a license for users that have not accessed TFS.</p><div class="mediaobject"><img src="../Images/image00324.jpeg" alt="How it works..."/></div><p style="clear:both; height: 1em;"> </p></div></div>
<div class="section" title="Configuring Dashboards in Team Project" id="aid-K0RQ1"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Configuring Dashboards in Team Project</h1></div></div></div><p>The Team Portal home page was traditionally used to pin charts, Work Item counts, and build status tiles to provide an at-a-glance view of the project to the Team members and stakeholders. The approach did not work well because the home page had hard-coded tiles that you were forced to have on the page. In addition, the page did not support grouping of the tiles or adding commentary to complement the visuals in the tiles. In TFS 2015 Update 1, the home page has been replaced by a new feature called<a id="id73" class="indexterm"/> <span class="strong"><strong>Dashboards</strong></span>. The new feature comes with a library of widgets that can be used to create multiple Dashboards for your Team. In this recipe, you'll learn how to create a Dashboard using the widget catalog.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec24"/>Getting ready</h2></div></div></div><p>For permissions, you<a id="id74" class="indexterm"/> need to be a Team Administrator to <a id="id75" class="indexterm"/>create Dashboards. Only Team Administrators can create, customize, and move around widgets on a Dashboard. You don't need any special permissions to view the Dashboards. All Team members that have access to the Team Portal can view and interact with Dashboards.</p><p>The Team Portal home page has been replaced by the <span class="strong"><strong>Overview</strong></span> Dashboard. All existing tiles from the home page have been migrated over into the <span class="strong"><strong>Overview</strong></span> Dashboard. To see the <span class="strong"><strong>Overview</strong></span> Dashboard, navigate to the FabrikamTFVC Team Portal by browsing to <code class="literal">http://tfs2015:8080/tfs/DefaultCollection/FabrikamTFVC/_dashboards</code>.</p></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec25"/>How to do it…</h2></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">In the FabrikamTFVC Team Portal, click on the <span class="strong"><strong>+</strong></span> icon to create a new Dashboard. Name the Dashboard <code class="literal">Team Updates</code>:<div class="mediaobject"><img src="../Images/image00325.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">From the bottom-right of the page, click on the big green circle to launch the Dashboard widget gallery. From the widget gallery, add the code tile:<div class="mediaobject"><img src="../Images/image00326.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Once the <a id="id76" class="indexterm"/>tile is added to the Dashboard, click<a id="id77" class="indexterm"/> on the tile to configure it. Set the name as <code class="literal">All Code Changes</code> and set the code path to <code class="literal">$/FabrikamTFVC</code>. The tile will show the count of code changes under the source path <code class="literal">$/FabrikamTFVC</code> from the last 7 days. To commit the configuration changes, and click on <span class="strong"><strong>Save</strong></span>:<div class="mediaobject"><img src="../Images/image00327.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Next, add the <span class="strong"><strong>Query</strong></span> tile widget from the widget gallery. Select the <span class="strong"><strong>Blocked Tasks</strong></span> query to map the query results to be displayed in the tile. Configure the background color to red if the count is greater than or equal to 1:<div class="mediaobject"><img src="../Images/image00328.jpeg" alt="How to do it…"/><div class="caption"><p>Format the background color of the tile based on the count of Work Items returned by the Work Item query</p></div></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Add the <span class="strong"><strong>Markdown</strong></span> widget. The widget is capable of render markdown; the tile can be scaled to different sizes. Choose the <span class="strong"><strong>3 x 2</strong></span> size and add some commentary as indicated in the following screenshot:<div class="mediaobject"><img src="../Images/image00329.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">The gallery has other widgets such as Work Item Query Results, New Work Item, Team Rooms, Sprint Capacity, Burndown, and other links; these can also be added to the Dashboard. There are no widgets for charts. Charts can be added from the charts view in the work hub, and this is covered in detail in the <span class="emphasis"><em>Creating charts using Work Item Queries</em></span> recipe in <a class="link" title="Chapter 3. Planning and Tracking Work" href="part0039.xhtml#aid-1565U1">Chapter 3</a>, <span class="emphasis"><em>Planning and Tracking Work</em></span>.</li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec26"/>How it works…</h2></div></div></div><p>Dashboards <a id="id78" class="indexterm"/>provide a great way to create information<a id="id79" class="indexterm"/> radiators for sharing information internally with Team members and externally with stakeholders. Widgets are rendered as tiles in the Dashboard, the tiles use the TFS REST API to retrieve information from TFS. The information is loaded into the tiles using the template provided by the widget. The tiles can be moved around on the Dashboard and scaled to different sizes. The tiles <a id="id80" class="indexterm"/>support interactivity, for example <a id="id81" class="indexterm"/>clicking the <span class="strong"><strong>Query</strong></span> tile would take you straight into the <span class="strong"><strong>Work Item Query</strong></span> window. The tiles don't support cross-tile interaction yet. While it's possible to create multiple Dashboards, it is currently not possible to apply permissions for access to individual Dashboards. It is expected that in the long term more widgets will be added to the widget gallery and the API's will be made available to extend and create new widgets.</p></div></div>
<div class="section" title="Setting up a welcome page for a Team Project" id="aid-KVCC1"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Setting up a welcome page for a Team Project</h1></div></div></div><p>It is hard to<a id="id82" class="indexterm"/> summarize the objective of the Team<a id="id83" class="indexterm"/> Project by just its name or description. Software Teams are usually found creating introduction documents or README files to summarize the purpose of the project with references to other useful material. Traditionally, Teams would store these files in SharePoint. This information is all the more useful when seen in context with the Team Project. A new feature called <span class="strong"><strong>project welcome</strong></span> pages<a id="id84" class="indexterm"/> provides the perfect solution here. In this recipe, you'll learn how to set up welcome pages using markdown files.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec27"/>Getting ready</h2></div></div></div><p>Project welcome pages are created using a very simple convention-based approach. The welcome page simply renders the markdown files checked into the source control of the project.</p><div class="note" title="Note"><h3 class="title"><a id="note08"/>Note</h3><p>For TFVC-based source control, the <code class="literal">readme.md</code> file needs to be at the root of the Team Project folder. For Git-based source control, the <code class="literal">readme.md</code> file needs to be at the root of the repository in the default branch.</p></div><p>Team project welcome pages require the underlying file to be written in a markdown format. Markdown is intended to be easy to read and easy to write with the main emphasis on readability. TFS offers a markdown editor in Team Portal to help you author the welcome pages. You can alternatively choose to author your markdown files using a desktop editor.</p></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec28"/>How to do it…</h2></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open <a id="id85" class="indexterm"/>Team Web Access and <a id="id86" class="indexterm"/>navigate to the FabrikamTFVC Team Project <code class="literal">http://tfs2015:8080/tfs/DefaultCollection/Recipes</code>.</li><li class="listitem">From the home hub, select the welcome view and click on <span class="strong"><strong>Edit</strong></span> to start editing the <code class="literal">readme.md</code> markdown file.</li><li class="listitem">Copy the markdown snippet into the editor:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong># Welcome to the FabrikamTFVC</strong></span>
<span class="strong"><strong>----------</strong></span>
<span class="strong"><strong>The team project contains the resources for the Fabrikam Software &amp; Services. </strong></span>

<span class="strong"><strong>## Contacts</strong></span>
<span class="strong"><strong>---</strong></span>
<span class="strong"><strong>* Project Owner - Tarun Arora [@arora_tarun](https://twitter.com/arora_tarun)</strong></span>

<span class="strong"><strong>## Definition of Done</strong></span>
<span class="strong"><strong>  All product backlog items need to abide to the definition of done before they can be marked done </strong></span>
<span class="strong"><strong> 1. All source code is checked in</strong></span>
<span class="strong"><strong> 2. All code passes CI &amp; no failing unit tests </strong></span>
<span class="strong"><strong> 3. Business services code coverage of &gt; 60%</strong></span>
<span class="strong"><strong> 4. All changes have been tested</strong></span>
<span class="strong"><strong> 5. Deployment script added &amp; updated</strong></span>
<span class="strong"><strong> 6. Demo to Product Owner</strong></span>
<span class="strong"><strong>     7. All associated tasks must be completed </strong></span>
<span class="strong"><strong>## Definition of Bug</strong></span>
<span class="strong"><strong>*Work in progress*</strong></span>
</pre></div></li><li class="listitem">In the toolbar at the far right corner, you'll see the <span class="strong"><strong>Show Content Preview</strong></span> icon. Click on the preview icon, the welcome page will now be rendered using the markdown:<div class="mediaobject"><img src="../Images/image00330.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Click on the <span class="strong"><strong>Save</strong></span> icon to check in the <code class="literal">readme.md</code> file into version control.</li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec29"/>How it works…</h2></div></div></div><p>TFS supports <a id="id87" class="indexterm"/>common markdown conventions and <a id="id88" class="indexterm"/>GitHub-flavored extensions.</p><div class="note" title="Note"><h3 class="title"><a id="tip02"/>Tip</h3><p>You can learn more about the Markdown syntax<a id="id89" class="indexterm"/> at <a class="ulink" href="http://bit.ly/1jJjRlI">http://bit.ly/1jJjRlI</a>.</p><p>You can find out more about the <span class="strong"><strong>GitHub-Flavored-Markdown</strong></span><a id="id90" class="indexterm"/> at <a class="ulink" href="http://bit.ly/1jJl38D">http://bit.ly/1jJl38D</a>.</p></div><p>To simplify creating and editing markdown content, Team Foundation Server lets you link to other markdown files through both absolute and relative paths. When markdown is rendered as HTML, all headings automatically get IDs, so you can link to the headers by using the following convention <code class="literal">[text to display](#heading id)</code>.</p><p>TFS also allows you to refer to a markdown page that does not yet exist; the engine is smart enough to give you the option to create the page when you click on the referred link. You can use the following format in markdown to do so: <code class="literal">[new page](./newpage.md)</code>.</p></div></div>
<div class="section" title="Creating and setting up a Team Room"><div class="titlepage" id="aid-LTSU2"><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Creating and setting up a Team Room</h1></div></div></div><p>Collaborating<a id="id91" class="indexterm"/> is key to the success of any project delivery. While there are lots of ways to collaborate with your Team members, it is very difficult to track those conversations back to the context of the work. TFS offers a collaboration hub called Team Room and that makes tracking work, project updates, and Team collaboration easy. In this recipe, you'll learn how to create, set up, and use a Team Room.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec30"/>Getting ready</h2></div></div></div><p>Permissions<a id="id92" class="indexterm"/> required: Project Administrators groups can create and <a id="id93" class="indexterm"/>administer Team Rooms that they've created. Team administrators can only manage Team Rooms for Teams they're administrators of.</p><p>License required to access Team Rooms: Only Basic and Advanced license users have access to Team Rooms. Stakeholders cannot access Team Rooms and need to be upgraded to Basic to participate in Team Rooms.</p><div class="note" title="Note"><h3 class="title"><a id="note09"/>Note</h3><p>A Team and Team Room are created as part of the Team Project creation process. The Team Room has the same name as the name of the Team.</p></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec31"/>How to do it...</h2></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to the Team Web Access home page by browsing <code class="literal">http://tfs2015:8080/tfs/_home</code>.</li><li class="listitem">From the top panel, click on the <span class="strong"><strong>Rooms</strong></span> tab, this will navigate you to the Team Room's hub. In this page you'll see a list of all available Team Rooms. A Team Room is created along with the creation of a Team Project:<div class="mediaobject"><img src="../Images/image00331.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Click on the <span class="strong"><strong>New</strong></span> button to create a new Team Room. Enter the name as <code class="literal">FabrikamShipRoom</code>. Click on <span class="strong"><strong>OK</strong></span> to navigate to the <code class="literal">FabrikamShipRoom</code>:<div class="mediaobject"><img src="../Images/image00332.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Click on the <span class="strong"><strong>Manage events...</strong></span> link to choose which TFS events are visible in the <code class="literal">FabrikamShipRoom</code>:<div class="mediaobject"><img src="../Images/image00333.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">From the <a id="id94" class="indexterm"/><span class="strong"><strong>Code changes</strong></span> tab, add a Team Project. The <a id="id95" class="indexterm"/>Team Room is not Team Project-specific, so you can select multiple Team Projects. You also have an option to select if you want all changes or changes specific to the users in the Team Room. In this case, choose the <span class="strong"><strong>FabrikamTFVC</strong></span>, select <span class="strong"><strong>By a room member</strong></span>, and click on <span class="strong"><strong>Save</strong></span> and close.<div class="mediaobject"><img src="../Images/image00334.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Repeat these steps to enable events for Work Items, build, code reviews, and pull requests.<div class="note" title="Note"><h3 class="title"><a id="note10"/>Note</h3><p>By unchecking the checkbox next to <span class="strong"><strong>FabrikamTFVC</strong></span>, you can stop receiving the alerts for this Team Project in the Team Room.</p></div></li><li class="listitem">Click on the <span class="strong"><strong>Manage users...</strong></span> link and choose <span class="strong"><strong>Add TFS group</strong></span> to select <span class="strong"><strong>FabrikamTFVC</strong></span>. This will add all FabrikamTFVC Team members to the <code class="literal">FabrikamShipRoom</code>. To commit your changes click on <span class="strong"><strong>Save</strong></span>:<div class="mediaobject"><img src="../Images/image00335.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">In the <a id="id96" class="indexterm"/>post a message textbox, copy the following<a id="id97" class="indexterm"/> text: <code class="literal">Welcome @Aaron Cook @Annu Arora @Brian Miller @Chris Wang @John Smith @Tom Hacker @Willy Peter to the #FabrikamShipRoom :)</code>:<div class="mediaobject"><img src="../Images/image00336.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec32"/>How it works...</h2></div></div></div><p>Increase Team productivity by discussing work in progress, asking questions, sharing status, and clarifying issues that arise. Your Team Room provides an area for fostering and capturing communication among Team members, both near and far. Team Rooms are not scoped to a Team Project collection, so you can track multiple projects in a Team Room. Team Rooms allow you to see conversations by date, to see historic conversations, click on the left arrow in the top bar in the Team Room. You can alternatively select a date from the calendar.</p><p>The manage events give you access to various events as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>The build events</strong></span>: When <a id="id98" class="indexterm"/>any of the following build definition is complete, an<a id="id99" class="indexterm"/> event will appear in the room indicating the status of the build.</li><li class="listitem"><span class="strong"><strong>Code changes</strong></span>: When code is pushed or checked into one of the following Team Projects, an event will appear in the room. You can opt to scope this to just members in the Team Room or anyone.</li><li class="listitem"><span class="strong"><strong>Work item updates</strong></span>: When a Work Item is created or an existing Work Item has the state or assignment changed in/under one of the following area paths, an event will appear in the room.</li><li class="listitem"><span class="strong"><strong>Code reviews</strong></span>: When a code review is created in/under one of the following area paths, an event will appear in the room.</li><li class="listitem"><span class="strong"><strong>Pull requests</strong></span>: When a pull request is created, approved, rejected, or completed in one of the following repositories, an event will appear in the room.<div class="mediaobject"><img src="../Images/image00337.jpeg" alt="How it works..."/></div><p style="clear:both; height: 1em;"> </p></li></ul></div><p>As you can see in the preceding screenshot, since the <code class="literal">FabrikamShipRoom</code> has a subscription for Work Items an alert gets published in the Team Room when product backlog ID 1 is created. The Team collaborates to figure out the root cause and fixes the issue.</p><div class="note" title="Note"><h3 class="title"><a id="note11"/>Note</h3><p>By prefixing a Work Item ID with <code class="literal">#</code>, TFS fully qualifies it. Clicking on <span class="strong"><strong>#3</strong></span> in the Team Room navigates you directly into the Work Item form for Work Item ID 3.</p></div><p>By clicking on the audio icon on the right panel, you can optionally mute and unmute the sound on new messages in the Team Room. The data for the Team Rooms is saved in Team Foundation Server. It is possible to retrieve the Team Room data using the TFS REST API's, we'll be <a id="id100" class="indexterm"/>covering <a id="id101" class="indexterm"/>this in <a class="link" title="Chapter 8. Extending and Customizing Team Foundation Server" href="part0094.xhtml#aid-2PKKS2">Chapter 8</a>, <span class="emphasis"><em>Extending and Customizing Team Foundation Server</em></span>.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec33"/>There's more...</h2></div></div></div><p>By default, a Team Room gets created with every Team or Team Project you create. Team Rooms can be renamed. It is also possible to delete a Team Room. However, once a Team Room has been deleted, it is not possible to recover the Team Room or any conversations from the Team Room. You'll see the <span class="strong"><strong>Rename</strong></span> and <span class="strong"><strong>Delete</strong></span> option in the context menu by clicking on the left of the Team Room name from the left panel in the Team Room hub.</p><div class="note" title="Note"><h3 class="title"><a id="note12"/>Note</h3><p>Interested in seeing which Team Rooms are most vibrant? The most recently accessed Team Rooms show up in the Team web access landing page.</p></div><p> </p><div class="mediaobject"><img src="../Images/image00338.jpeg" alt="There's more..."/></div><p style="clear:both; height: 1em;"> </p><div class="note" title="Note"><h3 class="title"><a id="tip03"/>Tip</h3><p>It is possible to manage Team Room permissions at a granular level. Choose <span class="strong"><strong>Security...</strong></span> from the <span class="strong"><strong>FabrikamShipRoom</strong></span> context menu. Both <span class="strong"><strong>Chat</strong></span> and <span class="strong"><strong>Administer</strong></span> permissions can be set to <span class="strong"><strong>Allow</strong></span> or <span class="strong"><strong>Deny</strong></span> from here. By setting the chat to <span class="strong"><strong>Deny</strong></span> you limit the user to being a read only participant in the Team Room.</p></div></div></div>
<div class="section" title="Renaming a Team Project" id="aid-MSDG1"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Renaming a Team Project</h1></div></div></div><p>As your software <a id="id102" class="indexterm"/>evolves, at times you may find that the Team Project name you chose at the outset doesn't quite lend itself to the purpose of your project any more. Up until TFS 2015, it was fairly impossible to rename a Team Project once it was created. Team Project Rename has been the most voted feature on the Visual Studio User Voice website with over 6,000 votes. TFS 2015 now allows you to rename a Team Project. While the product has made it very simple to rename a Team Project, it is still a very disruptive process. In this recipe, you'll learn how to rename a Team Project and also go through the nuances of how to do so and what to watch out for when renaming a Team Project.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec34"/>Getting ready</h2></div></div></div><p>A Team Project Rename updates all of your version control paths, Work Items, queries, and other Team Project artifacts to reflect the new name. Team Projects can be renamed multiple times and older names can be reused as well. It is recommended to perform this action during off hours to minimize any impact. Things to consider are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">In order to rename a Team Project, you need to be a member of the project administrator group.</li><li class="listitem">Builds running during the rename might fail.</li><li class="listitem">All users will need to restart Visual Studio.</li><li class="listitem">Git remotes will need to be updated with the new project name.</li><li class="listitem">Version control workspaces will need to be corrected by running the latest get version command.<div class="note" title="Note"><h3 class="title"><a id="note13"/>Note</h3><p>If individuals in the Team are using local workspaces then it is recommended to upgrade to Visual Studio 2013 update 5 or Visual Studio 2015 (release candidate or newer) to have the workspaces auto corrected for them at the next get. If they continue to use an earlier version of Visual Studio, then they will need to shelve any pending changes, create a new workspace, and unshelve their changes.</p></div></li></ul></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec35"/>How to do it...</h2></div></div></div><p>There are two entry points to the Project Rename feature through Team Web Access.</p><div class="section" title="Option 1"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec04"/>Option 1</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to the administration page for the Team Project by browsing <code class="literal">http://tfs2015:8080/tfs/DefaultCollection/FabrikamTFVC/_admin/</code>.</li><li class="listitem">On the left where the project name and description for the project are listed, you can click on the project name textbox to amend the name:<div class="mediaobject"><img src="../Images/image00339.jpeg" alt="Option 1"/></div><p style="clear:both; height: 1em;"> </p></li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="Option 2"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec05"/>Option 2</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate <a id="id103" class="indexterm"/>to the collection administration page by browsing <code class="literal">http://tfs2015:8080/tfs/DefaultCollection/_admin</code>.</li><li class="listitem">Rename the Team Project from the context menu:<div class="mediaobject"><img src="../Images/image00340.jpeg" alt="Option 2"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Change the name of the project from <code class="literal">FabrikamTFVC</code> to <code class="literal">Fabrikam</code> and proceed. You will receive a project rename warning message. Please read the warning message carefully and make sure that the users of the Team Project are aware of the rename.<div class="note" title="Note"><h3 class="title"><a id="note14"/>Note</h3><p>When a Team Project is being renamed, any browsers with the Team Project opened may encounter some errors. These errors are due to caches held by the browser, which include the old Team Project name.</p></div><div class="mediaobject"><img src="../Images/image00341.jpeg" alt="Option 2"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Tick the<a id="id104" class="indexterm"/> checkbox to acknowledge the warning and click <span class="strong"><strong>RENAME PROJECT</strong></span>. The dialog will show the status. Click on <span class="strong"><strong>Close</strong></span> once the rename is complete.<div class="mediaobject"><img src="../Images/image00342.jpeg" alt="Option 2"/></div><p style="clear:both; height: 1em;"> </p><div class="note" title="Note"><h3 class="title"><a id="note15"/>Note</h3><p>Any default artifacts created in the Team Project get renamed along with the project if they share the same name as the Team Project. This includes artifacts such as the default Team, Team Room, and Git repository.</p></div></li></ol><div style="height:10px; width: 1px"/></div></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec36"/>How it works...</h2></div></div></div><p>In this section, we'll <a id="id105" class="indexterm"/>focus on actions that need to be performed by the Team once the Team Project<a id="id106" class="indexterm"/> rename has been completed.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Restarting the editor</strong></span>: The editor you used to connect to the Team Project needs to be restarted. Be it Team Explorer, Eclipse, Office, Microsoft Test Manager, or any additional clients using the TFS Object Model.</li><li class="listitem"><span class="strong"><strong>Updating query-based test suites</strong></span>: Unlike Work Item queries, query-based test suites are stored differently and can't update the Team Project name after rename. If you have any query-based test suites, open those suites in the browser and update the queries to use the new Team Project name.</li><li class="listitem"><span class="strong"><strong>Updating SharePoint Team Sites and Reporting Integrations</strong></span>: Both SharePoint and Reporting Services Integrations continue to work, but some reports will not work as expected until the new Team Project name is populated. The old project name is still present until caches are updated with the new name. The reporting and SharePoint server administrator can manually run these jobs to immediately populate the new name.<div class="note" title="Note"><h3 class="title"><a id="note16"/>Note</h3><p>A Team Project name can't be reused if there are still workspace mappings addressing it. This is done to avoid the ambiguity case where a workspace can be mapped to two projects. You will need to reach out to the users that have these mappings and either delete them or update them to use the new name.</p></div></li></ul></div></div></div>
<div class="section" title="Creating a new Team Project through the command line"><div class="titlepage" id="aid-NQU22"><div><div><h1 class="title"><a id="ch01lvl1sec18"/>Creating a new Team Project through the command line</h1></div></div></div><p>As a Team<a id="id107" class="indexterm"/> Foundation Server administrator, you'll <a id="id108" class="indexterm"/>find yourself creating Team Projects over and over again. Team Project creation process can be scripted thanks to Team Foundation Server Power Tools. A Team Project is a container that can host multiple Teams and simplifies sharing of various artifacts such as processes, master backlogs, build definitions, and code artifacts. More often than not, you'll find that a new Team Project has been requested in ignorance simply because the requestor doesn't fully understand how multiple Teams can be accommodated in a Team Project. It is always beneficial to have a conversation to fully understand why a new Team Project has been requested. In this recipe, you'll learn how to script the creation of a new Team Project using the command line.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec37"/>Getting ready</h2></div></div></div><p>Microsoft Visual Studio Team Foundation Server Power Tools are available through the Visual Studio Gallery. Power Tools are a set of tools, enhancements, and command-line utilities that can make a TFS administrator more productive. Download and install the Power Tools<a id="id109" class="indexterm"/> by browsing to <a class="ulink" href="http://bit.ly/1jJkEmt">http://bit.ly/1jJkEmt</a>:</p><div class="mediaobject"><img src="../Images/image00343.jpeg" alt="Getting ready"/><div class="caption"><p>Download the Microsoft Visual Studio Team Foundation Server 2015 Power Tools from the Visual Studio Extensions Gallery</p></div></div><p style="clear:both; height: 1em;"> </p><p>Installing TFS Power<a id="id110" class="indexterm"/> Tools installs the command-line<a id="id111" class="indexterm"/> utility <span class="strong"><strong>Tfpt.exe</strong></span>. Tfpt.exe is a companion tool to <span class="strong"><strong>tf.exe</strong></span><a id="id112" class="indexterm"/> that offers additional version control commands, Work Item tracking, and Team Project manipulation. Open up a new command line and type <code class="literal">tfpt.exe /?</code>. If you do not see a list of available commands as shown in the following screenshot, the Power Tools haven't been installed correctly. Verify the installation before proceeding.</p><div class="mediaobject"><img src="../Images/image00344.jpeg" alt="Getting ready"/></div><p style="clear:both; height: 1em;"> </p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec38"/>How to do it...</h2></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a new<a id="id113" class="indexterm"/> folder <code class="literal">TFSCookbook\Chapter01</code> in the <code class="literal">C:\ drive</code>. Copy the text as follows in Notepad and save it to <code class="literal">C:\TFSCookbook\Chapter01</code> as <code class="literal">settings.xml</code>:<div class="informalexample"><pre class="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt; 
&lt;Project &gt;
   &lt;TFSName&gt;http://tfs2015:8080/tfs&lt;/TFSName&gt;
&lt;LogFolder&gt;C:\TFSCookbook\Chapter01&lt;/LogFolder&gt;
    &lt;ProjectName&gt;ScriptedTeamProject01&lt;/ProjectName&gt; 
    &lt;ProjectReportsEnabled&gt;true&lt;/ProjectReportsEnabled&gt;
    &lt;ProjectSiteEnabled&gt;true&lt;/ProjectSiteEnabled&gt;
    &lt;ProjectSiteTitle&gt;ScriptedTeamProject01&lt;/ProjectSiteTitle&gt;
    &lt;SccCreateType&gt;New&lt;/SccCreateType&gt; 
    &lt;ProcessTemplateName&gt;Scrum&lt;/ProcessTemplateName&gt; 
&lt;/Project&gt;</pre></div></li><li class="listitem">In command prompt run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>tfpt createteamproject /settingsfile:"C:\TFSCookbook\Chapter01\settings.xml" /validate /verbose</strong></span>
</pre></div></li><li class="listitem">You should<a id="id114" class="indexterm"/> receive a message <a id="id115" class="indexterm"/>confirming whether the validation is successful. If not, check the error message against the information in the settings file:<div class="mediaobject"><img src="../Images/image00345.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">To create the Team Project, run the earlier command by removing the <code class="literal">/validate</code> switch.<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>tfpt createteamproject /settingsfile:"C:\TfsCookbook\Chapter01\settings.xml" /verbose</strong></span>
</pre></div></li><li class="listitem">Wait for the Team Project creation process to complete.<div class="note" title="Note"><h3 class="title"><a id="note17"/>Note</h3><p>Note that <code class="literal">tfpt createteamproject</code> does not support scripting a new Team Project with Git as the source control repository.</p></div></li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec39"/>How it works...</h2></div></div></div><p>The Team Project creation command takes the <code class="literal">settings.xml</code> file as an input; let's review the information that was provided in <code class="literal">settings.xml</code>:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">TFSName</code>: This tag<a id="id116" class="indexterm"/> is used to specify the connection details of the TFS Server where you want the new Team Project to be created.</li><li class="listitem"><code class="literal">LogFolder</code>: This tag<a id="id117" class="indexterm"/> is used to specify the folder directory for the log file. This path should exist on the TFS application tier.</li><li class="listitem"><code class="literal">ProjectName</code>: The Team<a id="id118" class="indexterm"/> Project name. If you specify a Team Project name that already exists, the Team Project creation process will fail during the validation process.</li><li class="listitem"><code class="literal">ProjectReportsEnabled</code>: Certain<a id="id119" class="indexterm"/> default project reports are created as part of the Team Project creation process. This tags accepts a Boolean value; pass <code class="literal">false</code> to skip the default reports from being added.</li><li class="listitem"><code class="literal">ProjectSiteEnabled</code>: If your <a id="id120" class="indexterm"/>Team Foundation Server installation has SharePoint services enabled, you can pass a value of <code class="literal">true</code> in this tag to have a SharePoint Team site created for the new Team Project.</li><li class="listitem"><code class="literal">ProjectSiteTitle</code>: This <a id="id121" class="indexterm"/>tag is ignored if the value of <code class="literal">ProjectSiteEnabled</code> is <code class="literal">false</code>. This tag is used to specify the name of the SharePoint Team site you have chosen to create as part of the Team Project creation process.</li><li class="listitem"><code class="literal">SccCreateType</code>: If a <code class="literal">true</code> value is <a id="id122" class="indexterm"/>passed in this tag, a new TFVC source control is created, alternatively an existing TFS source control path can be passed to create a TFVC source control from the contents of the specified TFS path.</li><li class="listitem"><code class="literal">ProcessTemplateName</code>: This tag is <a id="id123" class="indexterm"/>used to pass the name of the Process Template<a id="id124" class="indexterm"/> that the Team Project <a id="id125" class="indexterm"/>should be based on.<div class="note" title="Note"><h3 class="title"><a id="note18"/>Note</h3><p>A list of all Process Templates available on your Team Foundation Server can be seen from Process Template Manager. To access Process Template Manager, open Visual Studio and connect to Team Foundation Server. From Team Explorer choose <span class="strong"><strong>Settings</strong></span>. From the <span class="strong"><strong>Settings</strong></span> view, click on <span class="strong"><strong>Process Template Manager</strong></span>.</p></div></li></ul></div><p>Now, let's review the <code class="literal">createteamproject</code> command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>tfpt createteamproject /settingsfile:"C:\TFSCookbook\Chapter01\settings.xml" /validate /verbose</strong></span>
</pre></div><p>The <code class="literal">/settingsfile</code> path<a id="id126" class="indexterm"/> is used to specify the location of the<a id="id127" class="indexterm"/> settings file. TFPT parses the settings file and triggers the Team Project creation process by connecting to the Team Foundation Server using the details specified in the settings file. The Team Project isn't created when the <code class="literal">/validate</code> switch is used; the whole process is run as a validation to identify any potential issues. The <code class="literal">/verbose</code> flag is used to log details of the operations being performed during this process. The verbose option can be very useful when troubleshooting issues.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec40"/>There's more...</h2></div></div></div><p>The <code class="literal">tfpt.exe</code> command-line tools also provide many other useful commands. The two worth mentioning are <code class="literal">addprojectportal</code> and <code class="literal">addprojectreports</code>.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">addprojectportal</code>: Over time, one may recognize the need for creating or moving the project <a id="id128" class="indexterm"/>portal. This command supports both operations in an existing Team Project.<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>tfpt addprojectreports /collection:http://tfs2015:8080/tfs /teamproject:"Fabrikam" /processtemplate:"Scrum" /webapplication:"" /relativepath:"pathfromwebapp" /validate /verbose</strong></span>
</pre></div></li><li class="listitem"><code class="literal">addprojectreports</code>: The add reports<a id="id129" class="indexterm"/> operation creates the reports in the chosen Team Project. This command overwrites the reports if they already exist.<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>tfpt addprojectreports /collection:"http://tfs2015:8080/tfs" /</strong></span>
<span class="strong"><strong>teamproject:"Fabrikam" /processtemplate:"Scrum" /validate /verbose</strong></span>
</pre></div></li></ul></div></div></div>
<div class="section" title="Deleting a Team Project" id="aid-OPEK1"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec19"/>Deleting a Team Project</h1></div></div></div><p>Deleting a <a id="id130" class="indexterm"/>Team Project permanently removes data associated with that project from the database. The data cannot be recovered later. Therefore, you should save Team Project data that you might want to access later. In this recipe, you'll learn how to delete a Team Project using the TFS Admin Console and the command line. We will also review the difference between the two approaches.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec41"/>Getting ready</h2></div></div></div><p>In order to delete the Team Project, you should be a member of the following groups:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Team Foundation Administrators group</li><li class="listitem">SQL Server Administrators group</li><li class="listitem">Farm Administrators group for SharePoint products (this is only required if TFS has been configured to integrate with SharePoint)</li></ul></div><p>In this recipe, we'll review the two available options to delete a Team Project. The first option is to delete it from the TFS Admin Console, and the other option is to delete it from the command line. When a project is deleted from the admin console, any associated reports and SharePoint portal projects need to be manually deleted. The <code class="literal">TFSDeleteProject</code> command-line tool deletes all artifacts.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec42"/>How to do it...</h2></div></div></div><div class="section" title="Option1"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec06"/>Option1</h3></div></div></div><p>First let's look at how to delete the Team Project from the Team Project Administration Console:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log into the server that hosts your Team Foundation Application Tier.</li><li class="listitem">Open the <span class="strong"><strong>Team Foundation Administration Console</strong></span> window and, from the left panel, click on <span class="strong"><strong>Team Project Collections</strong></span>. Click on the <span class="strong"><strong>Team Projects</strong></span> tab to see <a id="id131" class="indexterm"/>projects in the default collection:<div class="mediaobject"><img src="../Images/image00346.jpeg" alt="Option1"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Select the <span class="strong"><strong>Fabrikam</strong></span> Team Project and click on <span class="strong"><strong>Delete</strong></span>:<div class="mediaobject"><img src="../Images/image00347.jpeg" alt="Option1"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">In the <span class="strong"><strong>Delete Team Project</strong></span> window, select <span class="strong"><strong>Delete external artifacts</strong></span> and <span class="strong"><strong>Delete workspace data</strong></span>. Click on <span class="strong"><strong>Delete</strong></span> button to continue.<div class="mediaobject"><img src="../Images/image00348.jpeg" alt="Option1"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">The deletion <a id="id132" class="indexterm"/>workflow is triggered, flip to the <span class="strong"><strong>Status</strong></span> tab to track the progress:<div class="mediaobject"><img src="../Images/image00349.jpeg" alt="Option1"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">While all links to the project portal will be removed from Team Web Access, the SharePoint site that acts as the portal will need to be deleted manually from SharePoint Central Administration.</li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="Option 2"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec07"/>Option 2</h3></div></div></div><p>Now, let's look at how to delete the Team Project using the <code class="literal">tfsdeleteteamproject</code> command-line tool:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the <a id="id133" class="indexterm"/>Visual Studio 2015 Command Prompt. Alternatively you could open up a command prompt and change the directory to <code class="literal">%programfiles(x86)%\Microsoft Visual Studio 14.0\Common7\IDE</code>.</li><li class="listitem">Run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>tfsdeleteproject /q /force /collection:http://tfs2015:8080/tfs/ Fabrikam</strong></span>
</pre></div><div class="mediaobject"><img src="../Images/image00350.jpeg" alt="Option 2"/></div><p style="clear:both; height: 1em;"> </p></li></ol><div style="height:10px; width: 1px"/></div><p>The command-line utility offers a few more switches:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">/q</code>: This is an option switch; it enforces quite mode wherein no prompts are raised for confirmation during the deletion process.</li><li class="listitem"><code class="literal">/force</code>: This is an optional switch; it enforces that the deletion process should continue even if some components cannot be deleted.</li><li class="listitem"><code class="literal">/excludewss</code>: This is an optional switch. If you do not want to delete the SharePoint site associated with the Team Project, use this switch.</li></ul></div></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec43"/>How it works...</h2></div></div></div><p>The <code class="literal">tfsdeleteproject</code> command carries out the deletion in two phases. The first phase deletes the project data that includes data in version control, build and test manager, components of the Team Project in Team Explorer, Work Items, and any Work Item fields that exclusively belong to the Team Project. The next phase deletes the project websites. This includes any reports associated to the Team Project as well as project portals on SharePoint.</p><div class="note" title="Note"><h3 class="title"><a id="note19"/>Note</h3><p>If you try to access a Team Project that has been deleted, you are likely to get this error message. <span class="strong"><strong>TF200016: The following project does not exist</strong></span>. Verify that the name of the project is correct and that the project exists on the specified Team Foundation Server.</p></div><p>The following data may<a id="id134" class="indexterm"/> remain undeleted when using <code class="literal">tfsdeleteproject</code>:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Team Project data in the cube</strong></span>: The Team Project data in the cube will only be removed with the next rebuild. The default rebuild for the warehouse is set to 2 hours.</li><li class="listitem"><span class="strong"><strong>Build drop files and folders</strong></span>: Build binaries, build log files, and log files containing test results are published during the build process. The locations for these files are not deleted. These files need to be manually removed from the folder locations.</li><li class="listitem"><span class="strong"><strong>Shared Work Item tracking metadata</strong></span>: <code class="literal">tfsdeleteproject</code> does not delete any metadata for Work Item tracking that is shared between Team Projects.</li><li class="listitem"><span class="strong"><strong>Version control shelvesets containing shared code</strong></span>: Version control shelvesets are not deleted if code in the shelveset is from multiple Team Projects.</li></ul></div></div></div></body></html>