- en: Chapter 6. Securing Your Content
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We now know how to create rich and engaging content and how to involve our colleagues
    in the content creating process. We have been using Confluence for a while now
    and more and more information has become available.
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter we will learn how to keep our private content private. We will
    look at the different ways of securing content, but we will also take a look at
    how we can secure a complete Confluence installation.
  prefs: []
  type: TYPE_NORMAL
- en: 'The topics we will discuss in this chapter are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Global permissions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Space permissions and page restrictions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Secure administrator sessions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Some security best practices
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Accessing the content
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: So far, all content we have created can be viewed and edited by anyone who has
    access to Confluence, and even without logging in if you're enabled an anonymous
    login. When your company's information and documentation is in Confluence, allowing
    anyone to view or edit them might not be the best security setting.
  prefs: []
  type: TYPE_NORMAL
- en: 'Confluence gives you all the tools to make your installation as open or as
    closed as you would like it to be. While we go over the options and how to enable
    them, please keep the following points in mind:'
  prefs: []
  type: TYPE_NORMAL
- en: Confluence is a tool for communication and collaboration; allowing your users
    to view and edit as much content as possible. This will help you getting the most
    out of the transparent knowledge exchange in your organization.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: So, restrict a space or page only if you have a good reason for doing so.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Confluence keeps track of every change made to a page or blog post. This makes
    it easy to see who changed what and, if required, revert the content to a previously
    saved state.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In a situation where everybody works on documents on their own desktop, people
    aren't used to getting feedback and input. This can be a cultural shift that a
    company has to go through while starting to work with Confluence. Before restricting
    access to a space, page, or blog post, ask yourself, "Why should this document
    be private and what is the harm in making it more visible within my organization?"
  prefs: []
  type: TYPE_NORMAL
- en: Global permissions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Global permissions are site-wide permissions and can be assigned only by system
    administrators and Confluence administrators. Global permissions can be assigned
    to groups, individual users, and anonymous users.
  prefs: []
  type: TYPE_NORMAL
- en: 'Before we go into how to change the different global permissions, it''s good
    to know the different administrator roles:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Super user**: Any user that belongs to the confluence-administrators group
    has full administrative access to Confluence. A super user can also view and edit
    all content even if it is restricted by permissions.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**System Administrator**: Users with the System Administrator global permission
    have full administrative access to Confluence but cannot view or edit the content
    they don''t have permissions to.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Confluence Administrator**: Users with the Confluence Administrator global
    permission have restricted access to the Confluence administrative functions.
    Confluence administrators cannot, for example, install new add-ons. More detail
    on which functions are restricted are in the *Comparing the administration roles*
    section.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**The Confluence administrator permission and the confluence-administrators
    group are not related**.'
  prefs: []
  type: TYPE_NORMAL
- en: Although the name suggests they are related, they are not. Granting a user or
    group the Confluence Administrator permission is not the same as adding the user
    to the confluence-administrators group.
  prefs: []
  type: TYPE_NORMAL
- en: 'How the different roles are related to each other is illustrated in the following
    diagram:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Global permissions](img/9526_06_09.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: As a user within the confluence-administrators group is allowed to view and
    edit all content, it is recommended to use a different user account for day-to-day
    work. With the System Administrator permission, all administrative functions can
    be performed but your administrators aren't allowed to view all content.
  prefs: []
  type: TYPE_NORMAL
- en: A super user account would only be needed if restricted content can't be accessed
    by anyone anymore. The super user can still access the content and restore the
    restrictions.
  prefs: []
  type: TYPE_NORMAL
- en: Updating global permissions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you are a Confluence administrator, you can add users and groups to the global
    permissions to determine their permissions.
  prefs: []
  type: TYPE_NORMAL
- en: 'To view the global permissions:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Global Permissions** in the left-hand side menu. The next screen would
    be as shown in the following screenshot:![Updating global permissions](img/9526_06_01.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To add permissions for a group, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Select **Edit Permissions**; this will show the **Edit Global Permissions**
    screen.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type the group name in the **Grant browse permission to** box in the groups
    section. You can also search for the group name.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Add**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The group will be added to the list and you can edit the permissions.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When all the relevant checkboxes are checked, click on the **Save All** button
    at the bottom of the page.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To add permissions for a user, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Before adding permissions to users, first consider the management overhead.
    Adding them to a group and assigning permissions to that group will result in
    less maintenance in the long run.
  prefs: []
  type: TYPE_NORMAL
- en: Select **Edit Permissions**; this will show the **Edit Global Permissions**
    screen.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type the username in the **Grant browse permission to** box in the **Individual
    Users** section. You can also search for the username.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Add**. The user will then be added to the list and you can edit its
    permissions.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To add or edit the permissions of groups and users, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Select or clear the checkbox under the relevant permissions for the relevant
    user or group. A selected box indicates that the permission is granted.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To allow anonymous access to your Confluence installation, select the **Use
    Confluence** option in the **Anonymous Access** section.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Save All** to save your changes.![Updating global permissions](img/9526_06_02.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Overview of the global permissions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: In the previous steps we learned how to manage the different global permissions.
    In the following table those different global permissions are explained. These
    permissions are also displayed in the previous screenshot.
  prefs: []
  type: TYPE_NORMAL
- en: '| Permission | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **can use** | This allows a user to access your Confluence site.Users with
    this permission count towards the number of users on your license. |'
  prefs: []
  type: TYPE_TB
- en: '| **Attach Files to User Profile** | This permission is no longer relevant
    since the introduction of personal spaces, and can be ignored. |'
  prefs: []
  type: TYPE_TB
- en: '| **Update User Status** | This allows users to update their status messages.
    |'
  prefs: []
  type: TYPE_TB
- en: '| **Personal Space** | This allows users to create and maintain a personal
    space. |'
  prefs: []
  type: TYPE_TB
- en: '| **Create Space(s)** | This permission allows users to create new spaces within
    Confluence. When a space is created, the creator is automatically the Space admin
    for that space. |'
  prefs: []
  type: TYPE_TB
- en: '| **Confluence Administrator** | This permission allows users to access the
    Administration Console that controls the site-wide administration. Users with
    this permission can perform a *subset of all* administrative functions. |'
  prefs: []
  type: TYPE_TB
- en: '| **System Administrator** | This permission allows users to access the Administration
    Console that controls the site-wide administration. Users with this permission
    can perform *all* administrative functions. |'
  prefs: []
  type: TYPE_TB
- en: Comparing the administration roles
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We have already learned that a user with System Administrator permission is
    allowed to perform all administrative functions within Confluence. A user with
    Confluence Administrator permission is only allowed to administrate just a subset
    of those functions.
  prefs: []
  type: TYPE_NORMAL
- en: You can give the Confluence Administrator permission to users who should be
    able to perform most administrative functions, but should not be able to perform
    functions that can compromise the security of the Confluence system.
  prefs: []
  type: TYPE_NORMAL
- en: The following functions are granted to the System Administrator permission but
    excluded from the Confluence Administrator permission to ensure your Confluence
    instance integrity and security.
  prefs: []
  type: TYPE_NORMAL
- en: 'General configuration – only the following options are excluded:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Change the server base URL
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Enable/disable remote API
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Enable/disable compress HTTP response
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Change connection timeouts
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Backup administration
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: External gadgets
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Mail servers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: User macros
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In-App notifications
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Attachment storage
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: PDF export
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Office connector
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Add-ons – only the following options are excluded:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Upgrade add-ons
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Install new add-ons
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Confluence upgrade check
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Security configuration – only the following options are excluded:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: External user management
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Append wildcards to user and group searches.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Enable custom stylesheets for spaces.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Show system information on the 500 page.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Maximum RSS items
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: RSS timeout
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: XSRF protection
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Anti XSS mode
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Change the global stylesheet
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add custom HTML
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Backup and restore
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Mail queue
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cache statistics
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scheduled jobs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Logging and profiling
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Atlassian support tools
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Notes on global permissions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Some things to keep in mind while working with global permissions are that
    users with:'
  prefs: []
  type: TYPE_NORMAL
- en: The Confluence Administrators permission are able to access the global permissions
    page and change the permissions, excluding permissions for the confluence-administrators
    group
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The Confluence Administrators permission cannot grant themselves the System
    Administrator permission
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The Confluence Administrators permission cannot add themselves to the confluence-administrators
    group and become super users
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The System Administrators permission can change the permissions of the confluence-administrators
    group on the global permissions page
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The System Administrators permission are able to add themselves to the confluence-administrators
    group and become super users
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Space permissions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Every space has its own set of permissions. These permissions determine the
    access to the space for specific users and groups. In order to assign these permissions,
    a user must be space administrator, that is, they should have the Admin permissions
    for that space.
  prefs: []
  type: TYPE_NORMAL
- en: Overview of the permissions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The following is the list of different permissions you can set on a space level:'
  prefs: []
  type: TYPE_NORMAL
- en: '| Permission | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| View | The user can view this space''s content. This includes pages and blog
    posts. Without this permission the user cannot access the space at all. |'
  prefs: []
  type: TYPE_TB
- en: '| Pages – Add | The user can add and edit pages in this space. |'
  prefs: []
  type: TYPE_TB
- en: '| Pages – Restrict | The user is allowed to apply page-level restrictions.
    |'
  prefs: []
  type: TYPE_TB
- en: '| Pages – Remove | The user is allowed to remove pages in this space. |'
  prefs: []
  type: TYPE_TB
- en: '| Blog – Add | The user is allowed to create and edit blog posts. |'
  prefs: []
  type: TYPE_TB
- en: '| Blog – Remove | The user is allowed to remove blog posts in this space. |'
  prefs: []
  type: TYPE_TB
- en: '| Comments – Add | The user is allowed to make comments in this space. |'
  prefs: []
  type: TYPE_TB
- en: '| Comments – Remove | The user is allowed to remove any comments in this space.
    |'
  prefs: []
  type: TYPE_TB
- en: '| Attachments – Add | The user is allowed to add attachments to this space.
    |'
  prefs: []
  type: TYPE_TB
- en: '| Attachments – Remove | The user is allowed to remove any attachments in this
    space. |'
  prefs: []
  type: TYPE_TB
- en: '| Mail – Remove | The user is allowed to delete mail items. |'
  prefs: []
  type: TYPE_TB
- en: '| Space – Export | The user is allowed to export content from this space. |'
  prefs: []
  type: TYPE_TB
- en: '| Space - Admin | The user has administrative permissions over this space.
    |'
  prefs: []
  type: TYPE_TB
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If, by mistake, all administrative access to a space is removed, nobody has
    access to administer the space anymore. This could, for example, happen if somebody
    who was a space administrator leaves the company or a group with Space Administrator
    permissions is removed from Confluence. In such a case, somebody from the confluence-administrators
    group needs to help you to fix the permissions.
  prefs: []
  type: TYPE_NORMAL
- en: Managing space permissions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Permissions can be granted to groups or to individual users. You need to be
    a space administrator to assign space permissions. A Confluence administrator
    can also set the default permissions that will be applied when a space is created;
    this is explained in the following section.
  prefs: []
  type: TYPE_NORMAL
- en: 'To access the space permissions, you will need to perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Go to the space and choose **Space tools** on the left sidebar.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select **Permissions** followed by **Permissions**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Note that the permissions menu is only displayed if you are a space administrator
    or super user.
  prefs: []
  type: TYPE_NORMAL
- en: 'On the space permission screen you will notice the following three sections:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Groups**: A list of the groups that already have permission to access the
    space'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Individual Users**: A list of users that already have permission to access
    the space'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Anonymous Access**: Permissions that are granted to this space for anonymous
    users![Managing space permissions](img/9526_06_03.jpg)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To assign permissions to groups, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Click on the **Edit Permissions** button below the group section.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To assign a permission, check the relevant checkbox.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To remove a permission, uncheck the checkbox below the relevant permission.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To add a new group to the list, type the group name in the textbox in the group
    section and click on **Add**. You can also search for groups using the magnify
    icon next to the textbox.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: 'For bulk actions:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click on the cogwheel in the actions column.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Choose **Select All** or **Deselect All** to perform the bulk action.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click on **Save All** to apply the changes.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To assign permissions to users:'
  prefs: []
  type: TYPE_NORMAL
- en: Click on the **Edit Permissions** button below the **Individual User** section.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To assign a permission, check the relevant checkbox.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To remove a permission, uncheck the checkbox below the relevant permission.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To add a new user to the list, type the username in the textbox in the **Individual
    User** section and click on **Add**. You can also search for users by using the
    magnify icon next to the textbox.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: 'For bulk actions:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click the cogwheel in the actions column.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Choose **Select All** or **Deselect All** to perform the bulk action.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click on **Save All** to apply the changes.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To assign permissions to anonymous users:'
  prefs: []
  type: TYPE_NORMAL
- en: Click on the **Edit Permissions** button below the **Anonymous User** section.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To assign a permission, check the relevant checkbox.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To remove a permission, uncheck the checkbox below the relevant permission.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Save all** to apply the changes.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Anonymous users can't be granted space administration rights or the permission
    to restrict pages.
  prefs: []
  type: TYPE_NORMAL
- en: Setting default space permissions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Confluence administrators can set the default permissions that will be applied
    to every new space that is created. The default permissions are only configurable
    for groups, not for individual or anonymous users.
  prefs: []
  type: TYPE_NORMAL
- en: 'To set the default space permissions:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Space Permissions** in the left-hand menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Edit Permissions**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add groups and change permissions as described in how to assign permissions
    to groups in the previous section.![Setting default space permissions](img/9526_06_04.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Page restrictions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Page restrictions are the lowest tier where you are able to control access to
    your content. With page restrictions you can control who can view or edit individual
    pages.
  prefs: []
  type: TYPE_NORMAL
- en: Page restriction hierarchy
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Before we get to how to set and manage page restrictions, it good to know how
    Confluence handles permissions and restrictions. Permissions and page restrictions
    work in a hierarchical manner. This means that a user who can access and modify
    global permissions can define which users can access and modify space permissions.
    Space administrators can then define which users have access to create and modify
    pages. These users can then apply viewing and editing restrictions to a page.
    Child pages inherit the viewing and editing restrictions from their parent.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you translate this into a diagram, it will look something like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Page restriction hierarchy](img/9526_06_05.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Inheritance
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: I already mentioned that child pages inherit the view restrictions set on the
    parent page. This is also true for child pages of those child pages and so on.
    If a view restriction is set to a page that already has inherited restrictions
    from its parent, users must satisfy both restrictions in order to see that page.
  prefs: []
  type: TYPE_NORMAL
- en: Edit restrictions are not inherited from the parent page, only from the space.
    Edit restrictions have to be reapplied to child pages.
  prefs: []
  type: TYPE_NORMAL
- en: Managing page restrictions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We will first talk about viewing page restrictions.
  prefs: []
  type: TYPE_NORMAL
- en: When you are viewing a page with page restrictions applied to it, you will notice
    a small padlock icon in the byline of the page, directly below the page title.
    If you click on that icon, the page restrictions dialog will appear, displaying
    the full details on the page restrictions.
  prefs: []
  type: TYPE_NORMAL
- en: When you are editing a page, you will notice a restrictions button at the bottom
    of the screen. Clicking on this button will also display the page restrictions
    dialog.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next we will take a look at setting page restrictions. In order to set page
    restrictions, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the relevant page.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Tools** | **Restrictions** to open the **Page Restrictions** dialog.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the restriction option you want to set (view or edit).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose the users and groups you want to be able to view or edit the page.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To include yourself, click on **Me**.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: To select a particular user or group, type the user's username or the group
    name into the textbox. Click on **Restrict**to allow that user or group to view
    or edit the page.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: To search for a user or group click on the **Person…** or **Group…** button.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Click on **Save** to apply the new restrictions, as shown in the following screenshot:![Managing
    page restrictions](img/9526_06_06.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To remove page restrictions, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Open the **Page Restrictions** dialog by using the padlock icon or select **Tools**
    | **Restrictions**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the **Remove restriction** link next to a user or group to remove them
    from the restriction. Hereby, you will disallow them to view or edit the page,
    unless there are no restrictions.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Save**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next we will look at viewing restricted pages. As a space administrator you
    can view all pages that are restricted. From within this view, it is also possible
    to remove page restrictions. For example, you may need to do this when there is
    nobody who can access a certain page anymore.
  prefs: []
  type: TYPE_NORMAL
- en: Go to the space and choose **Space Tools** on the left sidebar.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select **Permissions** followed by **Restricted Pages**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: Note that the permissions menu is only displayed if you are a space administrator
    or super user.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Clicking on the unlock icon will remove the restriction.![Managing page restrictions](img/9526_06_07.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Confluence security
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: So far we have been talking about permissions and restrictions, which are of
    course a huge part of how to keep your data secure. But there are a few best practices
    and features in place to reduce the risk of your Confluence installation being
    corrupted and prevent the wrong people from getting access.
  prefs: []
  type: TYPE_NORMAL
- en: Secure administrator sessions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Confluence protects access to its administrative functions by a special administrator
    session. When a user attempts to access the Administration Console or space administration,
    they are prompted to log in again. This logs the administrator into a temporary
    secure session that grants access to those administration screens. In other parts
    of the documentation this feature is also referred to as **WebSudo**.
  prefs: []
  type: TYPE_NORMAL
- en: '![Secure administrator sessions](img/9526_06_08.jpg)'
  prefs: []
  type: TYPE_IMG
- en: The administrator session has a rolling timeout of 10 minutes (default). This
    means that if there is no activity in the Confluence or space administration for
    10 minutes, the user will be logged out of the administrator session. If the user
    does click on any administrative function, the timeout will be reset.
  prefs: []
  type: TYPE_NORMAL
- en: 'To configure the secure administrator sessions:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Administration Console (**Administration** | **Confluence Admin**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Security Configuration** in the left-hand menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Edit the settings:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To disable secure administrator sessions, uncheck the **Enable** checkbox next
    to **Secure administrator sessions**.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: To change the timeout of the sessions, update the value next to **minutes before
    automatic invalidation**.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Click on **Save**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If your Confluence instance uses a custom build authentication mechanism, the
    extra login might cause problems as it checks the authentication against Confluence
    instead your own custom authentication server. Disabling password confirmation
    would be a valid solution.
  prefs: []
  type: TYPE_NORMAL
- en: 'An administrator can always manually end the secure session by clicking on
    **Drop access** in the banner displayed at the top of their screen as shown in
    the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Secure administrator sessions](img/9526_06_10.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Atlassian security advisory
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Software such as Confluence is not flawless and every now and then a vulnerability
    is discovered. When such a vulnerability is discovered, Atlassian will calculate
    its severity based on the industry-standard **Common Vulnerability Scoring System**
    (**CVSS**).
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: For more information about CVSS, visit [http://www.first.org/cvss/cvss-guide.html](http://www.first.org/cvss/cvss-guide.html).
  prefs: []
  type: TYPE_NORMAL
- en: 'Based upon the CVSS scores, the severity will be mapped according to the following
    guidelines:'
  prefs: []
  type: TYPE_NORMAL
- en: '| CVSS score range | Severity in advisory |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| 0 – 2.9 | Low |'
  prefs: []
  type: TYPE_TB
- en: '| 3 – 5.9 | Medium |'
  prefs: []
  type: TYPE_TB
- en: '| 6 – 7.9 | High |'
  prefs: []
  type: TYPE_TB
- en: '| 8 – 10 | Critical |'
  prefs: []
  type: TYPE_TB
- en: The following is a summary of the factors usually resulting in a specific severity.
    These ratings don't take your personal installation details into account, but
    are based upon an average installation.
  prefs: []
  type: TYPE_NORMAL
- en: '**Critical**: This means the information required in order to exploit the vulnerability
    is widely available to attackers.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The exploitation is usually straightforward, meaning that the attackers don't
    need any special credentials or knowledge about individuals in your installation.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The exploitation of the vulnerability results in root-level compromise of your
    servers or other infrastructure devices.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: For critical vulnerability, it is advised that you patch or upgrade as soon
    as possible, unless you have other measures in place. For example, if your Confluence
    installation is not accessed from the Internet.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**High**: Here, the exploitation doesn''t result in elevated privileges.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The exploitation doesn't result in significant data loss or corruption.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: And, the vulnerability is difficult to exploit.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Medium**: The denial-of-service vulnerabilities are difficult to set up.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: These vulnerabilities affect only nonstandard configurations or obscure applications.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: This includes exploits that require an attacker to reside on the same local
    network as the victim.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: This includes vulnerabilities that require the attacker to manipulate individual
    victims via social engineering tactics.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: This includes vulnerabilities where exploitation provides only very limited
    access.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Low**: Vulnerabilities in the low range normally have very little impact
    on an organization''s business. Exploitation of such vulnerabilities usually requires
    local or physical system access.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'When a critical severity vulnerability is discovered, and resolved, Atlassian
    will inform their customers using the following channels:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Atlassian will post a security advisory in the latest documentation of Confluence
    at the same time as a fix for the vulnerability is released. Check the following
    link:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://confluence.atlassian.com/display/DOC/Confluence+Security+Overview+and+Advisories](https://confluence.atlassian.com/display/DOC/Confluence+Security+Overview+and+Advisories)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Atlassian will send a copy of the security advisory to the "Technical Alerts"
    mailing list.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you want to track noncritical vulnerabilities, you can monitor the issue
    trackers for Confluence at [https://jira.atlassian.com/browse/CONF](https://jira.atlassian.com/browse/CONF).
    Security issues will be marked with a "security" label.
  prefs: []
  type: TYPE_NORMAL
- en: Limiting access to Confluence administration
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Confluence Administration Console plays a vital role in keeping your Confluence
    installation running and making sure your users have the permissions they should
    have.
  prefs: []
  type: TYPE_NORMAL
- en: 'One way of further securing the Administration Console is limiting its access
    to certain machines on your network or on the Internet. If you are using an Apache
    web server in front of your Confluence installation, this would work as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: 'The first step is to create a file in a common location on your server. We
    will use this file to include the Apache configuration needed, making sure we
    only have one location to change instead of many. We can do that in the following
    manner:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a file called `local_machines_only.conf` in your apache configuration
    directory.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In this file add the following lines (only the bold part):'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Order Deny, Allow**: Look for the Deny rules first, then the Allow'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Deny from All**: Deny access for everybody'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Allow from 192.168.1.5 #Arthurs machine**: Allow access from Arthur''s machine
    based upon IP'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: More on access control with Apache at [http://httpd.apache.org/docs/2.2/howto/access.html](http://httpd.apache.org/docs/2.2/howto/access.html).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'The next step is to add a long list of locations to your Apache Virtual Host
    configurations. The following configuration assumes you''ve installed Confluence
    under the context path `/confluence`, that is, `http://mycompany.com/confluence`.
    If this is not true for your installation, change the locations in the following
    configuration accordingly:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: This will make sure the administrative functions can only be accessed by the
    specified machines and IPs.
  prefs: []
  type: TYPE_NORMAL
- en: Best practices
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: How you set up your Confluence roles, permissions, and internal processes makes
    a big difference in keeping your Confluence installation secure. The following
    are some tips you could consider. None of these make your installation a full
    100 percent secure, but they slow down or turn around any attacker.
  prefs: []
  type: TYPE_NORMAL
- en: In general you could say, "Don't put convenience go before security."
  prefs: []
  type: TYPE_NORMAL
- en: Keep the number of Confluence administrators as low as possible, but having
    just one is also not without risks.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Restrict the number of users with powerful roles or group memberships. If only
    one group of users should have access to some particular data, restrict access
    to the data to those users. Do not give all staff access to sensitive data when
    there is no need.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Confluence administrators should have separate accounts for their administrative
    role and for their day-to-day work.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lock down administrative access as much as possible. If there is no reason to
    perform administrative tasks from outside the office, use the previously mentioned
    method to restrict access to a known IP address.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Get documented procedures in place, for when people are leaving departments
    or the company, so that you can make sure those people cannot access you Confluence
    anymore.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The Confluence database user should only have the permissions to read and write
    to the Confluence database, and should not be allowed to perform administrative
    database functions.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regularly monitor your security requirements as things change over time. Before
    you know it, you will have 10 administrators instead of three, or your Apache
    configuration will be modified when upgrading your systems.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Keep in mind that these tips may only be a small part of your entire infrastructure.
    Apply those that make sense to your company and security requirements.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We have learned more about how to keep our content private using space permissions
    and page restrictions. Confluence has a hierarchical permission structure starting
    with super users who are allowed to change all permissions and view all content.
    With regard to security, a good rule to follow is to limit the number of users
    with administrative access to an absolute minimum.
  prefs: []
  type: TYPE_NORMAL
- en: It's important to note that restricting permissions can help to limit access
    to content that you create, but this works against the intended use and benefits
    of the application. Confluence is a wiki and as such is intended to encourage
    collaboration and sharing. Keep this in mind when you limit access to areas of
    your Confluence instance to specific users and groups.
  prefs: []
  type: TYPE_NORMAL
- en: The next chapter will go into customizing the look and feel of Confluence, so
    that it incorporates your company's branding.
  prefs: []
  type: TYPE_NORMAL
