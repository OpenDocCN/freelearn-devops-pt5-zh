["```\nVagrant.configure(2) do |config| \n  config.vm.define \"openshift\" do |conf| \n    conf.vm.box = \"centos/7\" \n    conf.vm.network \"private_network\", ip: \"172.24.0.11\" \n    conf.vm.hostname = 'openshift.example.com' \n    conf.vm.network \"forwarded_port\", guest: 80, host: 980\n    conf.vm.network \"forwarded_port\", guest: 443, host: 9443\n    conf.vm.network \"forwarded_port\", guest: 8080, host: 8080\n    conf.vm.network \"forwarded_port\", guest: 8443, host: 8443\n    conf.vm.provider \"virtualbox\" do |v| \n      v.memory = 4096 \n      v.cpus = 2 \n    end\n    conf.vm.provision \"shell\", inline: $lab_main \n  end \n\n$lab_main = <<SCRIPT\ncat <<EOF >> /etc/hosts\n172.24.0.11 openshift.example.com openshift\n172.24.0.12 storage.example.com storage nfs\nEOF\nsystemctl disable firewalld\nsystemctl stop firewalld\nyum update -y\nyum install -y epel-release git\nyum install -y docker tree\ncat << EOF >/etc/docker/daemon.json\n{\n   \"insecure-registries\": [\n     \"172.30.0.0/16\"\n   ]\n}\nEOF\nsystemctl start docker\nsystemctl enable docker\nyum -y install centos-release-openshift-origin39\nyum -y install origin-clients\noc cluster up\nSCRIPT\n```", "```\n$ vagrant up\n```", "```\n$ vagrant ssh\n```", "```\n$ oc login -u developer\nServer [https://localhost:8443]:\nThe server uses a certificate signed by an unknown authority.\nYou can bypass the certificate check, but any data you send to the server could be intercepted by others.\nUse insecure connections? (y/n): y\n\nAuthentication required for https://localhost:8443 (openshift)\nUsername: developer\nPassword: <ANY PASSWORD>\nLogin successful.\n\nYou have one project on this server: \"myproject\"\n\nUsing project \"myproject\".\nWelcome! See 'oc help' to get started.\n\n$ sudo -i\n# \n```", "```\n...\nRUN chown -R 1001:0 /var/lib/myaplication /var/log/myapplication &amp;&amp; \\\n    chmod -R g=u /var/lib/myaplication /var/log/myapplication\n...\nUSER 1001\n```", "```\nEXPOSE 8080\n```", "```\n$ oc new-project dockerfile\nNow using project \"dockerfile\" on server \"https://localhost:8443\".\n```", "```\n$ git clone https://github.com/docker-library/redis.git\nCloning into 'redis'...\nremote: Counting objects: 738, done.\nremote: Compressing objects: 100% (15/15), done.\nremote: Total 738 (delta 7), reused 13 (delta 4), pack-reused 719\nReceiving objects: 100% (738/738), 108.56 KiB | 0 bytes/s, done.\nResolving deltas: 100% (323/323), done.\n```", "```\n$ tree redis/\nredis/\n├── 3.2\n│   ├── 32bit\n│   │   ├── docker-entrypoint.sh\n│   │   └── Dockerfile\n│   ├── alpine\n│   │   ├── docker-entrypoint.sh\n│   │   └── Dockerfile\n│   ├── docker-entrypoint.sh\n│   └── Dockerfile\n├── 4.0\n│   ├── 32bit\n│   │   ├── docker-entrypoint.sh\n│   │   └── Dockerfile\n│   ├── alpine\n│   │   ├── docker-entrypoint.sh\n│   │   └── Dockerfile\n│   ├── docker-entrypoint.sh\n│   └── Dockerfile\n├── 5.0-rc\n│   ├── 32bit\n│   │   ├── docker-entrypoint.sh\n│   │   └── Dockerfile\n│   ├── alpine\n│   │   ├── docker-entrypoint.sh\n│   │   └── Dockerfile\n│   ├── docker-entrypoint.sh\n│   └── Dockerfile\n├── generate-stackbrew-library.sh\n├── LICENSE\n├── README.md\n└── update.sh\n```", "```\n$ oc new-app https://github.com/docker-library/redis.git --context-dir=3.2\n...\n<OUTPUT OMITTED>\n...\nRun 'oc status' to view your app.\n```", "```\n$ oc get all\nNAME                  TYPE        FROM        LATEST\nbuildconfigs/redis    Docker      Git         1\n\nNAME                TYPE    FROM        STATUS    STARTED        DURATION\nbuilds/redis-1      Docker  Git@d24f2be Complete  39 seconds ago 6s\n\nNAME                DOCKER REPO                       TAGS        UPDATED\nimagestreams/debian 172.30.1.1:5000/dockerfile/debian jessie-slim 39 seconds ago\nimagestreams/redis  172.30.1.1:5000/dockerfile/redis  latest      34 seconds ago\n\nNAME                    REVISION DESIRED CURRENT TRIGGERED BY\ndeploymentconfigs/redis 1        1        1      config,image(redis:latest)\n\nNAME                    READY      STATUS      RESTARTS    AGE\npo/redis-1-build        0/1        Completed   0           40s\npo/redis-1-js789        1/1        Running     0           33s\n\n```", "```\nNAME                    DESIRED    CURRENT     READY       AGE\nrc/redis-1              1           1          1           35s\n\nNAME                    CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE\nsvc/redis               172.30.165.223  <none>        6379/TCP   41s\n```", "```\n$ oc get pod\nNAME            READY    STATUS             RESTARTS    AGE\nredis-1-build   1/1      Running            0           6s\nredis-1-deploy  0/1      ContainerCreating  0           1s\n```", "```\n$ oc logs bc/redis|tail -n10\nSuccessfully built b3b7a77f988a\nPushing image 172.30.1.1:5000/dockerfile/redis:latest ...\nPushed 0/6 layers, 7% complete\nPushed 1/6 layers, 30% complete\nPushed 2/6 layers, 43% complete\nPushed 3/6 layers, 57% complete\nPushed 4/6 layers, 75% complete\nPushed 5/6 layers, 87% complete\nPushed 6/6 layers, 100% complete\nPush successful\n```", "```\n$ oc get pod\nNAME             READY    STATUS      RESTARTS  AGE\nredis-1-build    0/1      Completed   0         2m\nredis-1-js789    1/1      Running     0         1m\n\n$ oc exec redis-1-8lf8h /usr/local/bin/redis-cli ping\nPONG\n```", "```\n$ oc rsh redis-1-js789 /usr/local/bin/redis-server --version\nRedis server v=3.2.11 sha=00000000:0 malloc=jemalloc-4.0.3 bits=64 build=994283e2d09fba41\n```", "```\n$ tree redis/4.0/\nredis/4.0/\n├── 32bit\n│   ├── docker-entrypoint.sh\n│   └── Dockerfile\n├── alpine\n│   ├── docker-entrypoint.sh\n│   └── Dockerfile\n├── docker-entrypoint.sh\n└── Dockerfile\n```", "```\n$ oc get bc\nNAME             TYPE         FROM     LATEST\nredis            Docker       Git      1\n\n$ oc get bc redis -o yaml\napiVersion: v1\nkind: BuildConfig\nmetadata:\n  annotations:\n    openshift.io/generated-by: OpenShiftNewApp\n  creationTimestamp: 2018-06-04T19:54:26Z\n  labels:\n    app: redis\n  name: redis\n  namespace: dockerfile\n  resourceVersion: \"256886\"\n  selfLink: /oapi/v1/namespaces/dockerfile/buildconfigs/redis\n  uid: 16116413-6831-11e8-91ff-5254005f9478\nspec:\n  failedBuildsHistoryLimit: 5\n  nodeSelector: null\n  output:\n    to:\n      kind: ImageStreamTag\n      name: redis:latest\n  postCommit: {}\n  resources: {}\n  runPolicy: Serial\n source:\n contextDir: \"3.2\"\n git:\n uri: https://github.com/docker-library/redis.git\n type: Git <OMITTED>\n```", "```\n$ oc patch bc/redis --patch '{\"spec\":{\"source\":{\"contextDir\":\"4.0\"}}}'\nbuildconfig \"redis\" patched\n\n$ oc get bc/redis -o yaml|grep contextDir:\n    contextDir: 4.0\n```", "```\n$ oc get build\nNAME         TYPE     FROM         STATUS     STARTED         DURATION\nredis-1      Docker   Git@d24f2be  Complete   12 minutes ago  6s\n```", "```\n$ oc start-build bc/redis\nbuild \"redis-2\" started\n```", "```\n$ oc get pod\nNAME              READY      STATUS             RESTARTS   AGE\nredis-1-build     0/1        Completed          0          13m\nredis-1-js789     1/1        Running            0          12m\nredis-2-build     0/1        Completed          0          8s\nredis-2-deploy    1/1        Running            0          2s\nredis-2-l6bbl     0/1        ContainerCreating  0          0s\n```", "```\n$ oc get pod\nNAME              READY      STATUS            RESTARTS    AGE\n```", "```\nredis-1-build     0/1        Completed         0           14m\nredis-2-build     0/1        Completed         0           1m\nredis-2-l6bbl     1/1        Running           0           57s\n```", "```\n$ oc get build\nNAME      TYPE       FROM            STATUS     STARTED         DURATION\nredis-1   Docker     Git@d24f2be     Complete   15 minutes ago  6s\nredis-2   Docker     Git@d24f2be     Complete   2 minutes ago   6s\n```", "```\n$ oc rsh redis-2-l6bbl /usr/local/bin/redis-server --version\nRedis server v=4.0.9 sha=00000000:0 malloc=jemalloc-4.0.3 bits=64 build=40ca48d6a92db598\n\n```", "```\n$ oc rsh redis-2-l6bbl /usr/local/bin/redis-cli ping\nPONG\n```", "```\n$ oc delete all --all\ndeploymentconfig \"redis\" deleted\nbuildconfig \"redis\" deleted\nimagestream \"debian\" deleted\nimagestream \"redis\" deleted\npod \"redis-2-vw92x\" deleted\nservice \"redis\" deleted\n\n$ oc delete project dockerfile\nproject \"dockerfile\" deleted\n\n$ oc project myproject\nNow using project \"myproject\" on server \"https://localhost:8443\".\n```"]