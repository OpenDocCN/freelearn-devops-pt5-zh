<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch05"/>Chapter 5. Be a Puppet Master – Learn Fancy Features to Control Git's Functions</h1></div></div></div><p>
<em>Having laid a perfect base by learning, practicing, and validating the concepts covered so far, we are ready to learn some fancy features that will build on our base knowledge to extend the functional usage.</em>
</p><p>In this chapter you will learn concepts that will help you to perform the following with respect to the content in your repositories: </p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Shortlog</li><li class="listitem" style="list-style-type: disc">Log search</li><li class="listitem" style="list-style-type: disc">Clean</li><li class="listitem" style="list-style-type: disc">Tag</li></ul></div><div><div><div><div><h1 class="title"><a id="ch05lvl1sec48"/>Why learn such fancy features</h1></div></div></div><p>Why would you need the "S" power in <em>Contra</em> or an M4 rifle in <em>Counter-Strike</em> when you have the default weapons?</p><p>Though you will be able to achieve the ultimate goal of killing the opponent even with the basic tools given to you, usage of those specialized tools facilitate the ease of achieving the said goal, that's why.</p><p>Similarly these functions that we are about to learn are going to provide us with easy ways of controlling Git to provide data according to the various situations which you can decide where it fits in, based on your job role. And moreover, it's fun to have some ready-made tricks in your pocket to pull out when the need arises, making you the apt person for the job.</p><div><div><div><div><h2 class="title"><a id="ch05lvl2sec48"/>Prerequisites</h2></div></div></div><p>To learn these concepts better, we need to have a repository where there are quite a few commits and multiple people involved in the development of the repository's content. So we shall download any repository from famous Git hosting sites like GitHub <a id="id322" class="indexterm"/> or Bitbucket <a id="id323" class="indexterm"/> itself.</p><p>Here, I have downloaded a project called cappuccino and reduced the repository to fit our purpose.</p><div><div><h3 class="title"><a id="tip04"/>Tip</h3><p>
<strong>Downloading the example code</strong>
</p><p>You can download the example code files for all Packt books you have purchased from your account at <a class="ulink" href="http://www.PacktPub.com">http://www.PacktPub.com</a>. If you purchased this book elsewhere, you can visit <a class="ulink" href="http://www.PacktPub.com/support">http://www.PacktPub.com/support</a> and register to have the files e-mailed directly to you.</p></div></div><p>You can also download your own from the Git hosting sites specified previously to carry out your learning.</p></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec49"/>Shortlog</h2></div></div></div><p>Though information is wealth, sometimes Too Much Information kills the purpose it serves. Think about the value that is associated with the <strong>filter option</strong>
 <a id="id324" class="indexterm"/> in a spreadsheet application. Shortlog <a id="id325" class="indexterm"/> is one such function to command Git to limit the information it shows when viewing logs. It arranges all the users who were involved in building the data of the repository in alphabetical order mentioning the number of commits they made along with their commit descriptions.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec49"/>Time for action – getting acquainted with shortlog</h1></div></div></div><p>Let's quickly fire up your CLI window from our <code class="literal">cappuccino</code> repository <a id="id326" class="indexterm"/> and try out the following command:</p><div><pre class="programlisting">
<strong>git shortlog</strong>
</pre></div><p>This should give an output as shown in the following screenshot:</p><div><img src="img/7522_05_01.jpg" alt="Time for action – getting acquainted with shortlog"/></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec50"/>
<em>What just happened?</em>
</h2></div></div></div><p>We just <a id="id327" class="indexterm"/> listed out comments of 24 commits segregated by the authors who were responsible for those commits; the authors were arranged in alphabetical order in a single shot. Sounds compact and presentable, right?</p><p>It's not over yet! Shortlog has a few defined parameters which can be used to reorder or narrow down your search to extract a particular set of information from your logs.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec50"/>Time for action – parameterizing shortlog</h1></div></div></div><p>Just add the parameter <code class="literal">–n</code>
<strong> </strong>to<strong> </strong>
 <a id="id328" class="indexterm"/> your earlier command.</p><div><pre class="programlisting">
<strong>git shortlog –n</strong>
</pre></div><p>You should see an output as shown in the following screenshot:</p><div><img src="img/7522_05_02.jpg" alt="Time for action – parameterizing shortlog"/></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec51"/>
<em>What just happened?</em>
</h2></div></div></div><p>By adding <a id="id329" class="indexterm"/> the <code class="literal">–n</code> (numbered) parameter, what you have is an output that is weighted based on the number of commits instead of alphabetical ordering.</p><p>Now that we have got the idea, let's quickly run through the remaining parameters which we can put to use. To get metadata such as the e-mail of the author appended to the existing output, we shall use the <code class="literal">–e</code> parameter.</p><div><pre class="programlisting">
<strong>git shortlog -e</strong>
</pre></div><p>You can expect an <a id="id330" class="indexterm"/> output as shown in the following screenshot:</p><div><img src="img/7522_05_03.jpg" alt="What just happened?"/></div><p>Wondering how you can quickly get the number of stages/commits that the repository has gone through from different users? Allow me to introduce the <code class="literal">-s</code> parameter, which should give us the count history for each user.</p><div><pre class="programlisting">
<strong>git shortlog –s</strong>
</pre></div><div><img src="img/7522_05_04.jpg" alt="What just happened?"/></div><p>To summarize the <a id="id331" class="indexterm"/> parameters with their functions, refer to the following tabulation:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th colspan="2" style="text-align: center" valign="bottom">
<p>Parameter</p>
</th><th style="text-align: left" valign="bottom">
<p>Action description</p>
</th></tr><tr><th style="text-align: left" valign="bottom">
<p>Short form</p>
</th><th style="text-align: left" valign="bottom">
<p>Full form</p>
</th><th style="text-align: left" valign="bottom"> </th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-n</code>
 <a id="id332" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">--numbered</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Sorts output according to the number of commits per author instead of alphabetical order</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-s</code>
 <a id="id333" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">--summary</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Provides commit count history for each user</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-e</code>
 <a id="id334" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">--email</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Gets the e-mail address of each author involved in committing to our repository</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-h</code>
 <a id="id335" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">--help</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Prints a short usage message</p>
</td></tr></tbody></table></div></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec52"/>Log search – git log</h2></div></div></div><p>In continuation with the shortlog, add a few more weapons to your arsenal that will aid in data extraction as per your needs. What you know about Git log from earlier chapters might be as a <a id="id336" class="indexterm"/> command to view commit ID and related meta-information alone. But what you will learn here is how flexible the logging command is by itself and a glimpse of what it packs.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec51"/>Time for action – skip commit logs</h1></div></div></div><p>Let's quickly try out the <a id="id337" class="indexterm"/> 
 <a id="id338" class="indexterm"/> following in the CLI window that we opened earlier from the <code class="literal">cappuccino</code> repository:</p><div><pre class="programlisting">
<strong>git log --skip=2</strong>
</pre></div><p>This should give an output as follows:</p><div><img src="img/7522_05_05.jpg" alt="Time for action – skip commit logs"/></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec53"/>
<em>What just happened?</em>
</h2></div></div></div><p>Though the output <a id="id339" class="indexterm"/> 
 <a id="id340" class="indexterm"/> might look similar to the usual <code class="literal">git log</code> ones at first, when they are compared you will see that you have skipped off the last two commits from listing.</p><div><img src="img/7522_05_06.jpg" alt="What just happened?"/></div><p>The <code class="literal">--skip=number</code>
<strong> </strong>makes <a id="id341" class="indexterm"/> this possible. The <code class="literal">number</code> parameter can take any integer value to skip that number of commits for you.</p><p>There would be numerous situations where you would want to filter content based on date. This can be done with the <code class="literal">since</code>/<code class="literal">after</code>
<strong> </strong>and <code class="literal">until</code>/<code class="literal">before</code> operators with <code class="literal">git log</code>.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec52"/>Time for action – filter logs with date range</h1></div></div></div><p>After performing a <code class="literal">git log</code>, select <a id="id342" class="indexterm"/> two <a id="id343" class="indexterm"/> dates, <a id="id344" class="indexterm"/> which we shall use to filter in our following command:</p><div><pre class="programlisting">
<strong>git log --since=2008-09-08 --until=2008-09-09</strong>
</pre></div><p>This should give an output as follows:</p><div><img src="img/7522_05_07.jpg" alt="Time for action – filter logs with date range"/></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec54"/>
<em>What just happened?</em>
</h2></div></div></div><p>Using <a id="id345" class="indexterm"/> the <code class="literal">--since=date</code> operator filters the logs starting from the <a id="id346" class="indexterm"/> specified date and limits it before the date <a id="id347" class="indexterm"/> specified using the <code class="literal">–until</code> parameter.</p><div><div><h3 class="title"><a id="note14"/>Note</h3><p>Note that you can also specify relative dates like <code class="literal">–since=2.days</code> or <code class="literal">--since=3.months</code> to filter the output.</p></div></div><p>If you are wondering if there is a way to perform a search based on a keyword across commits – yes you can, with the <code class="literal">–grep</code> parameter of <code class="literal">git log</code>.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec53"/>Time for action – searching for a word/character match</h1></div></div></div><p>Type the <a id="id348" class="indexterm"/> 
 <a id="id349" class="indexterm"/> 
 <a id="id350" class="indexterm"/> 
 <a id="id351" class="indexterm"/> 
 <a id="id352" class="indexterm"/> 
 <a id="id353" class="indexterm"/> following command in your CLI window:</p><div><pre class="programlisting">
<strong>git log --grep="Merge"</strong>
</pre></div><p>This should give an output as follows:</p><div><img src="img/7522_05_08.jpg" alt="Time for action – searching for a word/character match"/></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec55"/>
<em>What just happened?</em>
</h2></div></div></div><p>We have <a id="id354" class="indexterm"/> 
 <a id="id355" class="indexterm"/> 
 <a id="id356" class="indexterm"/> 
 <a id="id357" class="indexterm"/> 
 <a id="id358" class="indexterm"/> 
 <a id="id359" class="indexterm"/> used the <code class="literal">grep</code> utility <a id="id360" class="indexterm"/> associated with <code class="literal">git log</code> to search for a given keyword, "Merge" in our case, across the commit messages provided for different commits.</p><div><div><h3 class="title"><a id="note15"/>Note</h3><p>To perform a search without being case sensitive, the <code class="literal">-i</code> option can be appended at the end of the previous command.</p></div></div><p>To summarize the parameters with their functions, refer to the following tabulation:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Parameter</p>
</th><th style="text-align: left" valign="bottom">
<p>Action description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">--skip=number</code>
 <a id="id361" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>Skips the number of commits in showing the log output</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">--since,after=&lt;date&gt;</code>
 <a id="id362" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>Shows commits made since the given date</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">--until,before=&lt;date&gt;</code>
 <a id="id363" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>Shows commits made until the given date</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">--grep=&lt;pattern&gt;</code>
 <a id="id364" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>Limits the log output matching the commit message <a id="id365" class="indexterm"/> 
 <a id="id366" class="indexterm"/> 
 <a id="id367" class="indexterm"/> 
 <a id="id368" class="indexterm"/> 
 <a id="id369" class="indexterm"/> 
 <a id="id370" class="indexterm"/> with the given pattern</p>
</td></tr></tbody></table></div></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec56"/>Clean</h2></div></div></div><p>There are several situations where we would need to <em>Ctrl</em> + <em>Z</em> our bloopers away when handling files. One classic example is in the middle of working when you unzip a ZIP package inside a directory that already <a id="id371" class="indexterm"/> contains some files, only to discover that the ZIP package straight away put those files inside the directory without creating a separate directory for the files which were unpacked. I see you nodding, and I know you're smiling.</p><p>Well, situations like these can be easily handled if the directory where you unzipped the zip package was watched by Git (a Git repository). Let's reproduce this scenario and see how it can be handled within seconds.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec54"/>Time for action – emulate the mess</h1></div></div></div><p>Perform the following steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Download the ZIP package <a id="id372" class="indexterm"/> named <code class="literal">readme_package.zip</code> from <a class="ulink" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and place it in the <code class="literal">cappuccino</code> repository on which we have been working to learn these commands.</li><li class="listitem">Unzip the contents of the ZIP right inside the <code class="literal">cappuccino</code> directory in a way so you see seven README files as shown in the following screenshot:<div><img src="img/7522_05_09.jpg" alt="Time for action – emulate the mess"/></div></li><li class="listitem">Now open your CLI window and type the following command:<div><pre class="programlisting">
<strong>git status</strong>
</pre></div><p>This will give you <a id="id373" class="indexterm"/> the current status as follows:</p><div><img src="img/7522_05_10.jpg" alt="Time for action – emulate the mess"/></div></li></ol></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec57"/>
<em>What just happened?</em>
</h2></div></div></div><p>We have successfully <a id="id374" class="indexterm"/> emulated the scenario of accidental unpacking as discussed earlier.</p><p>But under Git, the files that you have unpacked are listed down as untracked files. This means that irrespective of the number of files that have got mixed because of the unzip action with your original files, Git can easily identify them and let you know about it. </p><p>We can remove either all or a selected few files by specifying a pattern, which when matched, the clean command will skip them from removal. We shall get to know more about this in the following <em>Time for action</em> items.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec55"/>Time for action – clean up your mess with pattern match</h1></div></div></div><p>Let's skip those README <a id="id375" class="indexterm"/> 
 <a id="id376" class="indexterm"/> files from deletion and first remove the ZIP package which we copied and pasted inside our repository. Type the following command in your terminal:</p><div><pre class="programlisting">
<strong>git clean –f –e*.txt</strong>
</pre></div><p>This should give you an output as shown in the following screenshot:</p><div><img src="img/7522_05_11.jpg" alt="Time for action – clean up your mess with pattern match"/></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec58"/>
<em>What just happened?</em>
</h2></div></div></div><p>
<code class="literal">Git clean</code> needs a <a id="id377" class="indexterm"/> <code class="literal">force</code> (<code class="literal">–f</code>) operator to be specified to remove files that are not monitored by it, <a id="id378" class="indexterm"/> 
 <a id="id379" class="indexterm"/> whereas<strong> </strong>the <code class="literal">–e</code> operator takes a pattern following it and excludes the files matching the specified criteria.</p><p>In our case <code class="literal">*.txt</code> was the pattern, which matched all the <code class="literal">.txt</code> files that were created in the repository as a result of unpacking, therefore the only file left out was the <code class="literal">readme_package.zip</code> file, which got removed.</p><div><div><h3 class="title"><a id="note16"/>Note</h3><p>We can avoid specifying the <code class="literal">–f</code> parameter every time we run a <code class="literal">git clean</code> command if we set the <code class="literal">clean.requireForce</code> configuration variable to <code class="literal">false</code>.</p></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec56"/>Time for action – wipe out your mess completely, no exceptions</h1></div></div></div><p>To remove these files, which have been populated in our repository unwantedly, you just call for a napalm strike on them! That's right, from the earlier command you just exclude the exclusion part.</p><div><pre class="programlisting">
<strong>git clean –f</strong>
</pre></div><p>This should give an output as shown in the following screenshot:</p><div><img src="img/7522_05_12.jpg" alt="Time for action – wipe out your mess completely, no exceptions"/></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec59"/>
<em>What just happened?</em>
</h2></div></div></div><p>The <code class="literal">clean</code> command removes all untracked files from your current repository. The <code class="literal">–f</code> parameter forces <code class="literal">git clean</code> to remove those untracked files from your repository.</p><p>The following is the list of parameters you can put to use with <code class="literal">git clean</code>:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th colspan="2" style="text-align: center" valign="bottom">
<p>Parameter</p>
</th><th style="text-align: left" valign="bottom">
<p>Action description</p>
</th></tr><tr><th style="text-align: left" valign="bottom">
<p>Short form</p>
</th><th style="text-align: left" valign="bottom">
<p>Full form</p>
</th><th style="text-align: left" valign="bottom"> </th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-f</code>
 <a id="id380" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">--force</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Removes untracked files</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-d</code>
 <a id="id381" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>Removes untracked directories along with files</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-n</code>
 <a id="id382" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">--dry-run</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Doesn't remove anything, but show what will be done</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-q</code>
 <a id="id383" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">--quiet</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Stays quiet and only reports errors but not the files that were successfully removed</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">-e&lt;pattern&gt;</code>
 <a id="id384" class="indexterm"/> 
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">--exclude=&lt;pattern&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Excludes the files matching the specified pattern along with the ones specified in <code class="literal">.gitignore</code> (per directory)</p>
</td></tr></tbody></table></div></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec60"/>Tagging</h2></div></div></div><p>Tagging <a id="id385" class="indexterm"/> comes in handy when you want to mark a specific point in your history with some metadata and refer to it henceforth with the same tag. We have two types of tags in Git.</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Lightweight</strong>: This method <a id="id386" class="indexterm"/> of tagging tracks the tag name <a id="id387" class="indexterm"/> alone without worrying about by whom or when the tag was created. This might come in handy when you have only one person working on the files in your repository or if the tags that you create are just for simple reference of different phases that your project files in the repository have gone through.</li><li class="listitem" style="list-style-type: disc"><strong>Annotated</strong>: This method <a id="id388" class="indexterm"/> of tagging tracks the author's name, time of tag creation, <a id="id389" class="indexterm"/> and the tag name with a description, if given. This might come in handy when you want a retracement to be done on the attained milestones or when you have multiple people working on the same repository, and so on.</li></ul></div><div><div><h3 class="title"><a id="note17"/>Note</h3><p>When you use Annotated tags, it is possible for the project owner to maintain authorization access over the tagging process; in advanced setups it is even possible to have control over who tags, when they do, and mark their authorization identity for future reference.</p></div></div><p>Having said enough, let's understand it better by trying it out.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec57"/>Time for action – lightweight/unannotated tagging</h1></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">First, let's list out the <a id="id390" class="indexterm"/> 
 <a id="id391" class="indexterm"/> 
 <a id="id392" class="indexterm"/> 
 <a id="id393" class="indexterm"/> existing tags with the <code class="literal">cappuccino</code> repository by executing <code class="literal">git tag</code> <a id="id394" class="indexterm"/> in your CLI window. This should produce an output like the following:<div><img src="img/7522_05_13.jpg" alt="Time for action – lightweight/unannotated tagging"/></div><p>The supplied <code class="literal">git tag</code> command has retrieved all the tags available in the repository and lists them in alphabetical order.</p></li><li class="listitem">Now let's create a lightweight tag in our <code class="literal">cappuccino</code> repository by executing the following:<div><pre class="programlisting">
<strong>git tag edge_v1.1</strong>
</pre></div><p>If there are no errors returned, your tag should have been created. You can verify it by doing a tag listing, which we learned in the previous step.</p><div><img src="img/7522_05_14.jpg" alt="Time for action – lightweight/unannotated tagging"/></div></li><li class="listitem">Or you can visualize <a id="id395" class="indexterm"/> 
 <a id="id396" class="indexterm"/> 
 <a id="id397" class="indexterm"/> 
 <a id="id398" class="indexterm"/> it by opening gitk, which will give you the following appearance:<div><div><h3 class="title"><a id="note18"/>Note</h3><p>You can open gitk either from Git Gui's repository menu or by just typing <code class="literal">gitk</code> in your CLI window.</p></div></div><div><img src="img/7522_05_15.jpg" alt="Time for action – lightweight/unannotated tagging"/></div></li><li class="listitem">If you want to <a id="id399" class="indexterm"/> 
 <a id="id400" class="indexterm"/> 
 <a id="id401" class="indexterm"/> 
 <a id="id402" class="indexterm"/> browse the changes to the files for a given commit that is tagged, you can either look at the bottom left of the gitk window or use <code class="literal">git show &lt;tagname&gt;</code> as shown in the following line:<div><pre class="programlisting">
<strong>git show edge_v1.1</strong>
</pre></div><p>This will give an output as shown in the following screenshot:</p><div><img src="img/7522_05_16.jpg" alt="Time for action – lightweight/unannotated tagging"/></div></li></ol></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec61"/>
<em>What just happened?</em>
</h2></div></div></div><p>We have <a id="id403" class="indexterm"/> 
 <a id="id404" class="indexterm"/> 
 <a id="id405" class="indexterm"/> 
 <a id="id406" class="indexterm"/> successfully created and attached a lightweight/unannotated tag to a specific commit. We also learned to list out all the tags available in the repository and if needed, view granular level changes associated with any given tag.</p><p>We read about referencing a commit with the tag names instead of the commit SHA1 ID. Let's understand what this means, practically.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec58"/>Time for action – referencing tags</h1></div></div></div><p>We have learned <code class="literal">git checkout</code> <a id="id407" class="indexterm"/> as a function to travel back in history. As you know, this <a id="id408" class="indexterm"/> process needs the SHA1 ID of the commit, which you would like to visit. Now let's see how it can be done when it comes to handling tags. Type the following commands in your CLI window:</p><div><pre class="programlisting">
<strong>git checkout 2e361b44</strong>
<strong>git checkout edge_v1.1</strong>
</pre></div><p>This should give you an output as shown in the following screenshot:</p><div><img src="img/7522_05_17.jpg" alt="Time for action – referencing tags"/></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec62"/>
<em>What just happened?</em>
</h2></div></div></div><p>We checked <a id="id409" class="indexterm"/> out <a id="id410" class="indexterm"/> to a commit made at an earlier date using the usual checkout (<code class="literal">git checkout SHA1 ID</code>) method but came back to the latest commit with the usage of the tag name associated with the commit (<code class="literal">edge_v1.1</code>).</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec59"/>Time for action – annotated tagging</h1></div></div></div><p>Having learned the method for <a id="id411" class="indexterm"/> creating an unannotated/lightweight tag, the process of creating an annotated tag is as simple as adding the <code class="literal">–a</code> parameter to it. Let's type the following in the CLI window:</p><div><pre class="programlisting">
<strong>git tag –a ann_v1.1 –m 'Annotated tag v1.1'</strong>
</pre></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec63"/>
<em>What just happened?</em>
</h2></div></div></div><p>If the command does not return any error upon execution, it indicates that your annotated command has been created successfully. We have created an annotated tag called <code class="literal">Ann_v1.1</code>. Here <code class="literal">–a</code> denotes the annotated tag name and <code class="literal">–m</code> takes a string value as the description for the created tag.</p><div><div><h3 class="title"><a id="note19"/>Note</h3><p>Note that we have created both the annotated and unannotated tag for the same commit so that they can be compared later.</p></div></div><div><div><div><div><h3 class="title"><a id="ch05lvl3sec08"/>Simple exercise</h3></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">To verify the creation process, do a tag listing and verify that the tag that you created exists there.</li><li class="listitem">Check out the content changes associated with the commit for which you have created an annotated tag.</li></ol></div><p>To understand the difference between the lightweight and annotated tag, their outputs are shown side by side.</p><div><img src="img/7522_05_18.jpg" alt="Simple exercise"/></div><p>While creation differs a little bit, the procedure for the deletion of both the annotated and unannotated tags is identical. You just associate the <code class="literal">–d</code> parameter followed by the tag name as follows:</p><div><pre class="programlisting">
<strong>git tag –d edge_v1.1</strong>
<strong>git tag –d Ann_v1.1</strong>
</pre></div><p>This should produce an affirmation as shown in the following screenshot:</p><div><img src="img/7522_05_19.jpg" alt="Simple exercise"/></div></div></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec64"/>
<em>What just happened?</em>
</h2></div></div></div><p>We just deleted the tags <code class="literal">edge_v1.1</code> and <code class="literal">Ann_v1.1</code>, which we created in the process of learning about tags inside the <code class="literal">cappuccino</code> repository.</p><p>The <code class="literal">–d</code> parameter will delete the tag whose name is passed as an argument to it, irrespective of it being an annotated or unannotated tag. You can perform a tag list to verify this as shown in the previous image after the deletion.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec60"/>Summary</h1></div></div></div><p>We have learned what is and how to:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Use shortlog:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">To sort and quantify commits made per author</li><li class="listitem" style="list-style-type: disc">To summarize commit logs</li><li class="listitem" style="list-style-type: disc">To get metadata like e-mail addresses for each author performing commits to our repository</li></ul></div></li><li class="listitem" style="list-style-type: disc">Use different parameters with <code class="literal">git log</code>, which enables us to:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Skip the specified number of commits while displaying log entries</li><li class="listitem" style="list-style-type: disc">Extract data from commit logs within a date range</li><li class="listitem" style="list-style-type: disc">Search for a string value across commit messages to identify commits</li></ul></div></li></ul></div><p>Additionally, we have also learned how to clean our repository in case we or anybody else has messed it up by injecting files into it that do not belong there.</p><p>Not only that, we also saw, in practice, how to mark the milestones of our repositories' content using annotated and lightweight tags.</p></div></body></html>