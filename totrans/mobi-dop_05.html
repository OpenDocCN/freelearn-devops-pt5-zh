<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Implementing Automatic Testing Using Xamarin</h1>
                </header>
            
            <article>
                
<p>In today's world of fast-paced development and frequent distribution, an application needs to be delivered as fast as possible and the development lifecycle must be reduced to meet this goal of fast delivery. Testing is one of the most important aspects of software development.</p>
<p>In the case of mobile applications, they need to be tested on all possible supported devices to make sure they deliver smoothly on all targeted devices.</p>
<p>Let's have a look at the topics we'll be learning in this chapter:</p>
<ul>
<li>Importance of automation testing in the DevOps cycle</li>
<li>Writing automatic UI tests with <strong>Xamarin.UITest</strong></li>
<li>Using Xamarin Test Cloud to test an application on multiple physical devices</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Understanding the importance of automation testing in the DevOps cycle</h1>
                </header>
            
            <article>
                
<p>Testing is one of the most important factors when it comes to application development. Developers do their best to develop a sophisticated application that runs smoothly. But there are always scenarios that developers cannot think of, just because they can only be tested when the application is used with the mindset of an end user.</p>
<p>While developers are working hard to develop the application, it is crucial for the application to be tested with the user in mind, and to test things a developer wouldn't think of.</p>
<p>Testers are there to make sure that the application performs as intended, and that one feature does not affect the other features in an application.</p>
<p>While it is great to have manual testers testing the application, and it does make sure that the application is tested and used as an end user would actually use it in the real world, it is not always the best choice to only have manual testers test the application.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Testing a mobile application</h1>
                </header>
            
            <article>
                
<p>With a web application or a desktop application, the number of platform versions and devices to test with is very low.</p>
<p>It is always simpler to have manual testers test the application, find out the shortcomings and defects in an application, and notify the developers.</p>
<p>But when it comes to mobile applications, the story completely changes.</p>
<p>If we only talk about an Android application, for example, let's have a look at the number of challenges in testing.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Challenges in testing a mobile application</h1>
                </header>
            
            <article>
                
<p>There are many challenges when it comes to testing a mobile app:</p>
<ul>
<li>Testing against a real environment</li>
<li>Deploying and testing frequently</li>
<li>Continuous feedback</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Testing against a real environment</h1>
                </header>
            
            <article>
                
<p>The most important thing for mobile developers is that the final app works across all target devices. Using emulators or simulators is fine in the earliest phase of development, but when the app becomes more sophisticated and is about to get released to the market, the only acceptable way is to test mobile apps on real devices:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/03a0fb50-b68a-470c-af13-a0b757238b71.png" style=""/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Deploy and test frequently</h1>
                </header>
            
            <article>
                
<p>Mobile applications are updated almost every week, or at least twice a month. So, they need to be tested even more frequently.</p>
<p>Mobile applications should be tested with every nightly build, so defects can be recognized earlier and fixed sooner. Testing the same feature again and again efficiently and frequently might not be the best solution, and can slow down the process of delivery. If we have automation in place for repeated tasks, that can save a lot of time to market. Continuous development and testing enables companies to deliver to market.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Continuous feedback</h1>
                </header>
            
            <article>
                
<p>Continuous feedback goes along with frequently deploying and testing the application. As we have learned, the manual process of completing repetitive tasks takes up a lot of our time that can and should be saved in order to deliver to market faster. In the same way, getting continuous feedback from testing and production is very important to the quality of the application:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/d69a369e-9a49-4b04-acb2-a50dc1922d35.png" style=""/></div>
<p>To overcome all these challenges in mobile application testing, we need to adopt a DevOps mindset, make testing an automated and integrated part of our development cycle, and have it happen on each build automatically (and give feedback to developers so they can take action in the early stages of development).</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Writing tests with Xamarin.UITest</h1>
                </header>
            
            <article>
                
<p>Before we start writing UI tests with Xamarin.UITest, it is good to have a brief look at what unit testing is and how Xamarin.UITest is going to help us achieve our goal of automated testing for our mobile application.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Xamarin.UITest</h1>
                </header>
            
            <article>
                
<p>Xamarin.UITest is a testing framework based on a popular test library in C#, <strong>NUnit</strong>. If you have used NUnit in your C# projects previously for unit testing, it will be really helpful to understand Xamarin.UITest faster. But if you don't have prior experience in NUnit, it's absolutely fine.</p>
<p>It is basically a set of libraries for C# (similar to JUnit for Java) to help write unit tests.</p>
<p>And by using UITest, we will be writing UI tests for our mobile application.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Fundamentals of UITest</h1>
                </header>
            
            <article>
                
<p>UITest, or in general any NUnit-based test, has a defined structure to follow:</p>
<ul>
<li><strong>Test fixture</strong>: Test fixture is a class containing tests, and it also does the initial setup for any test to be executed or any task that needs to be done after the test has finished executing</li>
<li><strong>Test</strong>: UITest is written as a method inside the test fixture class</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Understanding the AAA pattern</h1>
                </header>
            
            <article>
                
<p><strong>The Arrange-Act-Assert</strong> (<strong>AAA</strong>) pattern should be followed when writing a UITest, to achieve the best results and fast feedback from the test. As the name suggests, it consists of three steps:</p>
<ul>
<li><strong>Arrange</strong>: Eponymously, this step contains all the actions that help arrange the test, for example, initialization of things required later while running the test, setting up the environment, and much more.</li>
<li><strong>Act</strong>: This is when the test performs the desired interaction with the application, such as entering text, pushing a button, and so on.</li>
<li><strong>Assert</strong>: Assert is when our UITest asserts whether the interaction gave us the desired outcome or not, such as verifying that an error message was displayed.</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding a UITest project to Solution</h1>
                </header>
            
            <article>
                
<p>Let's get back to Visual Studio and set up a new test project to write Xamarin.UITest:</p>
<ol>
<li>Right-click on <span class="packt_screen">Solution</span> | <span class="packt_screen">Add</span> | <span class="packt_screen">New Project</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/db1aee05-a673-41ed-8924-241ee388cfb8.png" style=""/></div>
<ol start="2">
<li>In the <span class="packt_screen">Add New Project</span> window, click on <span class="packt_screen">Test</span> from the left section and then select <span class="packt_screen">UI Test App (Xamarin.UITest | Android)</span>, because we are going to write a test for our Android application. Give this project a name in the <span class="packt_screen">Name</span> section and click <span class="packt_screen">OK</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/a824af11-9c0d-41f2-b9d4-f2de6fb9a513.png"/></div>
<ol start="3">
<li>Visual Studio will create a new test project now. Once it is done, you should be able to see a new project created under <span class="packt_screen">Solution</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/6b863493-1f03-4531-a25c-b3912f96ac98.png" style=""/></div>
<ol start="4">
<li>This new test project that we created through the Android Test Project template should also include the necessary Nuget packages required to run Xamarin.UITest. Those packages are:
<ul>
<li>NUnit</li>
<li>NUnit Test Adapter, to run UITests locally</li>
<li>Xamarin.UITest, the framework we'll use to write tests</li>
</ul>
</li>
</ol>
<p style="padding-left: 60px">These are available in the form of Nuget packages, but usually come with the template we used to create the UITest project.</p>
<ol start="5">
<li>To make sure these required packages are available and installed, right-click on the <span class="packt_screen">UITest</span> project and click on <span class="packt_screen">Manage Nuget Packages</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/0eea6fec-d259-4669-9bd5-6d443dec502a.png"/></div>
<ol start="6">
<li>On the next screen, you should be able to see the packages listed:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/7365c741-3df5-4c31-ac25-9764a769a2b1.png" style=""/></div>
<ol start="7">
<li>Visual Studio suggests an update for the NUnit package to 3.X.X, but don't update NUnit because Xamarin.UITest does not work with NUnit 3.x. At the time of writing, it is compatible with 2.6.x. Also, because a version of Test Adapter is specific to a version of NUnit framework, it's better not to update Test Adapter either.</li>
<li>Next, we need to add a reference to the application project, so the UITest project can build and run the application.</li>
<li>Right-click on <span class="packt_screen">References</span> under the <span class="packt_screen">UITest</span> project and click on <span class="packt_screen">Add Reference</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/e8762ea6-5aa7-49aa-8595-670ed07b92ad.png"/></div>
<ol start="10">
<li>On the next screen, select <span class="packt_screen">Projects</span> from the left section, then select <span class="packt_screen">PhoneCallApp</span> (the application project we want to test), and click <span class="packt_screen">OK</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/106780e7-3649-42d6-9e1b-7ed090281009.png"/></div>
<ol start="11">
<li>Once you have added the application project, you should be able to see the reference added in <span class="packt_screen">Solution Explorer</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/e8040405-5ab9-43e2-8e34-d46f90efadbc.png" style=""/></div>
<ol start="12">
<li>As the application project and the <span class="packt_screen">UITest</span> project are under the same solution, it is enough to add a reference to the application project, as shown in the previous step. But if you want to have both projects in different solutions, or if you want to test the application on Android 6.0, then Visual Studio requires you to supply the path to the APK in your system.</li>
<li>To give this path, open the <kbd>Tests.cs</kbd> file under the <span class="packt_screen">UITest</span> project:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/75c2f39e-2110-4295-85da-216e2c870df2.png" style=""/></div>
<ol start="14">
<li>In <kbd>Tests.cs</kbd>, uncomment the <kbd>.ApkFile()</kbd> code, as shown in the following screenshot:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/3fa4e94e-6b21-4fb1-bbeb-4241f9906d60.png"/></div>
<ol start="15">
<li>Change the path to the <kbd>.apk</kbd> file path, which can be found inside the <kbd>bin</kbd> folder of your application project. If you are not able to see the file there, try deploying the application once and then it should be created in <kbd>bin</kbd> | <kbd>debug</kbd> or <kbd>bin</kbd> | <kbd>release</kbd>, depending on your build configuration.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Tests.cs</h1>
                </header>
            
            <article>
                
<p>This file is the default file that gets created when we add the <span class="packt_screen">UITest</span> project in the solution through the Xamarin.UI Android Test Project template, and we will be writing our UI tests in this file. There are certain things to note in this file:</p>
<ul>
<li><kbd>[TextFixture]</kbd>: This is an annotation added to the <kbd>Tests</kbd> class that tells the UITest framework that this class contains tests to be run.</li>
<li><kbd>[Setup]</kbd>: Each class containing tests needs to set up an initial configuration, as with the APK file path in the previous section. This is added to the <kbd>BeforeEachTest()</kbd> method and tells the framework to run this method and perform the initial setup before running the test.</li>
<li><kbd>[Test]</kbd>: This annotation identifies the method that contains the test.</li>
</ul>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/cd072502-df5e-4af0-958d-114ad9bc6bd3.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Recall the application code</h1>
                </header>
            
            <article>
                
<p>Let's rewind to some of the things we wrote during application development.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Elements in the PhoneCallApp</h1>
                </header>
            
            <article>
                
<ul>
<li>Textbox to enter phone number</li>
<li><span class="packt_screen">CALL</span> button to call</li>
<li>A text that gets displayed if the user taps on the <span class="packt_screen">CALL</span> button without entering a number</li>
<li>A confirmation dialog box that appears when user taps on the <span class="packt_screen">CALL</span> button after entering a number</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">User interactions in the PhoneCallApp</h1>
                </header>
            
            <article>
                
<ol>
<li>Enter a number in the text box</li>
<li>Tap the <span class="packt_screen">CALL</span> button</li>
<li>Tap on <span class="packt_screen">OK</span> or <span class="packt_screen">Cancel</span> in the confirmation dialog box</li>
</ol>
<p>Open the <kbd>MainActivity.cs</kbd> file from the <span class="packt_screen">PhoneCallApp</span> project and you'll notice that we are showing a toast if the entered number string is empty:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/f2d0d4ff-0344-4164-8327-1b49a777f39b.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Steps to include in the test</h1>
                </header>
            
            <article>
                
<p>To write an efficient test, certain steps should be followed, based on the AAA pattern discussed earlier:</p>
<ul>
<li><strong>Configure and start the application (Arrange)</strong>: We need not write this step because that part is already taken care of in the <kbd>BeforeEachTest()</kbd> method:</li>
</ul>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/92e19bba-540b-45dd-b9d1-06cc8ea5db79.png"/></div>
<ul>
<li><strong>Perform an interaction with some element on the screen (Act)</strong>: We'll have to write code to enter text or tap on the <span class="packt_screen">CALL</span> button</li>
<li><strong>Verify the desired output (Assert)</strong>: We need code to verify the interaction gives us the desired output</li>
</ul>
<p>As we can see, the first step of the test is already done, and now we need to write the next steps, which include performing interaction with the <span class="packt_screen">CALL</span> button and then verifying the desired output.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Writing your first UITest</h1>
                </header>
            
            <article>
                
<p>It's time to finally write our new UITest, inside <kbd>Tests.cs</kbd> under the <span class="packt_screen">UITest</span> project, to test the test case described earlier:</p>
<ol>
<li>Write a new method under the <kbd>Tests.cs</kbd> class with an annotation <kbd>[Test]</kbd>, as described earlier:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/d27c2bc3-40f9-4092-b344-fc4c400575be.png" style=""/></div>
<ol start="2">
<li>Write code to take a screenshot of the application once it loads:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/bedcc5d0-ac6c-451c-bcb7-27c863442b6a.png" style=""/></div>
<ol start="3">
<li>Then, as mentioned in <em>step 2</em>, perform an interaction, that is, write code to tap the <span class="packt_screen">CALL</span> button:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/98c8d3c7-1632-4cc2-bc3a-6ff212db3907.png" style=""/></div>
<p style="padding-left: 60px">In the preceding code, we are using the <kbd>AndroidApp.Tap()</kbd> method to perform the tap and the <kbd>AppQuery.Id()</kbd> method to identify the <span class="packt_screen">CALL</span> button, then passing that app query inside the <kbd>Tap</kbd> button so that it knows where to tap.</p>
<ol start="4">
<li>Again, let's take a screenshot of the button being pressed:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/587ba21c-d948-4f93-ba6d-f72824cff20e.png" style=""/></div>
<ol start="5">
<li>The next step is to verify the behavior is as desired. In <span class="packt_screen">PhoneCallApp</span>, verify that the toast saying <kbd>Please provide number</kbd> appears:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/a43fa736-661c-4146-aa3c-6fc120f3c6ed.png" style=""/></div>
<p style="padding-left: 60px">In the preceding code, we have used the <kbd>AndroidApp.Query()</kbd> method to query the UI screen for an element, and we have passed the <kbd>AppQuery.Marked()</kbd> method with the content of our toast to be identified.</p>
<p style="padding-left: 60px">The <kbd>Marked()</kbd> method is similar to the <kbd>Id()</kbd> method but it searches for an element with a given string as either its ID or its content, and in our case it is the content of the toast.</p>
<ol start="6">
<li>Now, we need to verify that the toast with the provided string <kbd>Please provide number</kbd> has been found; the <kbd>Assert.IsTrue()</kbd> method will verify the element has been found by checking for the result array:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/7da2e81e-b485-4abd-b656-d366b0b9762d.png" style=""/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Running your test on your local machine</h1>
                </header>
            
            <article>
                
<p>Now that we have completed writing the <span class="packt_screen">UITest</span> inside the <kbd>Tests.cs</kbd> class file, it's time to run the test on your local machine:</p>
<ol>
<li>Rebuild your solution with the build configurations of your device or emulator:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/c8106ca5-de5f-426f-9525-026a60f66d67.png" style=""/></div>
<ol start="2">
<li>Before we run test, let's deploy the solution to generate the <kbd>.apk</kbd> file:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/16b28d04-20f0-4eb1-b068-0283192ed5e1.png"/></div>
<ol start="3">
<li>Once the deploy is successful, click on <span class="packt_screen">Test</span> | <span class="packt_screen">Windows</span> | <span class="packt_screen">Test Explorer</span>, as shown in the following screenshot:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/aac99465-6b03-4241-ae08-024f3918f8a0.png" style=""/></div>
<ol start="4">
<li>In <span class="packt_screen">Test Explorer</span>, NUnit should identify the test we have written in the <kbd>Tests.cs</kbd> file because of the <kbd>[Test]</kbd> fixture:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/8dbe3b9d-53c1-433a-910e-3227761d5ed4.png" style=""/></div>
<ol start="5">
<li>As shown in the previous screenshot, in <span class="packt_screen">Test Explorer</span> click on the <span class="packt_screen">Run All</span> button to run all the tests. If everything goes fine, you should see the <span class="packt_screen">Passed Tests</span> message in <span class="packt_screen">Test Explorer</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/adb7f432-ca1f-4e06-9c6f-b7a9061e62d1.png" style=""/></div>
<ol start="6">
<li>Awesome, you have successfully written and run the test on your local machine. Next, we'll learn about Xamarin Test Cloud and how to use it to run our UI tests on multiple physical devices.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Using Xamarin Test Cloud to test on multiple devices</h1>
                </header>
            
            <article>
                
<p>Mobile application users are very demanding in terms of the quality and performance of an application. Platforms such as app stores, where users can promptly give feedback as they wish, make it even more important to take mobile application quality seriously:</p>
<ul>
<li><strong>Question</strong>: How can we test a mobile application effectively?</li>
<li><strong>Answer</strong>: By running the application on a real device and using it like a user would do</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Challenges in mobile app testing</h1>
                </header>
            
            <article>
                
<p>Mobile application testing involves many challenges that web applications don't have.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Different mobile OS versions</h1>
                </header>
            
            <article>
                
<p>Let's take Android, for example. Since Android started, it has grown at a very fast rate, with a new major release every year. That makes around 15 major versions out there in the market, out of which at least 6 versions are widely used in different parts of the world, depending on the region and smartphone availability.</p>
<p>These are only the major versions we are talking about; the minor versions are way too many to count.</p>
<p>Considering this situation, it is almost impossible for a quality assurance team to test the application and guarantee it will work on all the targeted devices out there.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Devices with different screen sizes</h1>
                </header>
            
            <article>
                
<p>We are all aware that the number of devices is increasing every day  but older devices still continued to be used, with different screen sizes from 4.0 inches to 6.5 inches (some are even bigger).</p>
<p>Mobile applications can behave differently on different screen sizes and resolutions. If not developed properly, this can drastically change the look of an app from a device used for development to the device a real user is using.</p>
<p>So, testing on multiple devices with various screen sizes becomes a very important aspect of mobile app testing. To an extent, this can be done by getting all possible device sizes and testing the application on them, but in turn this can increase the cost to a very high level and can be very time-consuming.</p>
<p>Solving challenges like these in a cost- and quality-effective way is only possible by using cloud test platforms that enable us to run tests on multiple devices simultaneously. All the devices on these cloud platforms are physical devices, not emulators, and they also provide instant feedback and support multiple testing frameworks, including NUnit.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Introduction to Xamarin Test Cloud</h1>
                </header>
            
            <article>
                
<p>Xamarin Test Cloud is a cloud-based platform that provides tools to support the automated testing of mobile applications across various different devices, also known as <strong>UI Acceptance Testing</strong>. This enables us to ensure that the application performs correctly and efficiently across multiple devices with minimal effort.</p>
<p>It also helps shift the testers' focus from repeating the same tests on multiple devices, and helps them focus on verifying that the app works as expected on the test cloud.</p>
<p>The Xamarin Test Cloud family consists of the following parts:</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Xamarin.UITest</h1>
                </header>
            
            <article>
                
<p>It is a testing framework based on the very popular NUnit test libraries. If you have used NUnit in your C# projects before for unit testing, it will be really helpful to understand Xamarin.UITest faster. But if you don't have prior experience in NUnit, it's absolutely fine.</p>
<p><span>Xamarin.UITest</span> is basically a set of libraries for C# (similar to JUnit for Java) to help write unit tests.</p>
<p>Xamarin also supports the <strong>Calabash</strong> framework for writing tests, if you want to write them in Ruby and Cucumber.</p>
<p>We'll be focusing on Xamarin.UITest to write tests in C# for continuous testing.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Test Cloud</h1>
                </header>
            
            <article>
                
<p>This is a cloud-based platform consisting of thousands of physical devices. Users can upload apps and tests written in Xamarin.UITest to Test Cloud; it will then install the apps on the available or chosen devices and run the given tests on them. Once tests are complete, results are then available to users to analyze and verify the behavior of the application.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Xamarin Test Recorder</h1>
                </header>
            
            <article>
                
<p>This is another application in the Test Cloud ecosystem and helps write Xamarin.UITest.</p>
<p>It basically allows you to plug the device in, run the test manually on the device, and then it writes all the test code for you by recording your actions on the application.</p>
<p>We will not be covering Test Recorder, but rather will learn how to write UI tests with Xamarin.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Using Xamarin Test Cloud as part of continuous integration</h1>
                </header>
            
            <article>
                
<p>Xamarin Test Cloud helps us achieve continuous integration with automated test executions on every build, on a build server such as TeamCity, and, after executing the tests, gives feedback directly to developers:</p>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/23b26b3f-ba6c-4f94-92cc-92d12c90666d.png" style=""/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating users and organizations on Test Cloud</h1>
                </header>
            
            <article>
                
<p>Let's start by creating an account on Xamarin Test Cloud:</p>
<ol>
<li>Go to <a href="https://testcloud.xamarin.com/register"><span class="URLPACKT">https://testcloud.xamarin.com/register</span></a> to register a new account:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/4cf1404a-9807-4620-9055-5b0aad76bc92.png" style=""/></div>
<p style="padding-left: 60px">Enter your details and click the <span class="packt_screen">Continue</span> button to start the process. The process requires you to register with a company email; a Gmail or Yahoo email will not work.</p>
<ol start="2">
<li>On the next screen, enter your organization's details and click on <span class="packt_screen">Get started</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/8034f5ea-61b3-4e65-acae-2589e9aa12a3.png" style=""/></div>
<ol start="3">
<li>In the next step, accept the terms and conditions to complete registration:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/81ec1db9-1c38-44f7-a16e-07c338573021.png" style=""/></div>
<ol start="4">
<li>After completing registration, make sure you verify your email address before beginning testing.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Users and organizations</h1>
                </header>
            
            <article>
                
<p>Xamarin Test Cloud, being a continuous testing cloud platform, supports an organization structure to give access, make APIs, and run tests through the use of access keys.</p>
<p>It makes it much easier to separate team-based applications in an organization.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Test Cloud hierarchy</h1>
                </header>
            
            <article>
                
<p>The Test Cloud hierarchy structure is quite simple and easy to follow:</p>
<ul>
<li><strong>Organization</strong>: An organization is basically the top level at which the subscription is managed for Test Cloud, and it is created when a person from an organization first creates an account on Xamarin Test Cloud.</li>
<li><strong>Administrators</strong>: Each organization will have at least one administrator, who creates teams and can manage users.</li>
<li><strong>Team</strong>: A team usually has at least one application and some users working on that application. Each team gets their own API keys to access and run tests on the application:</li>
</ul>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/7294fed6-297f-4779-b888-a45f15c3de0d.png" style=""/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating a team</h1>
                </header>
            
            <article>
                
<p>To create a team in Xamarin Test Cloud, follow these steps:</p>
<ol>
<li>Click on your profile and then click on <span class="packt_screen">Account settings</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/07b1d5b7-a2e2-44cb-9140-7159d932678c.png" style=""/></div>
<ol start="2">
<li>Click on <span class="packt_screen">Teams &amp; Apps</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/aebc4440-8220-4f69-a3bb-3c41ab861604.png" style=""/></div>
<ol start="3">
<li>Then, click on the <span class="packt_screen">New team</span> button to add a new team:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/b6bba5fe-5d6f-4e27-9663-298503414cb2.png" style=""/></div>
<ol start="4">
<li>To edit team details, such as the team name, and add new members, click on the settings (gear) icon as shown in the following screenshot:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/02b87ae6-38fd-4b24-983b-9a7020ff62de.png" style=""/></div>
<ol start="5">
<li>After adding new members to the team, you can manage permissions for users:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/c222d9e2-c747-45d4-907a-52eef48b83f0.png"/></div>
<ol start="6">
<li>Once the team details, members, and their permissions are all set up, click on <span class="packt_screen">Done</span>.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating a test run for your application</h1>
                </header>
            
            <article>
                
<p>Now that we have added a team and members to it, it's time to add our application test run to it as well. To create a test run for <span class="packt_screen">PhoneCallApp</span>, follow these steps:</p>
<ol>
<li>In Xamarin Test Cloud, click on <span class="packt_screen">New Test Run</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/b4df4e6b-c356-4d56-a71c-894d312af2f3.png" style=""/></div>
<ol start="2">
<li>This will open a self-guiding dialog box, where we can select the platform and choose devices.</li>
</ol>
<ol start="3">
<li>In the first step in the dialog box, select <span class="packt_screen">I'm testing an Android app</span> and click <span class="packt_screen">Next</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/333ab789-64fd-469e-a7e1-a26d6383de0b.png"/></div>
<ol start="4">
<li>Select appropriate devices to run your application on and go to the next step:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/a712d38e-e756-4a55-b857-02c58fb21c7e.png"/></div>
<ol start="5">
<li>Select an appropriate <span class="packt_screen">Test series</span>, or you can create a new one, select the language, and click <span class="packt_screen">Next</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/899a8c02-6338-4f73-841f-24c171b46dd8.png"/></div>
<ol start="6">
<li>Select <span class="packt_screen">UITest</span> on the next screen and click on <span class="packt_screen">Running on Windows</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/fd19f80c-1b3e-460c-982a-043b65f16168.png"/></div>
<ol start="7">
<li>This page gives us a command with a device ID according the devices we selected in previous steps. As it says, please update the directory path to the <kbd>.apk</kbd> test assembly <kbd>bin</kbd> folder, and then run the command in the <kbd>root</kbd> folder of the application.</li>
<li>Before you upload your application to Xamarin Test Cloud, it is important to build your application in the Release build configuration.</li>
<li>Once you have built the project with Release, you are ready to upload your application to Xamarin and run the UI tests there. Use the command and modify the Xamarin.UITest.xxx version and then the APK file name, with the full path to the <kbd>apk</kbd> and the relative path to the <kbd>UITest</kbd> folder, as shown in the following screenshot. Then run it from the <kbd>root</kbd> directory of your project:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/f9fad212-4725-4bf8-bc3c-0072b3dc9987.png"/></div>
<ol start="10">
<li>Congratulations, you have uploaded your first application to Xamarin Test Cloud with a test! After uploading the application, Xamarin Test Cloud should run the tests provided.</li>
</ol>
<ol start="11">
<li>Go to the <span class="packt_screen">Xamarin test cloud</span> web interface and notice that the application is now visible in the dashboard:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/9c4cf2fa-778b-4392-927f-e0893f2eeaa3.png"/></div>
<ol start="12">
<li>Click on the application to see the tests running on the devices we selected in step 4:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign" style="color: black;font-size: 1em"><img src="assets/d3797a2a-58c7-4871-a06c-cf0b4b85d48b.png"/></div>
<p style="padding-left: 60px">You can further click on the test link and see more details about the tests and their statuses.</p>
<ol start="13">
<li>This completes running your first test run on Xamarin Test Cloud, where you can test your application on multiple physical devices available in the cloud.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we learned the importance of continuous testing in the application development cycle. We also learned about Xamarin.UITest and how to write automated UI tests for acceptance-testing our application, and we got familiar with Xamarin Test Cloud, which is useful for continuous testing on multiple physical devices.</p>
<p>In the coming chapters, you'll learn more about continuous integration and continuous delivery using various tools.</p>


            </article>

            
        </section>
    </body></html>