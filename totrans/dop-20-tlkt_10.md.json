["```\nvagrant up cd prod\n\n```", "```\n- hosts: prod\n remote_user: vagrant\n serial: 1\n sudo: yes\n roles:\n - common\n - docker\n - docker-compose\n - consul\n - registrator\n - consul-template\n - nginx\n\n```", "```\nvagrant ssh cd\nansible-playbook /vagrant/ansible/prod2.yml \\\n -i /vagrant/ansible/hosts/pro\nd\n\n```", "```\nwget https://raw.githubusercontent.com/vfarcic\\\n/books-ms/master/docker-compose.yml\nexport DOCKER_HOST=tcp://prod:2375\ndocker-compose up -d app\n\n```", "```\ncurl prod:8500/v1/catalog/services | jq '.'\ncurl prod:8500/v1/catalog/service/books-ms | jq '.'\n\n```", "```\n{\n  \"dockerui\": [],\n  \"consul\": [],\n  \"books-ms\": []\n}\n```", "```\n[\n {\n \"ModifyIndex\": 27,\n \"CreateIndex\": 27,\n \"Node\": \"prod\",\n \"Address\": \"10.100.198.201\",\n \"ServiceID\": \"prod:vagrant_app_1:8080\",\n \"ServiceName\": \"books-ms\",\n \"ServiceTags\": [],\n \"ServiceAddress\": \"10.100.198.201\",\n \"ServicePort\": 32768,\n \"ServiceEnableTagOverride\": false\n }\n]\n\n```", "```\ncurl http://prod/api/v1/books\n\n```", "```\nExit\nvagrant ssh prod\nwget https://raw.githubusercontent.com/vfarcic\\\n/books-ms/master/nginx-includes.conf \\\n -O /data/nginx/includes/books-ms.conf\nwget https://raw.githubusercontent.com/vfarcic\\\n/books-ms/master/nginx-upstreams.ctmpl \\\n -O /data/nginx/upstreams/books-ms.ctmpl\nconsul-template \\\n -consul localhost:8500 \\\n -template \"/data/nginx/upstreams/books-ms.ctmpl:\\\n/data/nginx/upstreams/books-ms.conf:\\\ndocker kill -s HUP nginx\" \\\n -once\n\n```", "```\nexit\nvagrant ssh cd\ncurl -H 'Content-Type: application/json' -X PUT -d \\\n \"{\\\"_id\\\": 1,\n \\\"title\\\": \\\"My First Book\\\",\n \\\"author\\\": \\\"John Doe\\\",\n \\\"description\\\": \\\"Not a very good book\\\"}\" \\\n http://prod/api/v1/books | jq '.'\ncurl http://prod/api/v1/books | jq\n '.'\n\n```", "```\ngit clone https://github.com/vfarcic/books-ms.git\ncd books-ms\ndocker-compose \\\n -f docker-compose-dev.yml \\\n run --rm \\\n -e DOMAIN=http://10.100.198.201 \\\n integ\n\n```", "```\n[info] Loading project definition from /source/project\n[info] Set current project to books-ms (in build file:/source/)\n[info] Compiling 2 Scala sources to /source/target/scala-2.10/classes...\n[info] Compiling 2 Scala sources to /source/target/scala-2.10/test-classes...\n[info] ServiceInteg\n[info]\n[info] GET http://10.100.198.201/api/v1/books should\n[info] + return OK\n[info]\n[info] Total for specification ServiceInteg\n[info] Finished in 23 ms\n[info] 1 example, 0 failure, 0 error\n[info] Passed: Total 1, Failed 0, Errors 0, Passed 1\n[success] Total time: 27 s, completed Sep 17, 2015 7:49:28 PM\n\n```", "```\ndocker push 10.100.198.200:5000/books-\nms-tests\n\n```", "```\nexit\nvagrant destroy -f\n\n```"]