["```\nmodule \"monolith_application\" {\n  source = \"github.com/giuseppeborgese/effective_devops_with_aws__second_edition//terraform-modules//monolith-playground\"\n  my_vpc_id = \"${var.my_default_vpcid}\"\n  my_subnet = \"subnet-54840730\"\n  my_ami_id = \"ami-04681a1dbd79675a5\"\n  my_pem_keyname = \"effectivedevops\"\n}\n```", "```\nterraform init -upgrade\nterraform plan -out /tmp/tf11.out -target module.monolith_application\nterraform apply apply /tmp/tf11.out\n```", "```\nApply complete! Resources: 3 added, 0 changed, 0 destroyed.\nOutputs:\nmonolith_url = http://54.209.174.12/visits\n```", "```\nyum -y install httpd mariadb.x86_64 mariadb-server java\n\nsystemctl start mariadb\nchkconfig httpd on\nchkconfig mariadb on\nsystemctl restart httpd\n```", "```\necho \"<VirtualHost *>\" > /etc/httpd/conf.d/tomcat-proxy.conf\necho \" ProxyPass /visits http://localhost:8080/visits\" >> /etc/httpd/conf.d/tomcat-proxy.conf\necho \" ProxyPassReverse /visits http://localhost:8080/visits\" >> /etc/httpd/conf.d/tomcat-proxy.conf\necho \"</VirtualHost>\" >> /etc/httpd/conf.d/tomcat-proxy.conf\n```", "```\nmysql -u root -e \"create database demodb;\"\nmysql -u root -e \"CREATE TABLE visits (id bigint(20) NOT NULL AUTO_INCREMENT, count bigint(20) NOT NULL, version bigint(20) NOT NULL, PRIMARY KEY (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;\" demodb\nmysql -u root -e \"INSERT INTO demodb.visits (count) values (0) ;\"\nmysql -u root -e \"CREATE USER 'monty'@'localhost' IDENTIFIED BY 'some_pass';\"\nmysql -u root -e \"GRANT ALL PRIVILEGES ON *.* TO 'monty'@'localhost' WITH GRANT OPTION;\"\n```", "```\nrunuser -l ec2-user -c 'cd /home/ec2-user ; curl -O https://raw.githubusercontent.com/giuseppeborgese/effective_devops_with_aws__second_edition/master/terraform-modules/monolith-playground/demo-0.0.1-SNAPSHOT.jar'\nrunuser -l ec2-user -c 'cd /home/ec2-user ; curl -O https://raw.githubusercontent.com/giuseppeborgese/effective_devops_with_aws__second_edition/master/terraform-modules/monolith-playground/tomcat.sh'\ncd /etc/systemd/system/ ; curl -O https://raw.githubusercontent.com/giuseppeborgese/effective_devops_with_aws__second_edition/master/terraform-modules/monolith-playground/tomcat.service\nchmod +x /home/ec2-user/tomcat.sh\nsystemctl enable tomcat.service\nsystemctl start tomcat.service\n```", "```\nresource \"aws_security_group\" \"rds\" {\n  name = \"allow_from_my_vpc\"\n  description = \"Allow from my vpc\"\n  vpc_id = \"${var.my_default_vpcid}\"\n\n  ingress {\n    from_port = 3306\n    to_port = 3306\n    protocol = \"tcp\"\n    cidr_blocks = [\"172.31.0.0/16\"]\n  }\n}\n\nmodule \"db\" {\n  source = \"terraform-aws-modules/rds/aws\"\n  identifier = \"demodb\"\n  engine = \"mysql\"\n  engine_version = \"5.7.19\"\n  instance_class = \"db.t2.micro\"\n  allocated_storage = 5\n  name = \"demodb\"\n  username = \"monty\"\n  password = \"some_pass\"\n  port = \"3306\"\n\n  vpc_security_group_ids = [\"${aws_security_group.rds.id}\"]\n  # DB subnet group\n  subnet_ids = [\"subnet-d056b4ff\", \"subnet-b541edfe\"]\n  maintenance_window = \"Mon:00:00-Mon:03:00\"\n  backup_window = \"03:00-06:00\"\n  # DB parameter group\n  family = \"mysql5.7\"\n  # DB option group\n  major_engine_version = \"5.7\"\n}\n\nthe plan shows 5 these 5 resources to add \n\n  + aws_security_group.rds\n\n  + module.db.module.db_instance.aws_db_instance.this\n\n  + module.db.module.db_option_group.aws_db_option_group.this\n\n  + module.db.module.db_parameter_group.aws_db_parameter_group.this\n\n  + module.db.module.db_subnet_group.aws_db_subnet_group.this\n\nPlan: 5 to add, 0 to change, 0 to destroy.\n```", "```\n[ec2-user@ip-172-31-7-140 ~]$ mysql -u monty -psome_pass -h demodb.cz4zwh6mj6on.us-east-1.rds.amazonaws.com\nWelcome to the MariaDB monitor. Commands end with ; or \\g.\nYour MySQL connection id is 7\nServer version: 5.7.19-log MySQL Community Server (GPL)\n\nCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n```", "```\n\n MySQL [(none)]> show databases;\n +--------------------+\n | Database |\n +--------------------+\n | information_schema |\n | demodb |\n | innodb |\n | mysql |\n | performance_schema |\n | sys |\n +--------------------+\n 6 rows in set (0.00 sec)\nMySQL [(none)]> exit\nBye\n[ec2-user@ip-172-31-7-140 ~]$\n```", "```\n mysqldump -u monty -psome_pass -h localhost demodb > demodbdump.sql\n```", "```\nsudo service mariadb stop\n```", "```\n mysql -u monty -psome_pass -h demodb.cz4zwh6mj6on.us-east-1.rds.amazonaws.com demodb < demodbdump.sql\n```", "```\nmysql -u monty -psome_pass -h demodb.cz4zwh6mj6on.us-east-1.rds.amazonaws.com\nWelcome to the MariaDB monitor. Commands end with ; or \\g.\nYour MySQL connection id is 12\nServer version: 5.7.19-log MySQL Community Server (GPL)\n\nCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMySQL [(none)]> use demodb;\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\nMySQL [demodb]> select * from visits;\n+----+-------+---------+\n| id | count | version |\n+----+-------+---------+\n| 1 | 5 | 5 |\n+----+-------+---------+\n1 row in set (0.00 sec)\n```", "```\nsudo nano /home/ec2-user/tomcat.sh\n```", "```\n db_url=jdbc:mysql://localhost:3306/\n```", "```\ndb_url=jdbc:mysql://demodb.cz4zwh6mj6on.us-east-1.rds.amazonaws.com:3306/\n```", "```\npkill java \nsystemctl start tomcat\n```", "```\nsudo yum remove mariadb-server \n```", "```\nImprove your load balancer's security. Your load balancer is not using any secure listener.\n```", "```\nsudo yum remove httpd\n```"]