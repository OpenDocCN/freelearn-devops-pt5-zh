<html><head></head><body>
        <section>

            <header>
                </header><h1 class="header-title" id="calibre_pb_0">Automated Testing (Functional and Load Testing)</h1>
            

            <article>
                
<div class="packtquote1">"Most people overestimate what they can do in one year and underestimate what they can do in ten years."<br class="title-page-name"/>
<span>                                                                                                                             - Bill Gates</span></div>
<p class="calibre2">In this chapter, we will learn about the various types of testing that can be carried out after deploying an application in a non-prod environment. Continuous testing is extremely important to verify an application's functionality, performance, and so on. Automated testing will not only speed up the verification process, but it will also standardize the way testing is done in an effective manner. Our focus will be on simple functional testing to see how we can perform it, and load testing using the open source and commercial tools or services available.</p>
<p class="calibre2">We will create a sample functional test using Selenium and then execute it in Eclipse IDE for verification of its results. We will also integrate a Selenium-based Maven project with Jenkins so we can execute that functional test in Jenkins itself and make it a part of our end-to-end automation objective.</p>
<p class="calibre2">For load testing, we will create a sample load test using Apache JMeter GUI, and then use the saved <kbd class="calibre15">.jmx</kbd> file in Jenkins for load test execution from Jenkins.</p>
<p class="calibre2">This chapter will cover the following topics:</p>
<ul class="calibre10">
<li class="calibre11">Selenium-based functional testing for web applications using Eclipse</li>
<li class="calibre11">Selenium and Jenkins integration</li>
<li class="calibre11">Load testing with URL-based tests in <strong class="calibre1">Visual Studio Team System</strong> (<strong class="calibre1">VSTS</strong>)</li>
<li class="calibre11">Load testing using Apache JMeter</li>
</ul>


            </article>

            <footer class="calibre5">
                
            </footer>

        </section>
    

        <section>

            <header>
                </header><h1 class="header-title" id="calibre_pb_0">Functional testing using Selenium</h1>
            

            <article>
                
<p class="calibre2">In this chapter, we will use Selenium and Eclipse for a functional test case execution. Let's go step by step to create a sample functional test case and then execute it using Jenkins.</p>
<p class="calibre2">The PetClinic project is a Maven-based spring application and we will create a test case using Eclipse and Maven. Hence, we will utilize the <span>m2eclipse</span> plugin in Eclipse.</p>
<p class="calibre2">We have installed Eclipse Java EE IDE for Web Developers, Version: Mars.2 Release (4.5.2), Build ID: 20160218-0600:</p>
<ol class="calibre17">
<li value="1" class="calibre11">Go to the Eclipse marketplace and install the <span>Maven Integration</span> for Eclipse plugin.</li>
<li value="2" class="calibre11">Create a <span>Maven Project</span> using a wizard in Eclipse:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00096.jpeg"/></div>
<ol start="3" class="calibre17">
<li value="3" class="calibre11">Select <span>Create a simple project (skip archetype selection)</span> and click on <span>Next</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00190.jpeg"/></div>
<ol start="4" class="calibre17">
<li value="4" class="calibre11">Go through the wizard and create a project. It will take some time to create a project in Eclipse. Provide <span>Artifact</span>, <span>Version</span>, <span>Packaging</span>, <span>Name</span>, and <span>Description</span>. Click on <span>Finish</span>.</li>
<li value="5" class="calibre11">Wait until the Maven project is created and configured. Make sure that Maven is installed and configured properly. In the case of Maven behind proxy, configure the proxy details into <kbd class="calibre15">conf.xml</kbd>, available in the <kbd class="calibre15">Maven</kbd> directory.</li>
<li value="6" class="calibre11">In <kbd class="calibre15">Pom.xml</kbd>, we need to add <span>Maven</span>, <span>Selenium</span>, <span>TestNG</span>, and <span>JUnit</span> dependencies in the <kbd class="calibre15">&lt;project&gt;</kbd> node. The following is a modified <kbd class="calibre15">Pom.xml</kbd>:</li>
</ol>
<pre class="calibre26">
&lt;project   <br class="title-page-name"/>  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; <br class="title-page-name"/>  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; <br class="title-page-name"/>  &lt;groupId&gt;com.tiny&lt;/groupId&gt; <br class="title-page-name"/>  &lt;artifactId&gt;test&lt;/artifactId&gt; <br class="title-page-name"/>  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; <br class="title-page-name"/>  &lt;name&gt;test&lt;/name&gt; <br class="title-page-name"/>  &lt;build&gt; <br class="title-page-name"/>    &lt;plugins&gt; <br class="title-page-name"/>      &lt;plugin&gt; <br class="title-page-name"/>        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; <br class="title-page-name"/>        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; <br class="title-page-name"/>        &lt;version&gt;3.6.1&lt;/version&gt; <br class="title-page-name"/>        &lt;configuration&gt; <br class="title-page-name"/>          &lt;source&gt;1.8&lt;/source&gt; <br class="title-page-name"/>          &lt;target&gt;1.8&lt;/target&gt; <br class="title-page-name"/>        &lt;/configuration&gt; <br class="title-page-name"/>      &lt;/plugin&gt; <br class="title-page-name"/>      &lt;plugin&gt; <br class="title-page-name"/>        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; <br class="title-page-name"/>        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt; <br class="title-page-name"/>        &lt;version&gt;2.19.1&lt;/version&gt; <br class="title-page-name"/>        &lt;configuration&gt; <br class="title-page-name"/>          &lt;suiteXmlFiles&gt; <br class="title-page-name"/>            &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt; <br class="title-page-name"/>          &lt;/suiteXmlFiles&gt; <br class="title-page-name"/>        &lt;/configuration&gt; <br class="title-page-name"/>      &lt;/plugin&gt; <br class="title-page-name"/>    &lt;/plugins&gt; <br class="title-page-name"/>  &lt;/build&gt; <br class="title-page-name"/>  &lt;dependencies&gt; <br class="title-page-name"/>    &lt;dependency&gt; <br class="title-page-name"/>      &lt;groupId&gt;junit&lt;/groupId&gt; <br class="title-page-name"/>      &lt;artifactId&gt;junit&lt;/artifactId&gt; <br class="title-page-name"/>      &lt;version&gt;3.8.1&lt;/version&gt; <br class="title-page-name"/>      &lt;scope&gt;test&lt;/scope&gt; <br class="title-page-name"/>    &lt;/dependency&gt; <br class="title-page-name"/>    &lt;dependency&gt; <br class="title-page-name"/>      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt; <br class="title-page-name"/>      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt; <br class="title-page-name"/>      &lt;version&gt;3.0.1&lt;/version&gt; <br class="title-page-name"/>    &lt;/dependency&gt; <br class="title-page-name"/>    &lt;dependency&gt; <br class="title-page-name"/>      &lt;groupId&gt;org.testng&lt;/groupId&gt; <br class="title-page-name"/>      &lt;artifactId&gt;testng&lt;/artifactId&gt; <br class="title-page-name"/>      &lt;version&gt;6.8&lt;/version&gt; <br class="title-page-name"/>      &lt;scope&gt;test&lt;/scope&gt; <br class="title-page-name"/>    &lt;/dependency&gt; <br class="title-page-name"/>  &lt;/dependencies&gt; <br class="title-page-name"/>&lt;/project&gt; 
</pre>
<ol start="7" class="calibre17">
<li value="7" class="calibre11">Save <kbd class="calibre15">pom.xml</kbd> after adding these changes and build the project again from the <span>Project</span> menu. It will download new dependencies:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00191.jpeg"/></div>
<ol start="8" class="calibre17">
<li value="8" class="calibre11">Click on the <span>Details</span> button of the dialog box to verify the operation in progress.</li>
<li value="9" class="calibre11">The next task is to write the <kbd class="calibre15">TestNG</kbd> class. Install the <span>TestNG</span> plugin. Go to <span>Help</span> and click on <span>Install New Software</span>. Add <span>Repository</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00099.jpeg"/></div>
<ol start="10" class="calibre17">
<li value="10" class="calibre11">Select the items we need to install:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00197.jpeg"/></div>
<ol start="11" class="calibre17">
<li value="11" class="calibre11">Review all the items that need to be installed and click on <span>Next</span>.</li>
<li value="12" class="calibre11">Accept the license and click on <span>Finish</span>.</li>
<li value="13" class="calibre11">Verify the installation progress in Eclipse.</li>
<li value="14" class="calibre11">Now let's create a <kbd class="calibre15">TestNG</kbd> class:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00102.jpeg"/></div>
<ol start="15" class="calibre17">
<li value="15" class="calibre11">Provide a <span>Class name</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border62" src="../images/00104.jpeg"/></div>
<ol start="16" class="calibre17">
<li value="16" class="calibre11">Give a <span>Package name</span> and click on <span>Finish</span>.</li>
<li value="17" class="calibre11">The newly created class will look like the following screenshot:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00106.jpeg"/></div>
<ol start="18" class="calibre17">
<li value="18" class="calibre11">Right-click on the <kbd class="calibre15">test</kbd> file and click on <span>TestNG</span>, <span>convert to TestNG</span>.</li>
</ol>
<ol start="19" class="calibre17">
<li value="19" class="calibre11">It will create a <kbd class="calibre15">testing.xml</kbd> file that has details about the test suite:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00108.jpeg"/></div>
<ol start="20" class="calibre17">
<li value="20" class="calibre11">Right-click on <span>Project</span> and click on <span>Run Configurations</span>.</li>
</ol>
<ol start="21" class="calibre17">
<li value="21" class="calibre11">Right-click on <span>TestNG</span> and click on <span>New</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00110.jpeg"/></div>
<ol start="22" class="calibre17">
<li value="22" class="calibre11">Provide the <span>Project</span> name and select <kbd class="calibre15">testing.xml</kbd> in the <span>Suite</span>.</li>
<li value="23" class="calibre11">Click <span>OK</span> and <span>Apply</span>.</li>
<li value="24" class="calibre11">Click on <span>Run</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border63" src="../images/00112.jpeg"/></div>
<ol start="25" class="calibre17">
<li value="25" class="calibre11">If Windows Firewall blocks it then click on <span>Allow Access</span>.</li>
</ol>
<ol start="26" class="calibre17">
<li value="26" class="calibre11">There is no configuration available in <kbd class="calibre15">testing.xml</kbd> for execution, hence, even if Maven execution runs successfully, no suite will be executed:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00114.jpeg"/></div>
<ol start="27" class="calibre17">
<li value="27" class="calibre11">Generate the <kbd class="calibre15">TestNG</kbd> class under the <kbd class="calibre15">test</kbd> folder.</li>
<li value="28" class="calibre11">Select <kbd class="calibre15">location</kbd>, <kbd class="calibre15">suite name</kbd>, and <kbd class="calibre15">class name</kbd>:</li>
</ol>
<pre class="calibre26">
&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br class="title-page-name"/>&lt;!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd"&gt; <br class="title-page-name"/>&lt;suite name="Suite"&gt; <br class="title-page-name"/>&lt;test name="Test"&gt; <br class="title-page-name"/>&lt;classes&gt; <br class="title-page-name"/>&lt;class name="example.PetClinicTest"/&gt; <br class="title-page-name"/>&lt;/classes&gt; <br class="title-page-name"/>&lt;/test&gt;&lt;!-- Test --&gt; <br class="title-page-name"/>&lt;/suite&gt;&lt;!-- Suite --&gt; 
</pre>
<ol start="29" class="calibre17">
<li value="29" class="calibre11">Go to <a href="https://github.com/mozilla/geckodriver/releases" class="calibre4"><span>https://github.com/mozilla/geckodriver/releases</span></a> and download a version.</li>
<li value="30" class="calibre11">Extract the file available in the downloaded ZIP file based on the system configuration we have. In our case, we have downloaded <kbd class="calibre15">geckodriver-v0.13.0-win64</kbd>.</li>
<li value="31" class="calibre11">Click on it and verify the driver details.</li>
</ol>
<p class="calibre2">Let's write some code as well. It will check whether the title of the web page contains a specific string or not. The result or the outcome of the following code is based on the title of the page. If it contains a given string then the test case will pass; else it will fail:</p>
<pre class="calibre26">
package example;     <br class="title-page-name"/><br class="title-page-name"/>importjava.io.File; <br class="title-page-name"/>importorg.openqa.selenium.WebDriver;     <br class="title-page-name"/>importorg.openqa.selenium.firefox.FirefoxDriver;   <br class="title-page-name"/>importorg.testng.Assert;     <br class="title-page-name"/>importorg.testng.annotations.Test;   <br class="title-page-name"/>importorg.testng.annotations.BeforeTest;   <br class="title-page-name"/>importorg.testng.annotations.AfterTest;     <br class="title-page-name"/>public class PetClinicTest {     <br class="title-page-name"/>  private WebDriver driver;     <br class="title-page-name"/>    @Test         <br class="title-page-name"/>    public void testPetClinic() {   <br class="title-page-name"/>      driver.get("http://localhost:8090/petclinic/");   <br class="title-page-name"/>      String title = driver.getTitle();     <br class="title-page-name"/>      Assert.assertTrue(title.contains("a Spring Frameworkk"));  <br class="title-page-name"/>    }   <br class="title-page-name"/>    @BeforeTest <br class="title-page-name"/>    public void beforeTest() {   <br class="title-page-name"/>      File file = new File("F:\\##DevOpsBootCamp\\geckodriver-v0.13.0-win64\\geckodriver.exe"); <br class="title-page-name"/>      System.setProperty("webdriver.gecko.driver", file.getAbsolutePath());       <br class="title-page-name"/>      driver = new FirefoxDriver();   <br class="title-page-name"/>    }     <br class="title-page-name"/>    @AfterTest <br class="title-page-name"/>    public void afterTest() { <br class="title-page-name"/>      driver.quit();       <br class="title-page-name"/>    }     <br class="title-page-name"/>}   
</pre>
<p class="calibre2">The same file is available in IDE, shown as follows.</p>
<p class="calibre2">Let's run the Maven test again from Eclipse.</p>
<p class="calibre2">The following is the output when the test case is executed successfully:</p>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00117.jpeg"/></div>
<ol class="calibre17">
<li value="1" class="calibre11">Verify the <span>All Tests</span> tab in the <span>Results of running suite</span> section in Eclipse. We can see successful execution here:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00119.jpeg"/></div>
<ol start="2" class="calibre17">
<li value="2" class="calibre11">Verify the <span>Failed Tests</span> tab in the <span>Results of running suite</span> section in Eclipse.</li>
<li value="3" class="calibre11">Verify the <span>Summary</span> tab in the <span>Results of running suite</span> section in Eclipse in the successful scenario.</li>
<li value="4" class="calibre11">In the code, change the text available for title comparison so the test case fails.</li>
</ol>
<ol start="5" class="calibre17">
<li value="5" class="calibre11">Verify the output in <span>Console</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00122.jpeg"/></div>
<ol start="6" class="calibre17">
<li value="6" class="calibre11">Verify the <span>All Tests</span> tab in the <span>Results of running suite</span> section in Eclipse and notice the failure icon:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00124.jpeg"/></div>
<ol start="7" class="calibre17">
<li value="7" class="calibre11">Verify the <span>Failed Tests</span> tab in the <span>Results of running suite</span> section in Eclipse.</li>
<li value="8" class="calibre11">Click on <span>testPetClinic</span> and verify the <span>Failure Exception</span>.</li>
<li value="9" class="calibre11">Verify the <span>Summary</span> tab in the <span>Results of running suite</span> section in Eclipse.</li>
</ol>
<p class="calibre2">So, we have created a sample test case based on Selenium to verify the title of the PetClinic home page.</p>


            </article>

            <footer class="calibre5">
                
            </footer>

        </section>
    

        <section>

            <header>
                </header><h1 class="header-title" id="calibre_pb_0">Functional test execution in Jenkins</h1>
            

            <article>
                
<p class="calibre2">Now let's try to execute the same from Jenkins:</p>
<ol class="calibre17">
<li value="1" class="calibre11">Check in the <span>Test Project</span> in <span>Repository</span>. Create a <kbd class="calibre15">PetClinic-FuncTest</kbd> freestyle job in Jenkins.</li>
<li value="2" class="calibre11">In the <span>Build</span> section, provide <span>Root POM</span> location and <span>Goals and options</span> to execute:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00126.jpeg"/></div>
<ol start="3" class="calibre17">
<li value="3" class="calibre11"><span>Save</span> the build job and click on <span>Build now</span>.</li>
<li value="4" class="calibre11">Verify the execution of the build job in the <span>Console</span> output.</li>
<li value="5" class="calibre11">It will open a Mozilla Firefox window and open a URL that is given in the code. This requires our PetClinic application to be deployed in a web server and running without any issues:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border64" src="../images/00128.jpeg"/></div>
<ol start="6" class="calibre17">
<li value="6" class="calibre11">Now make a change in the code so title verification fails and execute the build job.</li>
<li value="7" class="calibre11">There is a failure marked in the <span>Console</span> output in Jenkins:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border65" src="../images/00130.jpeg"/></div>
<ol start="8" class="calibre17">
<li value="8" class="calibre11">Go to the <span>Project</span> dashboard and verify the graphs for <span>TestNG Results</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00132.jpeg"/></div>
<p class="calibre2">We have seen how to execute Selenium-based test cases in Jenkins.</p>
<p class="calibre2">In the next section, we will see how to execute a load test using Jenkins.</p>


            </article>

            <footer class="calibre5">
                
            </footer>

        </section>
    

        <section>

            <header>
                </header><h1 class="header-title" id="calibre_pb_0">Load test execution using Jenkins</h1>
            

            <article>
                
<p class="calibre2">The steps are as follows:</p>
<ol class="calibre17">
<li value="1" class="calibre11">Open the Apache Jmeter console. Create a <span>Test Plan</span>.</li>
<li value="2" class="calibre11">Right-click on the <span>Test Plan</span> and click on <span>Add</span>; select <span>Threads (Users)</span>.</li>
<li value="3" class="calibre11">Select <span>Thread Group</span>.</li>
<li value="4" class="calibre11">Provide <span>Thread Group</span> name.</li>
<li value="5" class="calibre11">In <span>Thread Group</span> properties, provide <span>Number of Threads</span>, <span>Ramp-up Period</span>, and <span>Loop Count</span>.</li>
</ol>
<ol start="6" class="calibre17">
<li value="6" class="calibre11">Right-click on <span>Thread Group</span>. Click on <span>Add</span>. Click on <span>Sampler</span>. Click on <span>HTTP Request</span>.</li>
<li value="7" class="calibre11">In <span>HTTP Request</span>, provide <span>Server Name or IP</span>. In our case, it will be localhost or an IP address.</li>
<li value="8" class="calibre11">Give the <span>Port Number</span> where your web server is running.</li>
<li value="9" class="calibre11">Select the <span>Get</span> method and provide a path to the load test:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00134.jpeg"/></div>
<ol start="10" class="calibre17">
<li value="10" class="calibre11">Save the <kbd class="calibre15">.jmx</kbd> file.</li>
<li value="11" class="calibre11">Now let's create a Jenkins job.</li>
<li value="12" class="calibre11">Create a freestyle job in Jenkins:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00136.jpeg"/></div>
<ol start="13" class="calibre17">
<li value="13" class="calibre11">Add the <span>Build</span> step <span>Execute Windows batch command</span>.
<ol class="calibre19">
<li value="1" class="calibre11">Add the following command. Replace the location of <kbd class="calibre15">jmeter.bat</kbd> based on the installation directory and the location of the <kbd class="calibre15">.jmx</kbd> file too:</li>
</ol>
</li>
</ol>
<pre class="calibre26">
    <strong class="calibre1">C:\apache-jmeter-3.0\bin\jmeter.bat -Jjmeter.save.saveservice.output_format=xml -n -t C:\Users\Mitesh\Desktop\PetClinic.jmx -l Test.jtl</strong>  
</pre>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00138.jpeg"/></div>
<ol start="14" class="calibre17">
<li value="14" class="calibre11">Add a <span>Post-build Actions</span>. <span>Publish Performance test result report</span> add <span>**/*.jtl</span> file.</li>
<li value="15" class="calibre11">Click on <span>Build now</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00140.jpeg"/></div>
<ol start="16" class="calibre17">
<li value="16" class="calibre11">Verify <span>Performance Trend</span> on the <span>Project</span> dashboard.</li>
<li value="17" class="calibre11">Click on <span>Performance Trend</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00142.jpeg"/></div>
<ol start="18" class="calibre17">
<li value="18" class="calibre11">Verify <span>Performance Breakdown</span>.</li>
</ol>
<p class="calibre2">In the next section, we will see how to perform load testing of a web application deployed in Microsoft Azure App Services using the options available in VSTS.</p>


            </article>

            <footer class="calibre5">
                
            </footer>

        </section>
    

        <section>

            <header>
                </header><h1 class="header-title" id="calibre_pb_0">Load testing using a URL-based test and Apache JMeter for Microsoft Azure</h1>
            

            <article>
                
<p class="calibre2">Once we have deployed our application in Azure App Services successfully, we can perform load testing on the Azure App Service or Azure Web Apps. Let's see how we can use Visual Studio Team Services to perform testing.</p>


            </article>

            <footer class="calibre5">
                
            </footer>

        </section>
    

        <section>

            <header>
                </header><h1 class="header-title" id="calibre_pb_0">URL-based test</h1>
            

            <article>
                
<ol class="calibre17">
<li value="1" class="calibre11">In the top menu bar, click on <span>Load test</span>. Let's create our first test in the VSTS and execute it.</li>
<li value="2" class="calibre11">Click on <span>New</span> and select <span>URL based test</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00144.jpeg"/></div>
<ol start="3" class="calibre17">
<li value="3" class="calibre11">Verify the <span>HTTP method</span> and <span>URL</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00009.jpeg"/></div>
<ol start="4" class="calibre17">
<li value="4" class="calibre11">Click on <span>Settings</span>; provide input in the different parameters based on need:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border66" src="../images/00148.jpeg"/></div>
<ol start="5" class="calibre17">
<li value="5" class="calibre11">Click <span>Save</span> and click on <span>Run test</span>.</li>
<li value="6" class="calibre11">Load testing is in progress:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00150.jpeg"/></div>
<ol start="7" class="calibre17">
<li value="7" class="calibre11">Verify the complete test data as and when it is available in the VSTS portal.</li>
<li value="8" class="calibre11">Verify the final summary of the URL-based test execution in VSTS:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00152.jpeg"/></div>
<ol start="9" class="calibre17">
<li value="9" class="calibre11">We will also get <span>Performance</span> and <span>Throughput</span> charts after the test execution in VSTS:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border67" src="../images/00155.jpeg"/></div>
<ol start="10" class="calibre17">
<li value="10" class="calibre11">Verify tests and error-related details too.</li>
</ol>
<p class="calibre2">We have seen how a URL-based test can be performed on an Azure Web App. In the next section, we will cover how to use Apache JMeter for load testing.</p>


            </article>

            <footer class="calibre5">
                
            </footer>

        </section>
    

        <section>

            <header>
                </header><h1 class="header-title" id="calibre_pb_0">Apache JMeter</h1>
            

            <article>
                
<p class="calibre2">We often need to verify how much load an application serves so, based on it, we can check many functions or bottlenecks to improve the performance so it can serve as many requests as it can with efficiency. In this section, we'll look into how to execute Apache JMeter testing. We will execute a load test on the PetClinic application deployed on Azure App Services.</p>
<div class="packtinfobox">For more details on this topic, go to <a href="http://jmeter.apache.org/usermanual/" class="calibre22"><span class="packtscreen">http://jmeter.apache.org/usermanual/</span></a>.</div>
<p class="calibre2">To begin the execution, follow these steps:</p>
<ol class="calibre17">
<li value="1" class="calibre11">Download Apache JMeter from <a href="http://jmeter.apache.org/" class="calibre4"><span>http://jmeter.apache.org/</span></a>.</li>
<li value="2" class="calibre11">Start it and create a <span>Thread Group</span> in Apache JMeter. Here, we mention <span>Number of Threads (users)</span>, <span>Ramp Up Period (in seconds)</span>, and <span>Loop Count</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border68" src="../images/00157.jpeg"/></div>
<ol start="3" class="calibre17">
<li value="3" class="calibre11">Right-click on the <span>Thread Group</span> and click on <span>Add</span>.</li>
<li value="4" class="calibre11">Select <span>Sampler</span> and click on <span>HTTP Request</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border69" src="../images/00159.jpeg"/></div>
<ol start="5" class="calibre17">
<li value="5" class="calibre11">Provide the Azure Web App URL in the server name and select HTTPS protocol:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00161.jpeg"/></div>
<ol start="6" class="calibre17">
<li value="6" class="calibre11">Execute the test and verify the result in Apache JMeter:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00163.jpeg"/></div>
<ol start="7" class="calibre17">
<li value="7" class="calibre11">Add <span>Aggregate Graph</span> in <span>HTTP Request</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00297.jpeg"/></div>
<ol start="8" class="calibre17">
<li value="8" class="calibre11">After the load test execution, verify the graph.</li>
<li value="9" class="calibre11">For more details, click on <span>View Results in Table</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border6" src="../images/00176.jpeg"/></div>
<p class="calibre2">We can execute an Apache JMeter test in the VSTS too.</p>
<p class="calibre2">Progress toward execution as follows:</p>
<ol class="calibre17">
<li value="1" class="calibre11">Click on <span>New</span> and select <span>Apache JMeter test</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border70" src="../images/00168.jpeg"/></div>
<ol start="2" class="calibre17">
<li value="2" class="calibre11">We will use the same JMX file that we used earlier to load test an Azure Web App.</li>
<li value="3" class="calibre11">Select <span>Load duration</span> and <span>Load location</span> as well. Click on <span>Run Test</span>:</li>
</ol>
<div class="CDPAlignCenter"><img class="image-border71" src="../images/00180.jpeg"/></div>


            </article>

            <footer class="calibre5">
                
            </footer>

        </section>
    

        <section>

            <header>
                </header><h1 class="header-title" id="calibre_pb_0">Summary</h1>
            

            <article>
                
<div class="packtquote1">"Testing is a skill. While this may come as a surprise to some people it is a simple fact."</div>
<div class="packtquote1">- Fewster and Graham</div>
<p class="calibre2">It is extremely important to verify the quality of an application. Testing is that part of application life cycle management that we can't ignore. It is one of the pillars of a quality product.</p>
<p class="calibre2">Hence, it is extremely important to make testing a habit. Different types of testing keep an eye on different dimensions of quality, and that makes an application robust.</p>
<p class="calibre2">Continuous testing plays a significant part as we talk about continuous integration and continuous delivery. If that part is automated, continuous testing in automated mode helps to achieve robustness faster and to keep pace with a shorter time to market.</p>
<p class="calibre2">In this chapter, we have covered functional and load testing integrated with Jenkins.</p>
<p class="calibre2">In the next chapter, we will see how all the operations we have performed till now can be orchestrated in sequence. That will give us the feel of end-to-end automation. It is more about creating a pipeline in Jenkins and configuring triggers in build and release definition so that application life cycle management steps can be automated.</p>


            </article>

            <footer class="calibre5">
                
            </footer>

        </section>
    </body></html>