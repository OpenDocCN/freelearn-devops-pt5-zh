<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch04"/>Chapter 4. Split the Load – Distributed Working with Git</h1></div></div></div><p>
<em>So far we have worked entirely with a single local repository. It's high time to go one step further and explore the most highlighted feature of Git in earlier chapters: distributed working with Git.</em>
</p><p>In this chapter you will learn the essentials for collaborative development:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">How to share your files/projects over the Internet and intranet</li><li class="listitem" style="list-style-type: disc">Various concepts such as: <div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Git clone</li><li class="listitem" style="list-style-type: disc">Git fetch</li><li class="listitem" style="list-style-type: disc">Git merge</li><li class="listitem" style="list-style-type: disc">Git pull</li><li class="listitem" style="list-style-type: disc">Git push</li><li class="listitem" style="list-style-type: disc">Git remote</li></ul></div></li></ul></div><p>These concepts are involved in sharing your files over the Internet and intranet <em>progressively</em> and <em>continuously</em>.</p><div><div><div><div><h1 class="title"><a id="ch04lvl1sec40"/>Why share your files</h1></div></div></div><p>Let's <a id="id224" class="indexterm"/> take <a id="id225" class="indexterm"/> the same <a id="id226" class="indexterm"/> computer <a id="id227" class="indexterm"/> gaming analogy which has helped us to understand the basics of Git.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec38"/>Scenario 1: single player</h2></div></div></div><p>Think of your favorite game that allows you to save the state of the game in your system at any given point of time and resume it later on. Now let's consider a situation where you are in some remote location with access to a computer and want to resume the game, but are not able to because the saved game file is not accessible from that system.</p><p>Apply the same situation to your data files. On average we spend most of our time of the day at two to three different locations; think about how productive it might be to <em>continue our work across systems</em> without having to start from scratch on each new system we lay our hands on.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec39"/>Scenario 2: multiple players – one at a time</h2></div></div></div><p>Think <a id="id228" class="indexterm"/> of your <a id="id229" class="indexterm"/> favorite adventure <a id="id230" class="indexterm"/> game that has multiple levels. Consider a scenario where you are stuck <a id="id231" class="indexterm"/> in a level without knowing how to proceed forward. After desperate attempts, which ended in vain, you suddenly realize that your friend is an expert on that level, and you want to use your friend's help. So you quickly share the last saved state of the game file with him so he can finish that level for you, save the state, and push the file back to you, which will enable you to continue the game.</p><p>The same situation can apply to you when you are working with datafiles, especially when you are working as a team where different people take care of different parts of a bigger task to produce a single result. Another possibility might be that you want the domain experts to handle specific portions of the work, and so on.</p><p>When it comes to sharing files over the network there can be only two modes.</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Internet</li><li class="listitem" style="list-style-type: disc">Intranet</li></ul></div><p>The appropriate method is employed based on proximity.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec04"/>Kid's play – push and pull for a remote source</h3></div></div></div><p>Before getting into the concept of a <strong>distributed file system</strong>
 <a id="id232" class="indexterm"/> as in <em>Scenario 1</em> or <strong>collaborative development</strong>
 <a id="id233" class="indexterm"/> as in <em>Scenario 2</em>, it's time we add five more entries to our Git lingo, namely:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Git clone</li><li class="listitem" style="list-style-type: disc">Git fetch</li><li class="listitem" style="list-style-type: disc">Git merge</li><li class="listitem" style="list-style-type: disc">Git push</li><li class="listitem" style="list-style-type: disc">Git remote</li></ul></div><p>Let's quickly understand what these terms mean and where can they be put to use.</p><div><div><div><div><h4 class="title"><a id="ch04lvl4sec01"/>Cloning ain't banned here</h4></div></div></div><p>Yes, we are talking about Git's <a id="id234" class="indexterm"/> 
<strong>clone</strong> functionality <a id="id235" class="indexterm"/> . Git clone is used when we need an exact replica or a copy of an existing repository along with its history.</p><p>So a question may arise as to how all the cloned repositories maintain sync with each other.</p><p>Well, the answer to that lies in the remaining four Git commands, which are listed previously after <code class="literal">git clone</code>, namely <code class="literal">git fetch</code>, <code class="literal">git merge</code>, <code class="literal">git push</code>, and <code class="literal">git remote</code>.</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Git fetch</strong>: This <a id="id236" class="indexterm"/> command <a id="id237" class="indexterm"/> is used to fetch the changes from source to destination.</li><li class="listitem" style="list-style-type: disc"><strong>Git merge</strong>: Merge is <a id="id238" class="indexterm"/> used to combine two <a id="id239" class="indexterm"/> workspaces (technically called branches) into one. It is frequently used to combine the current user's workspace with the one from the remote user, after fetching the changes from the remote source.<div><div><h3 class="title"><a id="note10"/>Note</h3><p>
<strong>Git pull</strong>: Executing <a id="id240" class="indexterm"/> <code class="literal">git pull</code> <a id="id241" class="indexterm"/> will internally execute <code class="literal">git fetch</code> followed by <code class="literal">git merge</code>. Hence, it is used as an alternate to fetch plus merge.</p></div></div></li><li class="listitem" style="list-style-type: disc"><strong>Git push</strong>: This <a id="id242" class="indexterm"/> command is used to push our <a id="id243" class="indexterm"/> contents from source to destination.</li><li class="listitem" style="list-style-type: disc"><strong>Git remote</strong>: This <a id="id244" class="indexterm"/> command is used to manage one's <a id="id245" class="indexterm"/> source and destination. It says where and how you can share your work with others and vice versa.</li></ul></div><p>Any operation which enables data sharing makes use of remote connections, which are established by <code class="literal">git remote</code>. Here, <code class="literal">git fetch</code>, <code class="literal">git push</code>, and <code class="literal">git pull</code> make use of the remote connections established by <code class="literal">git remote</code>.</p><p>Now that we have a heads up on a few concepts, let's see how they are put to use.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec40"/>Scenario 1: solution</h2></div></div></div><p>We shall learn how to utilize Git to serve you in the case of <em>Scenario 1</em> as mentioned previously.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec05"/>Going public – sharing over the Internet</h3></div></div></div><p>There are several online Git <a id="id246" class="indexterm"/> hosting providers available for use with <a id="id247" class="indexterm"/> different pricing models. Broadly speaking a few of them offer a free service for limited functional use and ask you to pay for additional usage; a few others offer full functional access for a limited time and ask you to choose a payment plan to continue, and there are a few others who combine a bit of both.</p><p>I am going to choose <a id="id248" class="indexterm"/> Bitbucket, a reliable service provider belonging to the third category, from now on to take you through the concepts related to sharing over the Internet.</p><p>Bitbucket is a product of <a id="id249" class="indexterm"/> Atlassian, which currently offers free, unlimited public and private repositories with the only restriction being the number of users with whom your private repositories are shared. This means we can share our private repository over the Internet with five people who have read and write access to it, for free.</p><div><div><h3 class="title"><a id="note11"/>Note</h3><p>There are a few other competitive products such as GitHub, Codaset, and others. We chose Bitbucket as it provides private repositories for free.</p></div></div><div><div><div><div><h4 class="title"><a id="ch04lvl4sec02"/>A bit of Bitbucket</h4></div></div></div><p>Let's do a quick signup for their services; open up your browser, go to <a id="id250" class="indexterm"/> <a class="ulink" href="http://bitbucket.org">http://bitbucket.org</a>, click on the <strong>Pricing and Signup</strong> button, and then click on the first <strong>Sign up</strong> button under the <strong>free</strong> quota. It then leads you to the registration page where you choose an individual account type for now (it is possible to have a entire team use a single account) and choose your username and password for the <strong>username</strong> and <strong>password</strong> fields respectively, and enter your active e-mail address in the <strong>Email address</strong> field, whereas your <strong>First name</strong> and <strong>Last name</strong> are optional fields as shown in the following screenshot:</p><div><img src="img/7522_04_01.jpg" alt="A bit of Bitbucket"/></div><p>After completing the procedures you can expect a confirmation e-mail from Bitbucket to validate your e-mail address.</p><div><div><h3 class="title"><a id="note12"/>Note</h3><p>As an alternative to going through this entire sign up process, you can also sign in with your OpenID <a id="id251" class="indexterm"/> if you have one.</p></div></div><p>The beauty of <a id="id252" class="indexterm"/> Bitbucket is that it has keyboard shortcuts <a id="id253" class="indexterm"/> 
 <a id="id254" class="indexterm"/> for almost all actions like in <a id="id255" class="indexterm"/> Gmail. Similar to Gmail you can press <em>Shift</em> + <em>?</em> to see the list of shortcuts available. The following is a tabulation of frequently used shortcut keys for your reference:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Key combination</p>
</th><th style="text-align: left" valign="bottom">
<p>Action</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<em>?</em>
</p>
</td><td style="text-align: left" valign="top">
<p>Display keyboard shortcuts help.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<em>c</em> + <em>r</em>
</p>
</td><td style="text-align: left" valign="top">
<p>Create repository.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<em>i</em> + <em>r</em>
</p>
</td><td style="text-align: left" valign="top">
<p>Import repository.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<em>g</em> + <em>d</em>
</p>
</td><td style="text-align: left" valign="top">
<p>Go to dashboard.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<em>g</em> + <em>a</em>
</p>
</td><td style="text-align: left" valign="top">
<p>Go to account settings.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<em>g</em> + <em>i</em>
</p>
</td><td style="text-align: left" valign="top">
<p>Go to inbox.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<em>/</em>
</p>
</td><td style="text-align: left" valign="top">
<p>Focus on the site search. Puts your cursor on the site field.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<em>Esc</em>
</p>
</td><td style="text-align: left" valign="top">
<p>Dismiss the <a id="id256" class="indexterm"/> 
 <a id="id257" class="indexterm"/> help dialog or remove the focus from a form field.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<em>u</em>
</p>
</td><td style="text-align: left" valign="top">
<p>Go back up the stack you just went down with the shortcuts. Like the back button in a browser, this takes you back through the Bitbucket pages you just paged through.</p>
</td></tr></tbody></table></div><p>Let's start our journey by creating a new repository in your account. You can either press <em>c</em> + <em>r</em>, or click on the <strong>Create repository</strong>
 <a id="id258" class="indexterm"/> 
 <a id="id259" class="indexterm"/> option from the <strong>Repositories</strong> menu at the top, or simply click on the <strong>Create a repository </strong>link from the repositories block at your right side and this will take you to the page that will guide you in creating a new repository/repo (repo is a widely used shortform for repository).</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Field name</p>
</th><th style="text-align: left" valign="bottom">
<p>Value</p>
</th><th style="text-align: left" valign="bottom">
<p>Reason</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<strong>Name</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">online_workbench</code>
</p>
</td><td style="text-align: left" valign="top">
<p>We are going to import the same <code class="literal">Workbench</code> repository on our desktop to this online portal.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Description</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">An online Git repository to showcase the collaboration function of Git</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This is a brief description of your repository. You can have your own description here that best describes the purpose of the repository.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Access level </strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Checked</code>
</p>
</td><td style="text-align: left" valign="top">
<p>A private repo is only visible to you and those you give access to (more about this later). If this box is unchecked, everyone can see your repo.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Repository type</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Git</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Bitbucket supports both Git and Mercurial version control systems.</p>
<p>As we are going to import a Git repository, let's select that.</p>
</td></tr></tbody></table></div><p>Enter the values in the fields as shown in the following screenshot:</p><div><img src="img/7522_04_02.jpg" alt="A bit of Bitbucket"/></div><p>Click on the <a id="id260" class="indexterm"/> 
 <a id="id261" class="indexterm"/> 
<strong>Create repository</strong> button to complete the repository creation process. Now that you have an empty repository, Bitbucket prompts us for immediate action as shown in the following screenshot:</p><div><img src="img/7522_04_03.jpg" alt="A bit of Bitbucket"/></div><p>Here we have two different startup options.</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Create a new directory in our machine, initialize it as a repository, and link that to the remote Bitbucket repository that we just created, which is represented by the <strong>I'm starting from scratch</strong> link</li><li class="listitem" style="list-style-type: disc">Skip to the later part, which is linking our existing repository to the remote <a id="id262" class="indexterm"/> 
 <a id="id263" class="indexterm"/> Bitbucket repository and pushing our contents to it, which is represented by the option <strong>I have code I want to import</strong> link</li></ul></div><p>As we already have our repository created, let's select the second option which leads us to a screen as follows:</p><div><img src="img/7522_04_04.jpg" alt="A bit of Bitbucket"/></div><p>We are getting to the core part now. Shown in the screen are instructions for CLI users to link the <code class="literal">Workbench</code> repository from the desktop to the <code class="literal">online_workbench</code> repository in Bitbucket.</p></div></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec41"/>Time for action – adding a remote origin using CLI mode</h1></div></div></div><p>Linking or adding <a id="id264" class="indexterm"/> a <a id="id265" class="indexterm"/> remote origin to your <a id="id266" class="indexterm"/> repository (yet another addition to your Git lingo) is a simple process. Fire up your command-line interface and enter the following commands:</p><div><pre class="programlisting">
<strong>cd /path/to/your/Workbench/repo</strong>
<strong>git remote add origin https://your_bitbucket_repo_identity_here/online_workbench.git</strong>
<strong>git push -u origin master</strong>
</pre></div><p>After the execution of the <a id="id267" class="indexterm"/> <code class="literal">git push</code> command <a id="id268" class="indexterm"/> you will be prompted for your Bitbucket <a id="id269" class="indexterm"/> account password to <a id="id270" class="indexterm"/> complete the process as follows:</p><div><img src="img/7522_04_05.jpg" alt="Time for action – adding a remote origin using CLI mode"/></div><p>If you see a similar <a id="id271" class="indexterm"/> message in your window, the linkage cum transfer was successful.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec41"/>
<em>What just happened?</em>
</h2></div></div></div><p>We just created a remote link for our <code class="literal">Workbench</code> repository with the <code class="literal">online_workbench</code> repository and pushed our files to it making them available online, thus opening the door for a distributed file system, using the CLI mode.</p><p>
<code class="literal">git remote add</code> is the command to add a Git repository identified by its path to your present repository's configuration file so that your changes in one repository get tracked in another. Let's just say <strong>origin</strong>
 <a id="id272" class="indexterm"/> is nothing but an alias for the path representing the remote repository.</p><p>The parameter <code class="literal">–u origin master</code>, which is used with <code class="literal">git pull</code> is to default the repositories' push and pull operations to that specified remote branch.</p><div><div><h3 class="title"><a id="tip02"/>Tip</h3><p>If <code class="literal">–u</code> is not used initially, then for each and every pull and push request we need to specify <code class="literal">origin master</code> along with the request. Now it's enough for us to say <code class="literal">git push</code> for pushing and <code class="literal">git pull</code> for pulling.</p></div></div><p>This means you can continue your work from anywhere if you have access to a computer with Git and your <a id="id273" class="indexterm"/> application software installed on it (it's <a id="id274" class="indexterm"/> Microsoft Word in this <a id="id275" class="indexterm"/> case as we are dealing with a Word document).</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec42"/>Time for action – resume your work from anywhere using CLI mode</h1></div></div></div><p>Now let's enter the <a id="id276" class="indexterm"/> second phase, where we would like to resume our work from a remote machine.</p><p>There are only three stages involved here.</p><div><ol class="orderedlist arabic"><li class="listitem">Clone the repository from the server.<div><pre class="programlisting">
<strong>git clone https://raviepic3@bitbucket.org/raviepic3/online_workbench.git /path/where/you/would/like/the/clone_to_be</strong>
</pre></div></li><li class="listitem">Make your changes to the files needed.</li><li class="listitem">Add/stage the modifications made in files, commit, and push.<div><pre class="programlisting">
<strong>git add *</strong>
<strong>git commit –m 'Your commit message'</strong>
<strong>git pull</strong>
<strong>git push</strong>
</pre></div><div><div><h3 class="title"><a id="tip03"/>Tip</h3><p>As an alternative to <code class="literal">git pull</code>, we can also use <code class="literal">git fetch</code> followed by <code class="literal">git merge @{u}</code>.</p></div></div></li></ol></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec42"/>
<em>What just happened?</em>
</h2></div></div></div><p>We just practiced a working solution for maximizing productivity by effectively handling situations as described in <em>Scenario 1</em>.</p><p>
<code class="literal">Git add *</code> stages/adds all your changes, which is confirmed and recorded by the <code class="literal">git commit</code> command. <code class="literal">Git pull</code> is used to check whether there are unsynced updates in the server; if present, they are synced appropriately followed by <code class="literal">git push</code>, which updates the server's files with the changes that you have made and committed in your local repository.</p><div><div><h3 class="title"><a id="note13"/>Note</h3><p>You might happen to think why we are doing <code class="literal">git pull</code> before <code class="literal">git push</code> when our sole intention was to push the updated files to the server. Wonderful question – hold that thought right there; you will get to know more about it when we discuss the <a id="id277" class="indexterm"/> concepts of branching.</p></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec43"/>Time for action – adding a remote origin using GUI mode</h1></div></div></div><p>Linking or adding a remote <a id="id278" class="indexterm"/> origin to our <code class="literal">Workbench</code> <a id="id279" class="indexterm"/> repository present in our desktop and syncing the contents using the Git GUI is <a id="id280" class="indexterm"/> performed as follows:</p><div><ol class="orderedlist arabic"><li class="listitem">Open up your Git GUI window for our <code class="literal">Workbench</code> repository from the desktop.</li><li class="listitem">Click on the <strong>Add</strong> option from the <strong>Remote</strong> menu in your GUI window.<div><img src="img/7522_04_06.jpg" alt="Time for action – adding a remote origin using GUI mode"/></div></li><li class="listitem">This opens up the <strong>Add New Remote</strong> window where we enter the following details:<div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Field name</p>
</th><th style="text-align: left" valign="bottom">
<p>Value</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<strong>Name</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">origin</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Location</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="https://your_bitbucket_repo_identity_here/online_workbench.git">https://your_bitbucket_repo_identity_here/online_workbench.git</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Further Action</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<strong>Do Nothing Else Now</strong>
</p>
</td></tr></tbody></table></div></li><li class="listitem">This is shown in the following screenshot; click on the <strong>Add</strong> button:<div><img src="img/7522_04_07.jpg" alt="Time for action – adding a remote origin using GUI mode"/></div></li><li class="listitem">We have <a id="id281" class="indexterm"/> 
 <a id="id282" class="indexterm"/> 
 <a id="id283" class="indexterm"/> now successfully added a remote to our <code class="literal">Workbench</code> repository.</li><li class="listitem">To push our code to the <code class="literal">online_workbench</code> repository, go to the same <strong>Remote</strong> menu and select the option <strong>Push</strong>, which will lead you to the <strong>Push Branches</strong> window as shown in the following screenshot:<div><img src="img/7522_04_08.jpg" alt="Time for action – adding a remote origin using GUI mode"/></div></li><li class="listitem">By default, <a id="id284" class="indexterm"/> 
 <a id="id285" class="indexterm"/> 
 <a id="id286" class="indexterm"/> <strong>master</strong> will be selected under <strong>Source Branches</strong>, and <strong>origin</strong> will be selected in the listbox for the <strong>Remote</strong> option under <strong>Destination Repository</strong>. Leave it as it is, click on the <strong>Push</strong> button, and wait for some time; it should lead you to a screen where you will be prompted for your Bitbucket account password to proceed as shown in the following screenshot:<div><img src="img/7522_04_09.jpg" alt="Time for action – adding a remote origin using GUI mode"/></div></li><li class="listitem">Upon <a id="id287" class="indexterm"/> 
 <a id="id288" class="indexterm"/> 
 <a id="id289" class="indexterm"/> successful authentication, your content will be synced with the <code class="literal">online_workbench</code> repository, which can be understood from the following screenshot:<div><img src="img/7522_04_10.jpg" alt="Time for action – adding a remote origin using GUI mode"/></div><p>It says that the master branch of your local <code class="literal">Workbench</code> repository is synced with the master branch of the <code class="literal">online_workbench</code> repository (more on branches in later chapters).</p></li></ol></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec43"/>
<em>What just happened?</em>
</h2></div></div></div><p>We just <a id="id290" class="indexterm"/> 
 <a id="id291" class="indexterm"/> 
 <a id="id292" class="indexterm"/> created a remote link for our <code class="literal">Workbench</code> repository with the <code class="literal">online_workbench</code> repository and pushed our files to it making them available online, thus opening the door for a distributed file system, using GUI mode.</p><p>Now if you open your Bitbucket account in your browser you will see history updated on your dashboard as shown in the following screenshot:</p><div><img src="img/7522_04_11.jpg" alt="What just happened?"/></div><p>This means you can continue your work from anywhere if you have access to a computer with Git and your application software installed on it (it's Microsoft Word in this case as we are dealing with a Word document).</p><p>Go ahead and browse through the different tabs available to make yourself comfortable with it. Once you are done with it, let's move to the next half to see how we can resume our work form distributed locations.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec44"/>Time for action – resume your work from anywhere using GUI mode</h1></div></div></div><p>Here, we are reaping the <a id="id293" class="indexterm"/> benefits for what we did earlier by creating an online repository, remoting to it, and syncing our local files to the online one. Resuming your work on any machine you lay your hands on is an easy three-phase process.</p><div><ol class="orderedlist arabic"><li class="listitem">Clone the repository from the server.<div><ol class="orderedlist lowerroman"><li class="listitem">Open Git GUI and select the <strong>Clone Existing Repository</strong> option as shown in the following screenshot:<div><img src="img/7522_04_12.jpg" alt="Time for action – resume your work from anywhere using GUI mode"/></div></li><li class="listitem">This leads you to the respective window where you are prompted for <strong>Source Location</strong> and <strong>Target Directory</strong> where you enter the values as follows:<div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Field name</p>
</th><th style="text-align: left" valign="bottom">
<p>Value</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<strong>Source location</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="https://your_name@bitbucket.org/username/online_workbench.git">https://your_name@bitbucket.org/username/online_workbench.git</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Target Directory</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">/Path/where/you/want/to/have/the_cloned_repository_for_ease_of_work</code>
</p>
</td></tr></tbody></table></div><p>This is <a id="id294" class="indexterm"/> shown in the following screenshot; click on the <strong>Clone</strong> button:</p><div><img src="img/7522_04_13.jpg" alt="Time for action – resume your work from anywhere using GUI mode"/></div></li><li class="listitem">Once the clone process starts you will be prompted for your Bitbucket account password. Upon successful authentication, you will have a cloned repository with the files with which you can resume your work.</li></ol></div></li><li class="listitem">Make your changes to the files as needed.</li><li class="listitem">Add/stage the modifications made in files, commit, fetch, merge, and push.<div><ol class="orderedlist lowerroman"><li class="listitem">We already know how to add/stage the modifications made to files and commit them to the repository. So let's start from fetch now. To perform a fetch operation, go to the <strong>Remote</strong> | <strong>Fetch from</strong> | <strong>Origin</strong> menu option. This should bring you the remote fetch window, which will prompt you for your Bitbucket account password as shown in the following screenshot:<div><img src="img/7522_04_14.jpg" alt="Time for action – resume your work from anywhere using GUI mode"/></div><p>Upon <a id="id295" class="indexterm"/> entering the correct password and a successful authentication, if there are any new changes to the files in the server that are not updated in your local repository, those changes are synced.</p><div><img src="img/7522_04_15.jpg" alt="Time for action – resume your work from anywhere using GUI mode"/></div><p>The previous screenshot shows you the sync process and the status of the sync. Upon success we can close the window and proceed to merge these two workspaces.</p></li><li class="listitem">Merging two workspaces, namely local master (your local workspace, which you have been using to make changes) and remote master (the workspace which is present in the server), is performed by selecting the <strong>Merge</strong> | <strong>Local merge</strong> menu option. This opens up a local merge window as shown in the <a id="id296" class="indexterm"/> following screenshot:<div><img src="img/7522_04_16.jpg" alt="Time for action – resume your work from anywhere using GUI mode"/></div><p>The default selected option would be <strong>origin/master</strong>; leave it as it is, and click on the <strong>Merge</strong> button.</p></li><li class="listitem">If there are no conflicts in merging you should see a success message like the one shown in the following screenshot:<div><img src="img/7522_04_17.jpg" alt="Time for action – resume your work from anywhere using GUI mode"/></div><p>This <a id="id297" class="indexterm"/> marks that you have successfully down-synced the contents present in the server with yours. Now let's up-sync your content with the one present in the servers by using the <code class="literal">git push</code> functionality, which can be accessed from the <strong>Remote</strong> | <strong>Push</strong> menu option.</p></li></ol></div></li></ol></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec44"/>
<em>What just happened?</em>
</h2></div></div></div><p>We just practiced a working solution for maximizing productivity by effectively handling situations as described in <em>Scenario 1</em>, using Git GUI.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec45"/>Scenario 2: solution</h2></div></div></div><p>Handling <em>Scenario 2</em> is very easy now that we know how we handled <em>Scenario 1</em>. The only addition to <em>Scenario 2</em> when compared to the former is the involvement of multiple people to the same repository.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec06"/>Inviting users to your Bitbucket repository</h3></div></div></div><p>Inviting your friend to <a id="id298" class="indexterm"/> access your game file so that he can finish <a id="id299" class="indexterm"/> that level for you is an easy two-step process from your side as follows:</p><div><ol class="orderedlist arabic"><li class="listitem">From your repository homepage, click on the <strong>Share</strong> icon or the <strong>invite</strong> button as shown in the following screenshot:<div><img src="img/7522_04_18.jpg" alt="Inviting users to your Bitbucket repository"/></div></li><li class="listitem">This will <a id="id300" class="indexterm"/> 
 <a id="id301" class="indexterm"/> prompt you to enter the details about the user whom you wanted to invite or share your repository with. If it's an existing user you can enter his/her username and if it's a new user you can enter his/her e-mail ID and click on the <strong>Add</strong> button as shown in the following screenshot:<div><img src="img/7522_04_19.jpg" alt="Inviting users to your Bitbucket repository"/></div></li><li class="listitem">Now the username/e-mail ID gets added to the list and you will be prompted to specify the access level for the user that you have added. Click on the <strong>Write</strong> button and then click on the <strong>Share</strong> button as shown in the following screenshot:<div><img src="img/7522_04_20.jpg" alt="Inviting users to your Bitbucket repository"/></div></li><li class="listitem">That's it! You <a id="id302" class="indexterm"/> 
 <a id="id303" class="indexterm"/> will see a success message at the top of your page, as shown in the following screenshot, as an acknowledgement for sharing:<div><img src="img/7522_04_21.jpg" alt="Inviting users to your Bitbucket repository"/></div><p>And the user you have added will receive an e-mail mentioning that you wanted to share your repository with him/her as shown in the following screenshot:</p><div><img src="img/7522_04_22.jpg" alt="Inviting users to your Bitbucket repository"/></div></li><li class="listitem">Upon clicking <a id="id304" class="indexterm"/> 
 <a id="id305" class="indexterm"/> the link you will be given two options.<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Sign up</strong>: If your friend is a new user of Bitbucket, he/she needs to go through the registration process as discussed earlier in this chapter. Post registration you will be routed to your dashboard.</li><li class="listitem" style="list-style-type: disc"><strong>Log in with your existing username</strong>: If your friend already has a Bitbucket account and once he/she logs in with his/her credentials, he/she will be prompted for acceptance to the shared repository as shown in the following screenshot:</li></ul></div><div><img src="img/7522_04_23.jpg" alt="Inviting users to your Bitbucket repository"/></div><p>When the <strong>Accept invitation</strong> button is clicked, the user will be taken to his/her dashboard.</p><p>And the dashboard will contain affirmation in the form of an onscreen notification as shown in the following screenshot along with an e-mail which is sent to your registered e-mail ID which contains the details of the repository that you have been given access to:</p><div><img src="img/7522_04_24.jpg" alt="Inviting users to your Bitbucket repository"/></div><p>And an e-mail <a id="id306" class="indexterm"/> 
 <a id="id307" class="indexterm"/> is sent to that user with the details about the repository which he/she has access to.</p></li></ol></div></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec46"/>
<em>What just happened?</em>
</h2></div></div></div><p>Voila! We have successfully practiced a working solution for handling <em>Scenario 2</em> cases effectively.</p><p>This means you can split a bigger task into smaller ones, and share those tasks and related files with others so that they can fill in their sectors to produce a common output.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec07"/>Staying local – share over the intranet</h3></div></div></div><p>There are situations <a id="id308" class="indexterm"/> where you work within a local network, like in different floors of a <a id="id309" class="indexterm"/> building, and don't want to upload your files to the web due to various reasons such as cost involved, bandwidth consumption for every put and get, security, and others.</p><p>In such cases there are several ways to handle this – the most commonly used are:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Gitolite server</li><li class="listitem" style="list-style-type: disc">Common shared directory with bare repositories</li></ul></div><p>We shall look at procedures to create a bare repository inside a shared directory so that it can be shared within your network.</p><div><div><div><div><h4 class="title"><a id="ch04lvl4sec03"/>Concept of a bare repository</h4></div></div></div><p>As soon as it is said that you need a bare repository to share your files with others, a few basic questions you might have in your mind would be:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">What is a bare repository?</li><li class="listitem" style="list-style-type: disc">Why do we need such a thing to share the files of our repository with others?</li></ul></div><p>Let's see them one by one.</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Bare repository</strong>: A <a id="id310" class="indexterm"/> bare repository is the one where no working directory is present.</li><li class="listitem" style="list-style-type: disc"><strong>Working directory</strong>: This is nothing <a id="id311" class="indexterm"/> but a directory with your source files, for example, <code class="literal">content.docx</code> <a id="id312" class="indexterm"/> inside the <a id="id313" class="indexterm"/> <code class="literal">Workbench</code> directory.<p>The contents of the <code class="literal">.git</code> directory <a id="id314" class="indexterm"/> alone would be the contents of your entire directory if it is a bare repository.</p></li><li class="listitem" style="list-style-type: disc"><strong>Why bare repository</strong>: Think <a id="id315" class="indexterm"/> about a situation where there are multiple people working on the same file at the same time. Now what happens when you are in the process of changing some content in the file from the repository and another person working on the same file makes his own changes and pushes it to your repository!<p>The contents of your file will be altered, or the file itself may cease to exist based on the actions performed from the other end, whereas you would have the file opened for manipulation.</p><p>It causes a great deal of confusion in handling such scenarios, so the people who have created Git have done the smart thing of avoiding such situations by implementing the bare repository concept. This bare repository acts as a middle man between all such clones and your source repository, which contains the working directory. So you cannot simply push from a clone to the source of the clone, if the source contains the working directory.</p><div><img src="img/7522_04_25.jpg" alt="Concept of a bare repository"/></div></li></ul></div><p>Let's create a bare repository and take a quick peek into it to understand it better.</p></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec45"/>Time for action – creating a bare repository in CLI mode</h1></div></div></div><p>The command for <a id="id316" class="indexterm"/> creating a bare repository would be the <a id="id317" class="indexterm"/> same as the one that you used to clone a repository except for the <code class="literal">--bare</code> parameter, which makes all the difference.</p><div><pre class="programlisting">
<strong>git clone --bare C:\Users\raviepic3\Desktop\Workbench C:\generic_share\Bare_Workbench</strong>
</pre></div><p>Executing the preceding code in your console should create a bare clone of our <code class="literal">Workbench</code> repository in your common shared folder called <code class="literal">generic_share</code>.</p></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec46"/>Time for action – creating a bare repository in GUI mode</h1></div></div></div><p>Creating a bare clone from an <a id="id318" class="indexterm"/> already existing repository using GUI is <a id="id319" class="indexterm"/> an easy process. All you need to do is:</p><div><ol class="orderedlist arabic"><li class="listitem">Copy the <code class="literal">.git</code> directory from the existing repository and paste it with a <code class="literal">different_name.git</code> (whatever name you want to give to your new bare repository) outside the repository.<p>In our case we have a non bare repo called <code class="literal">Workbench</code> at <code class="literal">C:\Users\raviepic3\Desktop\</code> inside which we have <code class="literal">content.docx</code>. And now I want to create a new bare repository from this using GUI. I'll copy <code class="literal">C:\Users\raviepic3\Desktop\Workbench\.git</code> and paste it as <code class="literal">C:\generic_share\Bare_Workbench.git</code>.</p></li><li class="listitem">Open the <code class="literal">config</code> file inside <code class="literal">Bare_Workbench.git</code> with a text editor and find the line which says <code class="literal">bare = false</code> and replace the string <code class="literal">false</code> with <code class="literal">true</code>.</li><li class="listitem">Save and exit.</li></ol></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec47"/>
<em>What just happened?</em>
</h2></div></div></div><p>By performing the previous actions through CLI or GUI we have just created a bare repository out of the <code class="literal">Workbench</code> repository inside a directory called <code class="literal">generic_share</code> under the name of <code class="literal">Bare_Workbench</code> whose contents are as shown in the following screenshot:</p><div><img src="img/7522_04_26.jpg" alt="What just happened?"/></div><p>For a better understanding, a content comparison between the two repositories is shown in the following figure:</p><div><img src="img/7522_04_27.jpg" alt="What just happened?"/></div><p>If you are in a <a id="id320" class="indexterm"/> local <a id="id321" class="indexterm"/> network, you can control who has access to the repository by controlling the visibility of the shared folder <code class="literal">generic_share</code>, the same way you control visibility of other shared folders within your network.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec47"/>Summary</h1></div></div></div><p>We have learned what is and how to:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Clone a repository<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Differentiate between bare and non bare repositories, their usage, and implementation</li></ul></div></li><li class="listitem" style="list-style-type: disc">Add a remote to a repository</li><li class="listitem" style="list-style-type: disc">Fetch, merge, and push content to the added remote repository or a cloned repository<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The pull operation and its alternates</li></ul></div></li></ul></div><p>Additionally, you have also learned how to:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Share your repositories over the Internet and intranet using:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Git CLI</li><li class="listitem" style="list-style-type: disc">Git GUI</li></ul></div></li><li class="listitem" style="list-style-type: disc">You are also ready to get productive with the concepts that you have learned starting from day one, as you already have a Bitbucket account with which you can create and manage unlimited public and private repositories and share them with at the most five users without spending a penny on it</li></ul></div></div></body></html>