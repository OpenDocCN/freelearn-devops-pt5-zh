<html><head></head><body>
  
    
      <h1>Publishing Images</h1>
    

    
      <p>In the previous chapter, you learned how to build Docker images. The next logical step is to publish these images in a public repository for public discovery and consumption. So, this chapter focuses on publishing images on Docker Hub, and how to get the most out of Docker Hub. We will create a new Docker image, using the <code>commit</code> command and a <code>Dockerfile</code>, build on it, and push it to Docker Hub. The concept of a Docker trusted repository will be discussed. This Docker trusted repository is created from GitHub or Bitbucket, and it can then be integrated with Docker Hub to automatically build images as a result of updates in the repository. This repository on GitHub is used to store the <code>Dockerfile</code>, which was previously created. Also, we will illustrate how worldwide organizations can enable their teams of developers to craft and contribute a variety of Docker images to be deposited in Docker Hub. The Docker Hub REST APIs can be used for user management and the manipulation of the repository programmatically.</p>

      <p>The following topics are covered in this chapter:</p>

      <ul>
        <li>Understanding Docker Hub</li>

        <li>Pushing images to Docker Hub</li>

        <li>Automatic building of images</li>

        <li>Private repositories on Docker Hub</li>

        <li>Creating organizations on Docker Hub</li>

        <li>The Docker Hub REST API</li>
      </ul>
    
  

  
    
      <h2 id="sigil_toc_id_73">Understanding Docker Hub</h2>
    

    
      <p>Docker Hub is the central place used for keeping the Docker images either in a public or private repository. Docker Hub provides features, such as a repository for Docker images, user authentications, automated image builds, integration with GitHub or Bitbucket, and managing organizations and groups. The Docker Registry component of Docker Hub manages the repository for Docker images. Also, you can protect your repositories using Docker Security Scanning, which is free as of now. This feature was first enabled in IBM container repositories.</p>

      <p>Docker Registry is a storage system used to store images. Automated build is a feature of Docker Hub, which is not open source yet at the time of writing this book. The following diagram shows the typical features:</p>

      <div><img class="image-border" height="203" src="img/image_04_001.jpg" width="329"/>
      </div>

      <p class="packt_figure">In order to work with Docker Hub, you have to register with Docker Hub, and create an account using the link available at <a href="https://hub.docker.com/">https://hub.docker.com/</a>. You can update the Docker Hub ID, e-mail address, and password fields, as shown in the following screenshot:</p>

      <div><div><img class="image-border" src="img/image_04_002.jpg"/>
        </div>
      </div>

      <p class="packt_figure">After completing the sign up process, you need to complete the verification received in an e-mail. After the e-mail verification is completed, you will see something similar to the following screenshot when you log in to Docker Hub:</p>

      <div><img class="image-border" src="img/image_04_003.jpg"/>
      </div>

      <p class="packt_figure">The creation of an account in Docker Hub has completed successfully, and now you can log in to your Docker Hub account from <a href="https://hub.docker.com/login/">https://hub.docker.com/login/</a>, as shown in the following screenshot:</p>

      <div><div><img class="image-border" height="418" src="img/image_04_004.jpg" width="575"/>
        </div>
      </div>

      <p class="packt_figure">Docker Hub also supports command-line access to Docker Hub using an Ubuntu Terminal:</p>

      <pre><strong>$ sudo docker login</strong>  
</pre>

      <p>Log in with your Docker ID to push and pull images from Docker Hub. If you don't have a Docker ID, head over to <a href="https://hub.docker.com">https://hub.docker.com</a> to create one. Enter your username and password in the Terminal:</p>

      <pre><strong>Username: vinoddandy</strong><br/><strong>Password:</strong> 
</pre>

      <p>After a successful login, the output is as follows:</p>

      <pre><strong>Login Succeeded</strong>
</pre>

      <p>You can browse the available images in Docker Hub at <a href="https://hub.docker.com/explore/">https://hub.docker.com/explore/</a>, as follows:</p>

      <div><img class="image-border" src="img/image_04_005.jpg"/>
      </div>

      <p class="packt_figure">Also, you can see your settings, update your profile, and get details of supported communities, such as Twitter, Stack Overflow, #IRC, Google Groups, and GitHub.</p>
    
  

  
    
      <h2 id="sigil_toc_id_74">Pushing images to Docker Hub</h2>
    

    
      <p>Here, we will create a Docker image on the local machine and push this image to Docker Hub. You need to perform the following steps in this section:</p>

      <ol>
        <li>Create a Docker image on the local machine by doing one of the following:</li>
      </ol>

      <div><ul>
          <li>Using the <code>docker commit</code> subcommand</li>

          <li>Using the <code>docker commit</code> subcommand with <code>Dockerfile</code></li>
        </ul>
      </div>

      <ol start="2">
        <li>Pushing this created image to Docker Hub</li>

        <li>Deleting the image from Docker Hub</li>
      </ol>

      <p>We will use the <code>ubuntu</code> base image, run the container, add a new directory and a new file, and then create a new image. In <a href="../Text/Ch03.xhtml">Chapter 3</a>, <em>Building Images</em>, we saw how to create a Docker image using <code>Dockerfile</code>. You may refer to that chapter to check for details of the <code>Dockerfile</code> syntax.</p>

      <p>We will run the container with the <code>containerforhub</code> name from the base <code>ubuntu</code> image, as shown in the following Terminal code:</p>

      <pre><strong>$ sudo docker run -i --name="containerforhub" -t ubuntu /bin/bash </strong><br/><strong>Unable to find image 'ubuntu:latest' locally </strong><br/><strong>latest: Pulling from library/ubuntu </strong><br/><strong>952132ac251a: Pull complete </strong><br/><strong>Digest: sha256:f4691c96e6bbaa99d99ebafd9af1b68ace2aa2128ae95a60369c506dd6e6f6ab </strong><br/><strong>Status: Downloaded newer image for ubuntu:latest </strong><br/><strong>root@1068a1fae7da:/# </strong> 
</pre>

      <p>Next, we'll create a new directory and file in the <code>containerforhub</code> container. We will also update the new file with some sample text to test later:</p>

      <pre><strong>root@1068a1fae7da:/# mkdir mynewdir </strong><br/><strong>root@1068a1fae7da:/# cd mynewdir </strong><br/><strong>root@1068a1fae7da:/mynewdir# echo 'this is my new container to make image and then push to hub' &gt; mynewfile </strong><br/><strong>root@1068a1fae7da:/mynewdir# cat mynewfile </strong><br/><strong>this is my new container to make image and then push to hub </strong><br/><strong>root@1068a1fae7da:/mynewdir#</strong> 
</pre>

      <p>Let's build the new image with the <code>docker commit</code> command from the container, which has just been created.</p>

      <p>The <code>commit</code> command will be executed from the host machine, from where the container is running, and not from inside this container:
      </p>

      <pre><strong>$ sudo docker commit -m="NewImage for second edition" containerforhub vinoddandy/imageforhub2 </strong><br/><strong>sha256:619a25519578b0525b4c098e3d349288de35986c1f3510958b6246fa5d3a3f56 </strong>
</pre>

      <p>You should use your own username of Docker Hub in place of <code>vinoddandy</code> to create the image.</p>

      <p>Now, we have a new Docker image available on the local machine with the <code>vinoddandy/imageforhub2</code> name. At this point, a new image with <code>mynewdir</code> and <code>mynewfile</code> is created locally:</p>

      <pre><strong>$ sudo docker images -a </strong><br/><strong>REPOSITORY TAG IMAGE ID CREATED SIZE </strong><br/><strong>vinoddandy/imageforhub2 latest 619a25519578 <br/>2 minutes ago 126.6 MB </strong>
</pre>

      <p>We will log in to Docker Hub using the <code>sudo docker login</code> command, as discussed earlier in this chapter.</p>

      <p>Let's push this image to Docker Hub from the host machine:</p>

      <pre><strong>$ sudo docker push vinoddandy/imageforhub2 </strong><br/><strong>The push refers to a repository [docker.io/vinoddandy/imageforhub2] </strong><br/><strong>0ed7a0595d8a: Pushed </strong><br/><strong>0cad5e07ba33: Mounted from library/ubuntu </strong><br/><strong>48373480614b: Mounted from library/ubuntu </strong><br/><strong>latest: digest: sha256:cd5a86d1b26ad156b0c74b0b7de449ddb1eb51db7e8ae9274307d27f810280c9 size: 1564</strong> 
</pre>

      <p>Now, we'll login to Docker Hub and verify the image in Repositories.</p>

      <p>To test the image from Docker Hub, let's remove this image from the local machine. To remove the image, first we need to stop the container and then delete the container:</p>

      <pre><strong>$ sudo docker stop containerforhub </strong><br/><strong>$ sudo docker rm containerforhub </strong>
</pre>

      <p>We will also delete the <code>vinoddandy/imageforhub2</code> image:</p>

      <pre><strong>$ sudo docker rmi vinoddandy/imageforhub2</strong><br/><strong>Untagged: vinoddandy/imageforhub2:latest </strong><br/><strong>Untagged: vinoddandy/imageforhub2@sha256:cd5a86d1b26ad156b0c74b0b7de449ddb1eb51db7e8ae9274307d27f810280c9 </strong><br/><strong>Deleted: sha256:619a25519578b0525b4c098e3d349288de35986c1f3510958b6246fa5d3a3f56</strong> 
</pre>

      <p>We will pull the newly created image from Docker Hub, and run the new container on the local machine:</p>

      <pre><strong>$ sudo docker run -i --name="newcontainerforhub" -t \ vinoddandy/imageforhub2 /bin/bash </strong><br/><strong>Unable to find image 'vinoddandy/imageforhub2:latest' locally </strong><br/><strong>latest: Pulling from vinoddandy/imageforhub2 </strong><br/><br/><strong>952132ac251a: Already exists </strong><br/><strong>82659f8f1b76: Already exists </strong><br/><strong>Digest: sha256:cd5a86d1b26ad156b0c74b0b7de449ddb1eb51db7e8ae9274307d27f810280c9 </strong><br/><strong>Status: Downloaded newer image for vinoddandy/imageforhub2:latest <br/></strong><br/><strong>root@9dc6df728ae9:/# cat /mynewdir/mynewfile </strong><br/><strong>this is my new container to make image and then push to hub </strong><br/><strong>root@9dc6df728ae9::/#</strong> 
</pre>

      <p>So, we have pulled the latest image from Docker Hub and created the container with the new <code>vinoddandy/imageforhub2</code> image. Make a note that the <code>Unable to find image 'vinoddandy/imageforhub2:latest' locally</code> message confirms that the image is downloaded from the remote repository of Docker Hub.</p>

      <p>The text in <code>mynewfile</code> verifies that it is the same image that was created earlier.</p>

      <p>Finally, we will delete the image from Docker Hub at <a href="https://hub.docker.com/r/vinoddandy/imageforhub/">https://hub.docker.com/r/vinoddandy/imageforhub2/</a> and then click on Settings and then Delete, as shown in the following screenshot:</p>

      <div><img class="image-border" height="468" src="img/image_04_006.jpg" width="548"/>
      </div>

      <p>We'll again create this image, but now using the <code>Dockerfile</code> process. So, let's create the Docker image using the <code>Dockerfile</code> concept explained in <a href="../Text/Ch03.xhtml">Chapter 3</a>, <em>Building Images</em>, and push this image to Docker Hub.</p>

      <p>The <code>Dockerfile</code> on the local machine is as follows:</p>

      <pre>########################################### <br/># Dockerfile to build a new image <br/>########################################### <br/># Base image is Ubuntu <br/>FROM ubuntu:16.04 <br/># Author: Dr. Peter <br/>MAINTAINER Dr. Peter &lt;peterindia@gmail.com&gt; <br/># create 'mynewdir' and 'mynewfile' <br/>RUN mkdir mynewdir <br/>RUN touch /mynewdir/mynewfile <br/># Write the message in file <br/>   RUN echo 'this is my new container to make image and then push to hub'  <br/> &gt;/mynewdir/mynewfile 
</pre>

      <p>Now we'll build the image locally using the following command:</p>

      <pre><strong>$ sudo docker build -t="vinoddandy/dockerfileimageforhub1" .</strong><br/><strong>Sending build context to Docker daemon 16.74 MB</strong><br/><strong>Step 1 : FROM ubuntu:16.04</strong><br/><strong>16.04: Pulling from library/ubuntu</strong><br/><strong>862a3e9af0ae: Pull complete </strong><br/><strong>7a1f7116d1e3: Pull complete </strong><br/><strong>Digest: sha256:5b5d48912298181c3c80086e7d3982029b288678fccabf2265899199c24d7f89</strong><br/><strong>Status: Downloaded newer image for ubuntu:16.04</strong><br/><strong>---&gt; 4a725d3b3b1c</strong><br/><strong>Step 2 : MAINTAINER Dr. Peter &lt;peterindia@gmail.com&gt;</strong><br/><strong>---&gt; Running in 5be5edc9b970</strong><br/><strong>---&gt; 348692986c9b</strong><br/><strong>Removing intermediate container 5be5edc9b970</strong><br/><strong>Step 3 : RUN mkdir mynewdir</strong><br/><strong>---&gt; Running in ac2fc73d75f3</strong><br/><strong>---&gt; 21585ffffab5</strong><br/><strong>Removing intermediate container ac2fc73d75f3</strong><br/><strong>Step 4 : RUN touch /mynewdir/mynewfile</strong><br/><strong>---&gt; Running in c64c98954dd3</strong><br/><strong>---&gt; a6304b678ea0</strong><br/><strong>Removing intermediate container c64c98954dd3</strong><br/><strong>Step 5 : RUN echo 'this is my new container to make image and then push to hub' &gt; /mynewdir/mynewfile</strong><br/><strong>---&gt; Running in 7f6d087e29fa</strong><br/><strong>---&gt; 061944a9ba54</strong><br/><strong>Removing intermediate container 7f6d087e29fa</strong><br/><strong>Successfully built 061944a9ba54</strong>  
</pre>

      <p>We'll run the container using this image, as shown here:</p>

      <pre><strong>$ sudo docker run -i --name="dockerfilecontainerforhub" -t vinoddandy/dockerfileimageforhub1 /bin/bash <br/></strong><br/><strong>root@236bfb39fd48:/# cat /mynewdir/mynewfile </strong><br/><strong>this is my new container to make image and then push to hub</strong> 
</pre>

      <p>This text in <code>mynewdir</code> confirms that the new image is built properly with a new directory and a new file.</p>

      <p>Repeat the login process in Docker Hub and push this newly created image:</p>

      <pre><strong>$ sudo docker login</strong><br/><strong>Login with your Docker ID to push and pull images from Docker Hub. If you don't have a Docker ID, head over to https://hub.docker.com to create one.</strong><br/><strong>Username (vinoddandy): vinoddandy</strong><br/><strong>Password: </strong><br/><strong>Login Succeeded</strong><br/><br/><strong>$ sudo docker push vinoddandy/dockerfileimageforhub1</strong><br/><strong>The push refers to a repository [docker.io/vinoddandy/dockerfileimageforhub1]</strong><br/><strong>92e394693590: Pushed </strong><br/><strong>821a2be25576: Pushed </strong><br/><strong>dca059944a2e: Pushed </strong><br/><strong>ffb6ddc7582a: Mounted from library/ubuntu </strong><br/><strong>344f56a35ff9: Mounted from library/ubuntu </strong><br/><strong>530d731d21e1: Mounted from library/ubuntu </strong><br/><strong>24fe29584c04: Mounted from library/ubuntu </strong><br/><strong>102fca64f924: Mounted from library/ubuntu </strong><br/><strong>latest: digest: sha256:c418c88f260526ec51ccb6422e2c90d0f6fc16f1ab81da9c300160d0e0f7bd87 size: 1979</strong>
</pre>

      <p>Finally, we can verify the availability of the image on Docker Hub:</p>

      <p><img class="image-border" src="img/image_04_007.jpg"/></p>
    
  

  
    
      <h2 id="sigil_toc_id_75">Automating the build process for images</h2>
    

    
      <p>You learned how to build images locally and push these images to Docker Hub. Docker Hub also has the capability to automatically build the image from the <code>Dockerfile</code> kept in the repository of GitHub or Bitbucket. Automated builds are supported on both the private and public repositories of GitHub and Bitbucket. The Docker Hub Registry keeps all the automated build images. The Docker Hub Registry is open source and can be accessed from <a href="https://github.com/docker/docker-registry">https://github.com/docker/docker-registry</a>.</p>

      <p>We will discuss the steps needed to implement the automated build process:</p>

      <ol>
        <li>We first connect Docker Hub to our GitHub account.</li>

        <li>Log in to Docker Hub from <a href="https://hub.docker.com/login/">https://hub.docker.com/login/</a>, click on Create, and then navigate to Create Automated Build, as shown in the following screenshot:</li>
      </ol>

      <div><img class="image-border" height="194" src="img/image_04_008.jpg" width="670"/>
      </div>

      <ol start="3">
        <li>We'll now select Link Accounts:</li>
      </ol>

      <div><img class="image-border" height="279" src="img/image_04_009.jpg" width="699"/>
      </div>

      <ol start="4">
        <li>Once GitHub is selected, we will select Public and Private (Recommended), as shown here:</li>
      </ol>

      <div><img class="image-border" height="224" src="img/image_04_010.jpg" width="768"/>
      </div>

      <p style="padding-left: 60px">After clicking on Select, your GitHub repository will now be shown.</p>

      <ol start="5">
        <li>Now, provide the GitHub credentials to link your GitHub account with Docker Hub and select Sign in:</li>
      </ol>

      <div><img class="image-border" height="446" src="img/image_04_011.jpg" width="513"/>
      </div>

      <ol start="6">
        <li>After a successful login, the Linked Accounts &amp; Services screen looks like the following screenshot:</li>
      </ol>

      <div><img class="image-border" src="img/image_04_012.jpg"/>
      </div>

      <p>So, whenever the <code>Dockerfile</code> is updated in GitHub, the automated build gets triggered and a new image will be stored in the Docker Hub Registry. We can always check the build history. We can change the <code>Dockerfile</code> on the local machine and push it to GitHub. Now, we can see the automated build link of Docker Hub at <a href="https://hub.docker.com/r/vinoddandy/dockerautomatedbuild/builds/">https://hub.docker.com/r/vinoddandy/dockerautomatedbuild/builds/</a>:</p>

      <div><img class="image-border" src="img/image_04_013.jpg"/>
      </div>
    
  

  
    
      <h2 id="sigil_toc_id_76">Private repositories on Docker Hub</h2>
    

    
      <p>Docker Hub provides both public and private repositories. The public repository is free to users and the private ones are a paid service. Plans with private repositories are available in different sizes, such as micro, small, medium, or large subscriptions.</p>

      <p>Docker has published its public repository code to open source at <a href="https://github.com/docker/docker-registry">https://github.com/docker/docker-registry</a>.</p>

      <p>Normally, enterprises will not like to keep their Docker images either in a Docker public or private repository. They prefer to keep, maintain, and support their own repository. Hence, Docker also provides the option for enterprises to create and install their own repository.</p>

      <p>Let's create a repository in the local machine using the <code>registry</code> image provided by Docker. We will run the registry container on the local machine, using the <code>registry</code> image from Docker:</p>

      <pre><strong>$ sudo docker run -p 5000:5000 -d registry </strong><br/><strong>768fb5bcbe3a5a774f4996f0758151b1e9917dec21aedf386c5742d44beafa41</strong>
</pre>

      <p>In the automated build section, we built the <code>vinoddandy/dockerfileimageforhub1</code> image. Let's tag the <code>224affbf9a65</code> image ID to our locally created registry image. This tagging of the image is needed for unique identification inside the local repository. This image registry may have multiple variants in the repository, so this tag will help you identify the particular image:</p>

      <pre><strong>$ sudo docker tag 224affbf9a65 \ localhost:5000/vinoddandy/dockerfileimageforhub1</strong>  
</pre>

      <p>Once the tagging is done, push this image to a new registry using the <code>docker push</code> command:</p>

      <pre><strong>$ sudo docker push localhost:5000/vinoddandy/dockerfile</strong><br/><strong>imageforhub1</strong><br/><strong>The push refers to a repository [localhost:5000/vinoddandy/dockerfileimageforhub1</strong><br/><strong>] (len: 1)</strong><br/><strong>Sending image list</strong><br/><strong>Pushing repository localhost:5000/vinoddandy/dockerfileimageforhub1 (1 tags)</strong><br/><strong>511136ea3c5a: Image successfully pushed</strong><br/><strong>d497ad3926c8: Image successfully pushed</strong><br/><strong>----------------------------------------------------</strong><br/><strong>224affbf9a65: Image successfully pushed</strong><br/><strong>Pushing tag for rev [224affbf9a65] on {http://localhost:5000/v1/repositories/vin</strong><strong>oddandy/dockerfileimageforhub1/tags/latest}</strong>  
</pre>

      <p>Now, the new image is available in the local repository. You can retrieve this image from the local registry and run the container. This task is left for you to complete.</p>
    
  

  
    
      <h2 id="sigil_toc_id_77">Organizations and teams on Docker Hub</h2>
    

    
      <p>One of the useful aspects of private repositories is that you can share them only with members of your organization or team. Docker Hub lets you create organizations, where you can collaborate with your colleagues and manage private repositories. You will learn how to create and manage an organization next.</p>

      <p>The first step is to create an organization on Docker Hub at <a href="https://hub.docker.com/organizations/add/">https://hub.docker.com/organizations/add/</a>, as shown in the following screenshot:</p>

      <div><img class="image-border" src="img/image_04_014.jpg"/>
      </div>

      <p>Inside your organization, you can add more organizations, and then add members to it:</p>

      <div><img class="image-border" src="img/image_04_015.jpg"/>
      </div>

      <p>The members of your organization and group can collaborate with the organization and teams. This feature will be more useful in the case of a private repository.</p>
    
  

  
    
      <h2 id="sigil_toc_id_78">The REST API for Docker Hub</h2>
    

    
      <p>Docker Hub provides a REST API to integrate the Hub capabilities through programs. The REST API is supported for both user and repository management.</p>

      <p>User management supports the following features:</p>

      <ul>
        <li><strong>User Login</strong>: This is used for user login to Docker Hub:</li>
      </ul>

      <pre><strong> GET /v1/users </strong><br/><strong> $ curl --raw -L --user vinoddandy:password </strong><br/><strong> https://index.docker.io/v1/users </strong><br/><strong> 4 </strong><br/><strong> "OK" </strong><br/><strong> 0</strong> 
</pre>

      <ul>
        <li><strong>User Register</strong>: This is used for the registration of a new user:</li>
      </ul>

      <pre><strong> POST /v1/users </strong>
</pre>

      <ul>
        <li><strong>Update user</strong>: This is used to update the user's password and e-mail:</li>
      </ul>

      <pre><strong> PUT /v1/users/(username)/</strong> 
</pre>

      <p>Repository management supports the following features:</p>

      <ul>
        <li><strong>Create a user repository</strong>: This creates a user repository:</li>
      </ul>

      <pre><strong> PUT /v1/repositories/(namespace)/(repo_name)/ </strong><br/><strong> $ curl --raw -L -X POST --post301 -H </strong><br/><strong> "Accept:application/json" -H "Content-Type: </strong><br/><strong> application/json" --data-ascii '{"email": </strong><br/><strong> "singh_vinod@yahoo.com", "password": "password", </strong><br/><strong> "username": "singhvinod494" }' </strong><br/><strong> https://index.docker.io/v1/users </strong><br/><strong> e </strong><br/><strong> "User created" </strong><br/><strong> 0</strong> 
</pre>

      <p>After you create repositories, your repositories will be listed here, as shown in this screenshot:</p>

      <ul>
        <li><strong>Delete a user repository</strong>: This deletes a user repository:</li>
      </ul>

      <pre><strong> DELETE /v1/repositories/(namespace)/(repo_name)/</strong> 
</pre>

      <ul>
        <li><strong>Create a library repository</strong>: This creates a library repository, and it is available only to Docker administrators:</li>
      </ul>

      <pre><strong> PUT /v1/repositories/(repo_name)/</strong> 
</pre>

      <ul>
        <li><strong>Delete a library repository</strong>: This deletes a library repository, and it is available only to Docker administrators:</li>
      </ul>

      <pre><strong> DELETE /v1/repositories/(repo_name)/</strong> 
</pre>

      <ul>
        <li><strong>Update user repository images</strong>: This updates the images of a user's repository:</li>
      </ul>

      <pre><strong> PUT /v1/repositories/(namespace)/(repo_name)/images </strong>
</pre>

      <ul>
        <li><strong>List user repository images</strong>: This lists the images in a user's repository:</li>
      </ul>

      <pre><strong> GET /v1/repositories/(namespace)/(repo_name)/images</strong> 
</pre>

      <ul>
        <li><strong>Update library repository images</strong>: This updates the images in a library repository:</li>
      </ul>

      <pre><strong> PUT /v1/repositories/(repo_name)/images </strong>
</pre>

      <ul>
        <li><strong>List library repository images</strong>: This lists the images in a library repository:</li>
      </ul>

      <pre><strong> GET /v1/repositories/(repo_name)/images</strong> 
</pre>

      <ul>
        <li><strong>Authorize a token for a library repository</strong>: This authorizes a token for a library repository:</li>
      </ul>

      <pre><strong> PUT /v1/repositories/(repo_name)/auth</strong> 
</pre>

      <ul>
        <li><strong>Authorize a token for a user repository</strong>: This authorizes a token for a user's repository:</li>
      </ul>

      <pre><strong> PUT /v1/repositories/(namespace)/(repo_name)/auth</strong> 
</pre>
    
  

  
    
      <h2 id="sigil_toc_id_79">Summary</h2>
    

    
      <p>Docker images are the most prominent building blocks used for deriving real-world Docker containers that can be exposed as a service over any network. Developers can find and check images for their unique capabilities, and use them accordingly for their own purposes in bringing up highly usable, publicly discoverable, network-accessible, and cognitively composable containers. All crafted images need to be put in a public registry repository. In this chapter, we clearly explained how to publish images in a repository. We also talked about trusted repositories and their distinct characteristics. Finally, we demonstrated how the REST API for the repository can be leveraged to push in and play around with Docker images and user management, programmatically.</p>

      <p>Docker images need to be stored in a public, controlled, and network-accessible location to be readily found and leveraged by worldwide software engineers and system administrators. Docker Hub is being touted as the best-in-class method to centrally aggregate, curate, and manage Docker images, originating from Docker enthusiasts (internal as well as external). However, enterprises cannot afford to keep their Docker images in a public domain, and hence the next chapter is dedicated to explaining the steps needed for image deployment and management in private IT infrastructures.</p>
    
  
</body></html>