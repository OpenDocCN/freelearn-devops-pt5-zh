["```\n$ export DOCKER_CONTENT_TRUST=1\n```", "```\n$ docker pull --disable-content-trust=false busybox:latest\n```", "```\n$ export DOCKER_CONTENT_TRUST=1\n\n$ docker image pull busybox\nUsing default tag: latest\nPull (1 of 1): busybox:latest@sha256:1303dbf110c57f3edf68d9f5a16c082ec06c4cf7604831669faf2c712260b5a0\nsha256:1303dbf110c57f3edf68d9f5a16c082ec06c4cf7604831669faf2c712260b5a0: Pulling from library/busybox\n0f8c40e1270f: Pull complete \nDigest: sha256:1303dbf110c57f3edf68d9f5a16c082ec06c4cf7604831669faf2c712260b5a0\nStatus: Downloaded newer image for busybox@sha256:1303dbf110c57f3edf68d9f5a16c082ec06c4cf7604831669faf2c712260b5a0\nTagging busybox@sha256:1303dbf110c57f3edf68d9f5a16c082ec06c4cf7604831669faf2c712260b5a0 as busybox:latest\ndocker.io/library/busybox:latest\n```", "```\n$ docker container run -ti busybox sh\n/ # ls \nbin dev etc home proc root sys tmp usr var\n/ # touch NEW_FILE\n/ # exit\n```", "```\n$ DOCKER_CONTENT_TRUST=0 docker container commit 3da3b341e904 busybox:untrusted\nsha256:67a6ce66451aa10011d379e4628205889f459c06a3d7793beca10ecd6c21b68a\n```", "```\n$ docker container run -ti busybox:untrusted sh\ndocker: No valid trust data for untrusted.\nSee 'docker run --help'.\n```", "```\n$ docker image push frjaraur/mybusybox:trusted\nThe push refers to repository [docker.io/frjaraur/mybusybox]\n0736ae522762: Pushed \n1da8e4c8d307: Mounted from library/busybox \ntrusted: digest: sha256:e58e349eee38baa38f8398510c44e63a1f331dc1d80d4ed6010fe34960b9945f size: 734\nSigning and pushing trust metadata\nYou are about to create a new root signing key passphrase. This passphrase\nwill be used to protect the most sensitive key in your signing system. Please\nchoose a long, complex passphrase and be careful to keep the password and the\nkey file itself secure and backed up. It is highly recommended that you use a\npassword manager to generate the passphrase and keep it safe. There will be no\nway to recover this key. You can find the key in your config directory.\nEnter passphrase for new root key with ID 6e03824: \nRepeat passphrase for new root key with ID 6e03824: \nEnter passphrase for new repository key with ID b302395: \nRepeat passphrase for new repository key with ID b302395: \nFinished initializing \"docker.io/frjaraur/mybusybox\"\nSuccessfully signed docker.io/frjaraur/mybusybox:trusted\n```", "```\n$ docker container run -ti frjaraur/mybusybox:trusted\n/ # touch OTHERFILE\n/ # exit\n```", "```\n$ docker trust inspect --pretty docker.io/frjaraur/mybusybox:trusted\n\nSignatures for docker.io/frjaraur/mybusybox:trusted\n\nSIGNED TAG DIGEST SIGNERS\ntrusted e58e349eee38baa38f8398510c44e63a1f331dc1d80d4ed6010fe34960b9945f (Repo Admin)\n\nAdministrative keys for docker.io/frjaraur/mybusybox:trusted\n\n Repository Key: b3023954026f59cdc9be0b7ba093039353ce6e2d1a06c1338e4387689663abc0\n Root Key: e9120faa839a565838dbad7d45edd3c329893ae1f2085f225dc039272dec98ed\n```", "```\ntrust/tuf/docker.io/frjaraur/mybusybox/metadata:\ntotal 16\n-rw------- 1 zero zero  494 nov 30 17:29 timestamp.json\n-rw------- 1 zero zero  531 nov 30 17:28 targets.json\n-rw------- 1 zero zero  682 nov 30 17:28 snapshot.json\n-rw------- 1 zero zero 2417 nov 30 17:03 root.json\n...\n...\ntrust/tuf/docker.io/library/busybox/metadata:\ntotal 28\n-rw------- 1 zero zero 498 nov 30 17:17 timestamp.json\n-rw------- 1 zero zero 13335 nov 30 16:41 targets.json\n-rw------- 1 zero zero 688 nov 30 16:41 snapshot.json\n-rw------- 1 zero zero 2405 nov 30 16:41 root.json\n```", "```\n$ curl -o /tmp/notary -sL https://github.com/theupdateframework/notary/releases/download/v0.6.1/notary-Linux-amd64\n\n$ sudo mv /tmp/notary /usr/local/bin/notary\n\n$ sudo chmod 755 /usr/local/bin/notary\n```", "```\n$ notary -s https://notary.docker.io -d ~/.docker/trust list docker.io/library/busybox\nNAME DIGEST SIZE (BYTES) ROLE\n---- ------ ------------ ----\n1 1303dbf110c57f3edf68d9f5a16c082ec06c4cf7604831669faf2c712260b5a0 1864 targets\n...\n...\n1.31.1-uclibc 817e459ca73c567e9132406bad78845aaf72d2e0c0965ff68861b318591e949a 1210 targets\nbuildroot-2013.08.1 c0a08c5e4c15c53f03323bae8e82fdfd9f4fccb7fd01b97579b19e3e3205915c 5074 targets\nbuildroot-2014.02 ced99ae82473e7dea723e6c467f409ed8f051bda04760e07fd5f476638c33507 5071 targets\nglibc 0ec061426ef36bb28e3dbcd005f9655b6bfa0345f0d219c8eb330e2954f192ac 1638 targets\nlatest 1303dbf110c57f3edf68d9f5a16c082ec06c4cf7604831669faf2c712260b5a0 1864 targets\n...\n...\nuclibc 817e459ca73c567e9132406bad78845aaf72d2e0c0965ff68861b318591e949a 1210 targets\n```", "```\n$ export DOCKER_CONTENT_TRUST_ROOT_PASSPHRASE=\"MyVerySecureRootPassphraseForAutomation\"\n$ export DOCKER_CONTENT_TRUST_REPOSITORY_PASSPHRASE=\"MyVerySecureRepositoryPassphraseForAutomation\"\n\n$ docker build -t docker/trusttest:testing .\nUsing default tag: latest\nlatest: Pulling from docker/trusttest\nb3dbab3810fc: Pull complete\na9539b34a6ab: Pull complete\nDigest: sha256:d149ab53f871\n\n$ docker push docker/trusttest:latest\nThe push refers to a repository [docker.io/docker/trusttest] (len: 1)\na9539b34a6ab: Image already exists\nb3dbab3810fc: Image already exists\nlatest: digest: sha256:d149ab53f871 size: 3355\nSigning and pushing trust metadata\n```", "```\nDocker-Certified-Associate-DCA-Exam-Guide/environments/standalone$ vagrant up\nBringing machine 'standalone' up with 'virtualbox' provider...\n...\nDocker-Certified-Associate-DCA-Exam-Guide/environments/standalone$ vagrant status\nCurrent machine states:\nstandalone running (virtualbox)\n...\nDocker-Certified-Associate-DCA-Exam-Guide/environments/standalone$\n```", "```\nDocker-Certified-Associate-DCA-Exam-Guide/environments/standalone$ vagrant ssh standalone\n[vagrant@standalone ~]$ \n```", "```\n[vagrant@standalone ~]$ /vagrant/install_requirements.sh \n```", "```\n[vagrant@standalone ~]$ rm -rf ~/.docker/trust/\n```", "```\n[vagrant@standalone ~]$ export DOCKER_CONTENT_TRUST=1\n\n[vagrant@standalone ~]$ cd $HOME\n[vagrant@standalone ~]$ mkdir chapter6\n[vagrant@standalone ~]$ cd chapter6 \n```", "```\nFROM alpine:3.8 \nRUN apk add --update curl \nCMD ping 8.8.8.8 -c 300 \n```", "```\n[vagrant@standalone chapter6]$ docker image build -t frjaraur/pingo:trusted .\n\nSending build context to Docker daemon 2.048kB\nStep 1/3 : FROM alpine@sha256:04696b491e0cc3c58a75bace8941c14c924b9f313b03ce5029ebbc040ed9dcd9\nsha256:04696b491e0cc3c58a75bace8941c14c924b9f313b03ce5029ebbc040ed9dcd9: Pulling from library/alpine\nc87736221ed0: Pull complete \nDigest: sha256:04696b491e0cc3c58a75bace8941c14c924b9f313b03ce5029ebbc040ed9dcd9\nStatus: Downloaded newer image for alpine@sha256:04696b491e0cc3c58a75bace8941c14c924b9f313b03ce5029ebbc040ed9dcd9\n ---> dac705114996\nStep 2/3 : RUN apk add --update curl\n...\n...\nSuccessfully built b3aba563b2ff\nSuccessfully tagged frjaraur/pingo:trusted\nTagging alpine@sha256:04696b491e0cc3c58a75bace8941c14c924b9f313b03ce5029ebbc040ed9dcd9 as alpine:3.8\n```", "```\n[vagrant@standalone chapter6]$ docker trust sign frjaraur/pingo:trusted\nYou are about to create a new root signing key passphrase. This passphrase\nwill be used to protect the most sensitive key in your signing system. Please\nchoose a long, complex passphrase and be careful to keep the password and the\nkey file itself secure and backed up. It is highly recommended that you use a\npassword manager to generate the passphrase and keep it safe. There will be no\nway to recover this key. You can find the key in your config directory.\nEnter passphrase for new root key with ID 9e788ed: \nRepeat passphrase for new root key with ID 9e788ed: \nEnter passphrase for new repository key with ID fb7b8fd: \nRepeat passphrase for new repository key with ID fb7b8fd: \nEnter passphrase for new frjaraur key with ID f1916d7: \nRepeat passphrase for new frjaraur key with ID f1916d7: \nCreated signer: frjaraur\nFinished initializing signed repository for frjaraur/pingo:trusted\nSigning and pushing trust data for local image frjaraur/pingo:trusted, may overwrite remote trust data\nThe push refers to repository [docker.io/frjaraur/pingo]\n6f02cc23eebe: Pushed \nd9ff549177a9: Mounted from library/alpine \ntrusted: digest: sha256:478cd976c78306bbffd51a4b5055e28873697d01504e70ef85bddd9cc348450b size: 739 \nSigning and pushing trust metadata \nEnter passphrase for frjaraur key with ID f1916d7: \nSuccessfully signed docker.io/frjaraur/pingo:trusted\n```", "```\n[vagrant@standalone chapter6]$ curl -s https://hub.docker.com/v2/repositories/frjaraur/pingo/tags|jq\n{\n \"count\": 1,\n \"next\": null,\n \"previous\": null,\n \"results\": [\n {\n \"name\": \"trusted\",\n \"full_size\": 4306493,\n \"images\": [\n {\n \"size\": 4306493,\n \"digest\": \"sha256:478cd976c78306bbffd51a4b5055e28873697d01504e70ef85bddd9cc348450b\",\n \"architecture\": \"amd64\",\n \"os\": \"linux\",\n \"os_version\": null,\n \"os_features\": \"\",\n \"variant\": null,\n \"features\": \"\"\n }\n ],\n \"id\": 78277337,\n \"repository\": 8106864,\n \"creator\": 380101,\n \"last_updater\": 380101,\n \"last_updater_username\": \"frjaraur\",\n \"image_id\": null,\n \"v2\": true,\n \"last_updated\": \"2019-11-30T22:03:28.820429Z\"\n }\n ]\n}\n```", "```\n[vagrant@standalone chapter6]$ docker trust inspect --pretty frjaraur/pingo:trusted\nSignatures for frjaraur/pingo:trusted\nSIGNED TAG DIGEST SIGNERS\ntrusted 478cd976c78306bbffd51a4b5055e28873697d01504e70ef85bddd9cc348450b frjaraur\nList of signers and their keys for frjaraur/pingo:trusted\nSIGNER KEYS\nfrjaraur f1916d7ad60b\nAdministrative keys for frjaraur/pingo:trusted\nRepository Key: fb7b8fdaa22738c44b927110c377aaa7c56a6a15e2fa0ebc554fe92a57b5eb0b\n Root Key: 4a739a076032b94a79c6d376721649c79917f4b5f8c8035ca11e36a0ed0696b4\n```"]