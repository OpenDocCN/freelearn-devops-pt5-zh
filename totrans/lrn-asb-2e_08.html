<html><head></head><body>
<div><h1 class="chapter-number" id="_idParaDest-127"><a id="_idTextAnchor386"/>8</h1>
<h1 id="_idParaDest-128"><a id="_idTextAnchor387"/>Ansible Network Modules</h1>
<p>Welcome to <a href="B21620_08.xhtml#_idTextAnchor386"><em class="italic">Chapter 8</em></a>; this chapter will look at an often-overlooked use case for Ansible and delve into Ansible’s expansive community of networking modules.</p>
<p>In this chapter, instead of a deep dive into every <a id="_idTextAnchor388"/>collection—which could be an entire book—we’ll provide an overview, highlighting these modules’ capabilities and flexibilities.</p>
<p>The chapter covers the following topic:</p>
<ul>
<li>Manufacturer and device support</li>
</ul>
<h1 id="_idParaDest-129"><a id="_idTextAnchor389"/>Manufacturer and device support</h1>
<p>So far, we have been looking at modules that interact with servers. In our case, they have mostly been running locally. In the upcoming chapters, we will be communicating more with remotely cloud-hosted servers. But, before interacting with remote servers, we should cover the core network modules.</p>
<p>These<a id="_idIndexMarker442"/> modules have all been designed to interact with and manage the configuration of various network devices, from your traditional top-of-rack switches and fully virtualized network infrastructure to firewalls and load balancers. Ansible supports many devices, from open source virtual appliances to hardware solutions, some of which could have a starting price of over USD 500,000, depending on your configuration.</p>
<p>So, what do all these collections and modules have in common?</p>
<p>Well, they all interact with what are traditionally complex to configure devices, which, in most deployments and environments, are both the core and critical elements; after all, everything connected to them needs some level of network connectivity.</p>
<p>These modules give you a standard interface, i.e., Ansible, for many of these devices and remove the need for engineers to access these devices directly. They can, instead, run Ansible playbooks, which run roles created by experienced network engineers to configure them in a controlled and consistent way by just changing a few variables.</p>
<p>The only downside of using Ansible to manage this critical core infrastructure is that the host running Ansible requires a line of sight to the management interface or API running on the devices, which may sometimes raise some security concerns. Hence, Ansible’s instructions on how to manage your network devices need some serious thought.</p>
<h2 id="_idParaDest-130"><a id="_idTextAnchor390"/>The collections</h2>
<p>The following<a id="_idIndexMarker443"/> list of collections is in the order of the namespaces and then the collection name; this is listed at the end of each item as <strong class="bold">[namespace.collection-name]</strong>.</p>
<h3>Apstra Extensible Operating System (EOS) [arista.eos]</h3>
<p>There <a id="_idIndexMarker444"/>are over 30 modules that allow you to manage your devices running EOS. These modules let you operate <strong class="bold">access control lists</strong> (<strong class="bold">ACLs</strong>) interfaces, configure <strong class="bold">border gateway protocol</strong> (<strong class="bold">BGP</strong>) settings, run arbitrary commands on devices, manage hostname, interface configurations, logging, and more. A module also allows you to gather facts from each device.</p>
<p>Additionally, there are plugins for command line and HTTP API interactions.</p>
<h3>Check Point [check_point.mgmt]</h3>
<p>The <a id="_idIndexMarker445"/>Ansible collection for Check Point Management comprises many modules; at the time of writing, there are over 250 modules.</p>
<p>Each manages different aspects of your Check Point device, such as access layers, rules, administrators, or network feeds<a id="_idTextAnchor391"/> on your Check Point firewall using the Web Services API. They provide functionalities ranging from fetching facts and adding or managing objects to workflow features such as approving and publishing sessions on your Check Point firewall.</p>
<h3>Cisco</h3>
<p>Given<a id="_idIndexMarker446"/> the number of Cisco device types and classes, there are several collections in the Cisco namespace.</p>
<h4>Cisco Application Centric Infrastructure (ACI) [cisco.aci]</h4>
<p>The 150+ ACI modules<a id="_idIndexMarker447"/> are used to manage all aspects of Cisco’s ACI, which is to be expected of Cisco’s next-generation API-driven networking stack.</p>
<p>There are modules for managing various aspects of the Cisco ACI, such as AAAA records (these are address records that store IPv6 addresses), roles, users, certificates, Access SPAN configurations, <strong class="bold">bridge domains</strong> (<strong class="bold">BDs</strong>) and<a id="_idIndexMarker448"/> subnets, BGP route reflectors, and many more. There are modules for managing Cloud Application Profiles and Cloud AWS Provider configurations.</p>
<h4>Cisco Adaptive Security Appliance (ASA) [cisco.asa]</h4>
<p>With <a id="_idIndexMarker449"/>the five ASA modules, you can manage access lists, run commands, and manage the configuration of physical and virtual Cisco ASA-powered devices.</p>
<h4>Cisco DNA Center (DNAC) [cisco.dnac]</h4>
<p>The <a id="_idIndexMarker450"/>Ansible collec<a id="_idTextAnchor392"/>tion<a id="_idTextAnchor393"/> for t<a id="_idTextAnchor394"/>he Cisco DNAC comprises nearly 400 modules to manage different aspects of your Cisco DNAC deployment. The modules cover a range of functionalities, from fetching the configuration details of access points, managing application policies, assigning devices to sites, importing authentication certificates, and running compliance checks to managing configuration te<a id="_idTextAnchor395"/>mplates.</p>
<h4>Cisco IOS and IOS XR [cisco.ios and cisco.iosxr]</h4>
<p>These<a id="_idIndexMarker451"/> two collections contain modules that allow you to manage your Cisco IOS and IOS XR-powered devices. You can gather facts on your devices and configure users, interfaces, logging, banners, and more with them.</p>
<h4>Identity Services Engine (ISE) [cisco.ise]</h4>
<p>This <a id="_idIndexMarker452"/>collection ma<a id="_idTextAnchor396"/>nages your ISE; it comprises a variety of modules for managing settings and configurations, such as handling ACI bindings and settings, managing Active Directory settings, handling allowed protocols, administering ANC endpoints and policies, managing backup configurations and schedules, handling certificates, and more.</p>
<h4>Cisco Meraki [cisco.meraki]</h4>
<p>Here, we <a id="_idIndexMarker453"/>have just short of 500 modules that manage the different elements of your Meraki deployment, such as administered identities, device details, camera settings, cellular gateway configurations, and sensor relationships. Each module is designed to fetch information or modify settings, which helps you manage your Cisco Meraki devices by using automation.</p>
<h4>Cisco Network Services Orchestrator (NSO) [cisco.nso]</h4>
<p>A <a id="_idIndexMarker454"/>handful of modules allow you to interact with your Cisco NSO-managed devices. You can execute NSO actions, query data from your installation, and verify your configuration alongside service synchronization and configuration.</p>
<h4>Cisco Network Operating System Software (NX-OS) [cisco.nxos]</h4>
<p>As you <a id="_idIndexMarker455"/>can imagine, there are a lot of modules for managing devices running Cisco NXOS; there are over 80 that cover a range of functions such as managing AAA server configurations, ACLs, BGP configurations, executing arbitrary commands, managing interfaces, and handling various other configurations and settings on Cisco NX-OS devices.</p>
<h4>Cisco Unified Computing System (UCS) [cisco.ucs]</h4>
<p>While<a id="_idIndexMarker456"/> not strictly a networking device, the modules to manage Cisco’s unified computing, storage, and network system include one that allows you to manage DNS servers, IP address pools, LAN connectivity policies, MAC address pools, QoS settings, VLANs, and vNICs. The rest of the modules allow you to programmatically manage computing and storage across your blades and chassis.</p>
<h3>F5 BIG-IP Imperative [F5Networks.F5_Modules]</h3>
<p>There<a id="_idIndexMarker457"/> are 160 modules, all prefixed with BIG-IP, that allow you to manage all aspects of your F5 BIG-IP Application Deliv<a id="_idTextAnchor397"/>ery Controller.</p>
<h3>Fortinet</h3>
<p>There<a id="_idIndexMarker458"/> are just two collections in the Fortinet namespace, but, as you can see from the number of modules in each, they are ve<a id="_idTextAnchor398"/>ry feature-rich.</p>
<h4>Fortinet FortiManager [fortinet.fortimanager]</h4>
<p>There<a id="_idIndexMarker459"/> are over 1,100 modules (yes, you read that correctly), including configuring antivirus profiles and options, managing AP local configuration profiles and command lists, configuring custom application signatures and firewall application groups, managing internet service applications, and more.</p>
<h4>Fortinet FortiOS v6 (fortinet.fortios)</h4>
<p>While<a id="_idIndexMarker460"/> this has fewer modules than the FortiManager collection, there are still over 650 modules for configuring antivirus settings, application control lists, authentication schemes, and certificate settings.</p>
<h3>Free Range Routing (FRR) [Frr.Frr]</h3>
<p>There<a id="_idIndexMarker461"/> are just two modules here: one that allows you to configure BGP, and the other lets you gather facts about devices running FRR.</p>
<h3>Juniper Networks Junos [junipernetworks.junos]</h3>
<p>A<a id="_idIndexMarker462"/> total of 40 modules enable you to interact with Juniper devices running Junos from within your playbooks. These range from the standard command, configuration, and fact-gathering modules to those that allow you to install packages and copy files to your devices.</p>
<h3>Open vSwitch [Openvswitch.Openvswitch]</h3>
<p>The<a id="_idIndexMarker463"/> four modules in the namespace allow you to manage bonds, bridges, ports, and databases on your OVS virtual switches.</p>
<h3>VyOS [vyos.vyos]</h3>
<p>The <a id="_idIndexMarker464"/>VyOS collection includes modules for managing various configurations and resources on VyOS devices. Some of these modules include managing multiline banners, configuring BGP global and address family settings, running commands, managing firewall settings, interface configurations, logging, NTP, OSPF, SNMP, static routes, system commands, user management, and VLAN configurations, among others.</p>
<h3>The Community Network Collection [Community.Network]</h3>
<p>This <a id="_idIndexMarker465"/>collection is a catch-all for all other network modules without dedicated namespace or development teams; the module prefix is now in the square brackets.</p>
<h4>A10 Networks [a10]</h4>
<p>The<a id="_idIndexMarker466"/> A10 modules support A10 Networks AX, SoftAX, Thunder, and vThunder devices. These are all application delivery platforms that provide load balancing.</p>
<h4>Cisco AireOS [aireos]</h4>
<p>The<a id="_idIndexMarker467"/> two AireOS modules allow you to interact with the Cisco Wireless LAN Controllers running AireOS. One of the modules will enable you to run commands directly on the devices, and the other is for managing the configuration.</p>
<h4>APCON [apcon]</h4>
<p>A single <a id="_idIndexMarker468"/>module that allows you to run commands on your APCON device.</p>
<h4>Aruba Mobility Controller [aruba]</h4>
<p>There <a id="_idIndexMarker469"/>are just two Aruba modules. These allow you to manage the configuration and execute commands on the Aruba Mobility Contro<a id="_idTextAnchor399"/><a id="_idTextAnchor400"/>llers from Hewlett Packard.</p>
<h4>Avi Networks [avi]</h4>
<p>There<a id="_idIndexMarker470"/> are a total of 65 Avi modules that allow you to interact with all aspects of the Avi application services platform, including the <a id="_idIndexMarker471"/>load-balancing and <strong class="bold">web application firewall</strong> (<strong class="bold">WAF</strong>) features.</p>
<h4>Big Cloud Fabric and Big Switch Network [bcf <a id="_idTextAnchor401"/>+ bigmon]</h4>
<p>There <a id="_idIndexMarker472"/>are three<a id="_idIndexMarker473"/> Big Switch Network modules. <strong class="bold">Big Cloud Fabric</strong> (<strong class="bold">BCF</strong>) allows you to create and delete BCF switches. The other two modules enable<a id="_idIndexMarker474"/> you to create <strong class="bold">Big Monitoring Fabric</strong> (<strong class="bold">Big M<a id="_idTextAnchor402"/>on</strong>) service chains and policies.</p>
<h4>Huawei Cloud Engine [ce]</h4>
<p>Over<a id="_idIndexMarker475"/> 75 Cloud Engine modules allow you to manage all aspects of these robust switches from Huawei, including BGP, access control lists, MTU, static routes, VXLANs, and SNMP configuration.</p>
<h4>Lenovo CNOS [cnos]</h4>
<p>There<a id="_idIndexMarker476"/> are nearly 30 modules that allow you to manage devices running the CNOS operating system from Lenovo; they enable you to configure everything from BGP and port aggregation to VLAG, VLANs, and factory reset d<a id="_idTextAnchor403"/>evices, should you need to.</p>
<h4>Arista Cloud Vision [cv]</h4>
<p>A <a id="_idIndexMarker477"/>single module lets you provision an Arista Cloud Vision server port using a configlet.</p>
<h4>illumos [dladm + flowadm + ipadm]</h4>
<p>illumos is a <a id="_idIndexMarker478"/>fork of the Open Solaris operating system. Its powerful networking features make it the perfect candidate for deploying as a self-built router or firewall. These modules allow you to manage the interfaces, NetFlow, and tunnels. Additionally, as illumos is a fork of Open Solaris, your playbook should work on Open Solaris-based operating systems.</p>
<h4>Ubiquiti EdgeOS [edgeos + edgeswitch]</h4>
<p>The<a id="_idIndexMarker479"/> modules for EdgeOS enable you to manage configurations, execute ad hoc commands, and collect facts on EdgeOS-running devices, such as the Ubiquiti Edge Router.</p>
<p>There are also a few modules for Edge Switches.</p>
<h4>Lenovo Enterprise Networking Operating System [enos]</h4>
<p>There<a id="_idIndexMarker480"/> are three modules for the Lenovo ENOS. Like other devices, these allow you to gather facts, execute commands, and manage the configuration.</p>
<h4>Ericsson [eccli]</h4>
<p>This<a id="_idIndexMarker481"/> single module allows you to run commands on devices running the Ericsson command-line interface.</p>
<h4>ExtremeXOS [exos + nos + slxos]</h4>
<p>These<a id="_idIndexMarker482"/> half-a dozen modules allow you to interact with the ExtremeXOS, Extreme Networks SLX-OS, and Extreme Networks NOS software on Extreme Networks switches.</p>
<h4>Cisco Firepower Threat Defense [ftd]</h4>
<p>A few<a id="_idIndexMarker483"/> modules allow you to configure and upload/download files to<a id="_idTextAnchor404"/> a Cisco Firepower Threat Defense device.</p>
<h4>Itential Automation Platform [iap]</h4>
<p>A few<a id="_idIndexMarker484"/> modules allow you to interact with workflows hosted on the Itential Automation Platform, as well as low-code automation an<a id="_idTextAnchor405"/>d orchestration for hybrid cloud networks.</p>
<h4>Ruckus ICX 7000 [icx]</h4>
<p>These<a id="_idIndexMarker485"/> modules allow you to configure your Ruckus ICX 7000 series campus switches.</p>
<h4>Ingate Session Border Controllers [ig]</h4>
<p>While these <a id="_idIndexMarker486"/>are mainly used for <strong class="bold">SIP</strong>, or to<a id="_idIndexMarker487"/> give its full name, <strong class="bold">session initiation protocol</strong> services, there are a few mo<a id="_idTextAnchor406"/>dules to help configure the network elements.</p>
<h4>NVIDIA Network Command Line Utility [nclu]</h4>
<p>A <a id="_idIndexMarker488"/>single module that allows you to manage network interfaces using the NVIDIA Network Command Line Utility on compatible devices.</p>
<h4>Nokia NetAct [netact]</h4>
<p>A single <a id="_idIndexMarker489"/>module that allows you to upload and apply your Nokia NetAct-powered core and radio networks.</p>
<h4>Citrix Netscaler [netscaler]</h4>
<p>These <a id="_idIndexMarker490"/>modules are designed to manage and configure various aspects of Netscaler devices. They cover functionalities such as<a id="_idIndexMarker491"/> content switching, <strong class="bold">Global Server Load-Balancing</strong> (<strong class="bold">GSLB</strong>), load-balancing, issuing Nitro API requests, and saving configurations, as well as managing server configurations, services, service groups, and SSL certificate keys.</p>
<h4>Nokia Nuage Networks Virtualized Services Platform (VSP) [nuage]</h4>
<p>There<a id="_idIndexMarker492"/> is a single module that allows you to manage enterprises on your Nokia Nuage Networks VSP.</p>
<h4>OpenSwitch [opx]</h4>
<p>A single<a id="_idIndexMarker493"/> module that performs the specified action on the YANG object, utilizing the CPS<a id="_idTextAnchor407"/> API on the networking device operating OpenSwitch.</p>
<h4>Ordnance Virtual Routers [ordnance]</h4>
<p>There <a id="_idIndexMarker494"/>are two modules: one to manage configuration and the other to collect facts on Ordnance Virtual Routers.</p>
<h3>Pluribus Networks Netvisor OS [pn]</h3>
<p>These<a id="_idIndexMarker495"/> 40 modules allow you to manage your <strong class="bold">Pluribus Networks</strong> (<strong class="bold">PN</strong>) Netvisor OS-powered devices, from creating clusters and routers to running commands on your white-box switches.</p>
<h4>Nokia Networks Service Router Operating System [sros]</h4>
<p>There <a id="_idIndexMarker496"/>are three modules that let you run commands against, configure, and roll back changes to your Nokia Networks SROS devices.</p>
<h4>Radware [vidrect]</h4>
<p>A small <a id="_idIndexMarker497"/>number of modules that allow you to manage your Radware devices via a vDirect server.</p>
<h3>Ansible Net Common [ansible.netcommon]</h3>
<p>The final <a id="_idIndexMarker498"/>collection is a set of modules that could be considered tools to help support all the devices we have covered in this chapter. There are modules that can ping targets and run generic commands using custom prompts and answers.</p>
<h1 id="_idParaDest-131"><a id="_idTextAnchor408"/>Summary</h1>
<p>I suspect most of you would not have heard of a lot of the devices we have listed in this chapter, and for the ones you have heard of—such as the Cisco ones—you will probably not have had direct access to them, leaving any configuration to your network administrators.</p>
<p>When we speak about triggering Ansible using CI/CD in <a href="B21620_15.xhtml#_idTextAnchor641"><em class="italic">Chapter 15</em></a>, <em class="italic">Using Ansible with GitHub Actions and Azure DevOps</em>, and <a href="B21620_16.xhtml#_idTextAnchor716"><em class="italic">Chapter 16</em></a>, <em class="italic">Introducing Ansible AWX and Red Hat Ansible Automation Platform</em>, we <a id="_idTextAnchor409"/>will learn about some deployment options that could help alleviate the concerns we mentioned at the start of the chapter, e.g., those about a host running your Ansible playbooks needing a line of sight of the potentially critical core infrastructure.</p>
<p>Before we get to those chapters, we will look at moving our workloads to the cloud, a journey that starts in the next chapter.</p>
<h1 id="_idParaDest-132"><a id="_idTextAnchor410"/>Further reading</h1>
<ul>
<li><strong class="bold">The Ansible Collection </strong><strong class="bold">index</strong>: <a href="https://docs.ansible.com/ansible/latest/collections/index.html">https://docs.ansible.com/ansible/latest/collections/index.html</a></li>
</ul>
</div>
</body></html>