["```\n$ mkdir ch17 & cd ch17\n```", "```\n    $ kubectl config use-context docker-desktop\n    ```", "```\nSwitched to context \"docker-desktop\".\n```", "```\n    $ kubectl create -f web-deployment.yaml\n    ```", "```\ndeployment.apps/web created\n```", "```\n    $ kubectl get all\n    ```", "```\n    $ kubectl apply -f web-service.yaml\n    ```", "```\n    $ kubectl get services\n    ```", "```\n    $ curl localhost:30319/\n    ```", "```\nPets Demo Application\n```", "```\n    $ kubectl apply -f db-stateful-set.yaml\n    ```", "```\n    $ kubectl apply -f db-service.yaml\n    ```", "```\nkubectl delete svc/webkubectl delete deploy/web\nkubectl delete svc/db\nkubectl delete statefulset/db\nkubectl delete pvc/pets-data-db-0\n```", "```\n$ kubectl apply -f install-pets.yaml\n```", "```\ndeployment \"web\" createdservice \"web\" created\ndeployment \"db\" created\nservice \"db\" created\n```", "```\n$ ./remove-pets.sh\n```", "```\ndeployment.apps \"web\" deletedservice \"web\" deleted\nstatefulset.apps \"db\" deleted\nservice \"db\" deleted\npersistentvolumeclaim \"pets-data-db-0\" deleted\n```", "```\n$ kubectl delete -f install-pets.yaml\n```", "```\n$ kubectl delete pvc/pets-data-db-0\n```", "```\napiVersion: v1kind: Pod\nmetadata:\n…\nspec:\n  containers:\n  - name: liveness-demo\n    image: postgres:12.10\n…\n    livenessProbe:\n      exec:\n        command: nc localhost 5432 || exit –1\n      initialDelaySeconds: 10\n      periodSeconds: 5\n```", "```\napiVersion: v1kind: Pod\nmetadata:\n…\nspec:\n  containers:\n  - name: liveness\n    image: acme.com/my-api:1.0\n…\n    livenessProbe:\n      httpGet:\n        path: /api/health\n        port: 3000\n      initialDelaySeconds: 5\n      periodSeconds: 3\n```", "```\napiVersion: v1kind: Pod\nmetadata:\n…\nspec:\n  containers:\n  - name: liveness-demo\n    image: postgres:12.10\n…\n    livenessProbe:\n      tcpSocket:\n        port: 5432\n      initialDelaySeconds: 10\n      periodSeconds: 5\n```", "```\n    $ docker image build -t demo/probes-demo:2.0 probes\n    ```", "```\n    $ kubectl apply -f probes/probes-demo.yaml\n    ```", "```\n    $ kubectl describe pods/probes-demo\n    ```", "```\n    $ kubectl get pods\n    ```", "```\nNAME                   READY  STATUS     RESTARTS       AGEprobes-demo  1/1        Running  5 (49s ago)   7m22s\n```", "```\n    $ kubectl delete pods/probes-demo\n    ```", "```\n…spec:\n  containers:\n  - name: liveness-demo\n    image: postgres:12.10\n…\n    livenessProbe:\n       tcpSocket:\n         port: 5432\n      failureThreshold: 2\n      periodSeconds: 5\n    readinessProbe:\n      tcpSocket:\n        port: 5432\n      initialDelaySeconds: 10\n      periodSeconds: 5\n```", "```\nspec:  containers:\n...\n    startupProbe:\n      tcpSocket:\n        port: 3000\n      failureThreshold: 30\n      periodSeconds: 5\n...\n```", "```\n$ kubectl apply -f web-deployment-rolling-v1.yaml$ kubectl apply -f web-service.yaml\n```", "```\n$ PORT=$(kubectl get svc/web -o jsonpath='{.spec.ports[0].nodePort}')\n```", "```\n$ curl localhost:${PORT}/\n```", "```\nPets Demo Application\n```", "```\n$ docker image build -t demo/ch17-web:2.1 web\n```", "```\n$ docker image push demo/ch17-web:2.1\n```", "```\n$ kubectl set image deployment/web \\    web=demo/ch17-web:2.1\n```", "```\n$ curl localhost:${PORT}/\n```", "```\nPets Demo Application v2\n```", "```\n$ kubectl rollout status deploy/web\n```", "```\ndeployment \"web\" successfully rolled out\n```", "```\n$ kubectl rollout undo deploy/web\n```", "```\ndeployment.apps/web rolled back\n```", "```\n$ curl localhost:${PORT}/\n```", "```\nPets Demo Application\n```", "```\n$ kubectl delete deploy/web$ kubectl delete service/web\n```", "```\n$ kubectl apply -f web-deploy-blue.yaml\n```", "```\n$ kubectl apply -f web-service-blue-green.yaml\n```", "```\n$ PORT=$(kubectl get svc/web -o jsonpath='{.spec.ports[0].nodePort}')\n```", "```\n$ curl localhost:${PORT}/\n```", "```\nPets Demo Application\n```", "```\n$ kubectl apply -f web-deployment-green.yaml\n```", "```\n$ curl localhost:${PORT}/\n```", "```\nPets Demo Application\n```", "```\n$ kubectl edit svc/web\n```", "```\n$ curl localhost:${PORT}/\n```", "```\nPets Demo Application v2\n```", "```\n$ kubectl delete deploy/web-blue\n```", "```\napiVersion: v1kind: Secret\nmetadata:\n  name: pets-secret\ntype: Opaque\ndata:\n  username: am9obi5kb2UK\n  password: c0VjcmV0LXBhc1N3MHJECg==\n```", "```\n    $ echo \"john.doe\" | base64\n    ```", "```\nam9obi5kb2UK\n```", "```\n$ echo \"sEcret-pasSw0rD\" | base64\n```", "```\nc0VjcmV0LXBhc1N3MHJECg==\n```", "```\n    $ kubectl create -f pets-secret.yaml\n    ```", "```\nsecret/pets-secret created\n```", "```\n    $ kubectl describe secrets/pets-secret\n    ```", "```\n    $ kubectl get secrets/pets-secret -o yaml\n    ```", "```\n    $ echo \"c0VjcmV0LXBhc1N3MHJECg==\" | base64 –decode\n    ```", "```\nsEcret-pasSw0rD\n```", "```\n$ echo \"sue-hunter\" | base64 > username.txt$ echo \"123abc456def\" | base64 > password.txt\n```", "```\n$ kubectl create secret generic pets-secret-prod \\    --from-file=./username.txt \\\n    --from-file=./password.txt\n```", "```\nsecret \"pets-secret-prod\" created\n```", "```\n$ kubectl apply -f pets-secret.yaml\n```", "```\n$ kubectl apply -f web-deployment-secret.yaml\n```", "```\n    $ kubectl get pods\n    ```", "```\n$ kubectl delete deploy/web\n```", "```\n$ kubectl apply -f web-deployment-secret.yaml\n```"]