- en: Jira Software – Release and Deploy
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the previous chapters, we looked at integrating Jira with some other tools
    from both Atlassian and third-party developers to extend what Jira can do. In
    this chapter, we will look into using another Atlassian tool called Bamboo to
    tie together the release, build, and deploy process for a software development
    project.
  prefs: []
  type: TYPE_NORMAL
- en: 'By the end of the chapter, you will have learned how to:'
  prefs: []
  type: TYPE_NORMAL
- en: Integrate Jira and Bamboo
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Perform version release and build directly in Jira
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Display build information inside Jira
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Deploy released builds to your operational environments
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Integrating Jira with Bamboo
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Bamboo** is the continuous integration and build server from Atlassian. By
    integrating Jira and Bamboo together, you can make Jira''s issue information available
    in Bamboo, as well as Bamboo''s build and deploy information in Jira.'
  prefs: []
  type: TYPE_NORMAL
- en: Setting up an application link with Bamboo
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Similar to integrating Jira with Confluence, you need to create a new application
    link between Jira and Bamboo. To create an application link with Bamboo, perform
    the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Jira administration console.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the Applications tab and then the Application links option.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Enter the URL to your Bamboo instance and click on the Create new link button,
    as shown in the next screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00133.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Tick the The servers have the same set of users and usernames option if both
    Jira and Bamboo share the same user repository; for example, LDAP.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Tick the I am an administrator on both instances option if you have an administrator
    account on both Jira and Bamboo. This will let you also create a reciprocal link
    from Bamboo to Jira.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click on the Continue button:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00134.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: 'Verify that the onscreen information is correct. If both applications are able
    to communicate with each other successfully, it will display the URLs and application
    name and type, as shown in the following screenshot. Then, click on the Continue
    button:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00135.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: 'Continue with the onscreen wizard, and once the application link is successfully
    created, you will see a success message and the new application link listed for
    Bamboo:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00136.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Releasing a build from Jira
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'With Jira and Bamboo integrated, we will be able to combine the process of
    release in Jira, and build in Bamboo together:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the Jira project you want to run a release for.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click the Releases option from the left panel. The Releases page should list
    all the unreleased versions by default, as follows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00137.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Click the Build and Release option for the version to release.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the with new build option on the Release dialog.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the build plan to use for building this release. The build plans should
    be pulled from Bamboo. If you do not see the build plan you want, make sure you
    have access to the build plan in Bamboo and the application link between Jira
    and Bamboo are working properly.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click the Release button to release and build the version. You do not need
    to enter a release date, as Jira will automatically fill in today''s date for
    you once the release ID is completed:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00138.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: 'Once the build is completed on Bamboo''s side, Jira will mark the version as
    released, and show you the success result from the build, as follows. You can
    click on the build result link from this page to go directly to Bamboo and view
    more detailed information about the build, and perform a release deployment, as
    we will see later in this chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/00139.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: 'Also, any issues that are related in this release build will also have the
    build results displayed under the Development section, as follows. You can click
    on that to view the result of the build directly in Jira:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/00140.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Deploying the release
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Once you have successfully built your project, you can also deploy the final
    built artifact to your environments. There are several ways you can do this. For
    example, you can have a custom deployment stage as part of your build plan. However,
    we will be using the deployment plan feature in Bamboo. This gives you more control
    about how you want to run your deployment process, as well as keeping track of
    all the deployments you run, and lets you rollback to a previous deployed version
    if there is a problem.
  prefs: []
  type: TYPE_NORMAL
- en: Setting up a deployment plan
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The first step is to set up a new deployment plan in Bamboo:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into Bamboo.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the Create deployment project option from the Create menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Enter a name for the new deployment project, and select the Build plan and
    branch used to build your project with:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00141.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Click the Create deployment project button to create the deployment plan.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: With the deployment project created, you will be asked to create an environment.
    You should create one for each real operational environment you have, such as
    one for production, and one for testing.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click on the Continue to task setup button:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00142.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: You will only see artifacts listed if you have defined a shared artifact in
    your build plan.
  prefs: []
  type: TYPE_NORMAL
- en: 'For each environment, you need to configure the series of tasks to run as part
    of your deployment. For example, if you are deploying a Java-based web application,
    you will need to use the Artifact download task, and select the artifact created
    as part of your build process:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00143.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Make sure you click the Save button for each task before you add a new task.
  prefs: []
  type: TYPE_NORMAL
- en: 'Click on the Add task button to add more tasks to your build plan. Bamboo comes
    with a number of deployment tasks you can use out of the box, such as deploying
    to Heroku cloud, and using Docker. If you do not see a deployment task suitable
    for your type of deployment needs, you can also check Atlassian Marketplace, where
    you will find many more add-ons for Bamboo that have support for other deployment
    options:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00144.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Running the deployment
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'After we have the deployment plan and target environments created, we can proceed
    to deploy the released project:'
  prefs: []
  type: TYPE_NORMAL
- en: Browse to the build result for the release in Bamboo. You can go there from
    Jira's release page.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click the Create release button:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00145.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Make sure the correct build result is selected.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the release version number for this release. This way, we create a history
    of all the deployments, so we can keep track of the released and deployed version
    for each environment, and easily rollback in the future. In the following example,
    we are releasing version 1.0.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click the Create release button:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00146.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: If you have more than one environment, such as testing and production, you should
    always start with the testing environment first. If the deployment is successful,
    you will be able to then promote the deployment to production.
  prefs: []
  type: TYPE_NORMAL
- en: 'Select the environment you want to deploy to from the Deploy menu. Every environment
    created earlier should be listed here:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00147.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: 'Review the deployment and click on the Start deployment button to start. Depending
    on the type of deployment, this can take several minutes or longer to complete.
    Bamboo will display the deployment progress during all this:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00148.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: If the deployment is successful, you will see the success page as follows. You
    can promote the deployment to other environments if you need to.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click the Approved button if all your post-deployment verification passes.
    This will mark the deployment as a success:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/00149.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we looked at Bamboo and what it can do. We used an application
    link to integrate Jira with Bamboo, so both applications can share information
    with each other; for example, letting you run build plans from inside Jira. We
    also looked into Bamboo when setting up a deployment plan, so you can deploy project
    artifacts you have released and built.
  prefs: []
  type: TYPE_NORMAL
- en: There are many more things you will find you can do with Jira and Bamboo integrated
    together; for example, you will start seeing build results flowing through automatically
    into Jira's activity stream on the dashboard, so everyone can be made aware if
    a build fails. Your build engineers can also view Jira's issue information from
    inside Bamboo builds, so they can easily pinpoint the cause of build plan failures.
  prefs: []
  type: TYPE_NORMAL
