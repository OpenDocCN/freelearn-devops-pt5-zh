- en: Preface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Welcome to *Practical Ansible – Second Edition*, your guide to going from being
    a beginner to a proficient Ansible automation engineer in the space of a few chapters.
    This book will provide you with the knowledge and skills required to perform your
    very first installation and automation tasks with Ansible and take you on a journey
    from simple one-line automation commands that perform single tasks all the way
    through to writing your own complex custom code to extend the functionality of
    Ansible, and even automate cloud and container infrastructures. Throughout the
    book, practical examples will be given for you to not just read about Ansible
    automation but also actually try it out for yourself and understand how the code
    works. You will then be well placed to automate your infrastructure with Ansible
    in a manner that is scalable, repeatable, and reliable.
  prefs: []
  type: TYPE_NORMAL
- en: Who this book is for
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book is for anyone who has IT tasks they want to automate, from mundane
    day-to-day housekeeping tasks to complex infrastructure-as-code-based deployments.
    It is intended to appeal to anyone with prior experience with Linux-based environments
    who wants to get up to speed quickly with Ansible automation and to a wide range
    of individuals, whether system administrators, DevOps engineers, or architects
    looking at overall automation strategy. It will even serve hobbyists well. Basic
    proficiency in Linux system administration and maintenance tasks is assumed; however,
    no previous Ansible or automation experience is required.
  prefs: []
  type: TYPE_NORMAL
- en: What this book covers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[*Chapter 1*](B20846_01.xhtml#_idTextAnchor015), *Getting Started with Ansible*,
    provides the steps you need for your very first installation of Ansible, and explains
    how to get up and running with this powerful form of automation.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 2*](B20846_02.xhtml#_idTextAnchor099), *Understanding the Fundamentals
    of Ansible*, explores the Ansible framework, gives you a sound understanding of
    the fundamentals of the Ansible language, and explains how to work with the various
    command-line tools that it comprises.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 3*](B20846_03.xhtml#_idTextAnchor158), *Defining Your Inventory*,
    gives you details about the Ansible inventory, its purpose, and how to create
    your own inventories and work with them. It also explores the differences between
    static and dynamic inventories, and when to leverage each type.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 4*](B20846_04.xhtml#_idTextAnchor207), *Playbooks and Roles*, provides
    you with an in-depth look at creating your own automation code in Ansible in the
    form of playbooks, and how to enable effective reuse of that code through roles.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 5*](B20846_05.xhtml#_idTextAnchor279), *Creating and Consuming* *Modules*,
    teaches you about Ansible modules and their purpose, and then provides you with
    the steps required to write your own module, and even to submit it to the Ansible
    project for inclusion.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 6*](B20846_06.xhtml#_idTextAnchor318), *Creating and Consuming* *Collections*,
    explores Ansible Collections, covering their design, intention, and why they are
    essential to the future of Ansible. We then proceed to guide you through the creation
    and consumption of your own collection to give you first-hand experience.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 7*](B20846_07.xhtml#_idTextAnchor343), *Creating and Consuming* *Plugins*,
    explains the purpose of Ansible plugins, and covers the various types of plugins
    that Ansible uses. It then explains how to write your own plugins, and explains
    how to submit your code to the Ansible project.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 8*](B20846_08.xhtml#_idTextAnchor347), *Coding Best Practices*, provides
    an in-depth look at the best practices that you should adhere to while writing
    Ansible automation code to ensure that your solutions are manageable, easy to
    maintain, and easy to scale.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 9*](B20846_09.xhtml#_idTextAnchor378), *Advanced Ansible Topics*,
    explores some of the more advanced Ansible options and language directives, which
    are valuable in a scenario such as performing a roll-out to a highly available
    cluster. It also explains how to work with jump hosts to automate tasks on secure
    networks, and how to encrypt your variable data at rest.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 10*](B20846_10.xhtml#_idTextAnchor423), *Network Automation with
    Ansible*, provides a detailed look at the importance of network automation, explains
    why Ansible is especially well suited to this task, and takes you through practical
    examples of how to connect to a variety of network devices with Ansible.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 11*](B20846_11.xhtml#_idTextAnchor456), *Container and Cloud Management*,
    explores the manner in which Ansible supports working with both cloud and container
    platforms and teaches you how to build containers with Ansible, along with methods
    to deploy infrastructure as code in a cloud environment using Ansible.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 12*](B20846_12.xhtml#_idTextAnchor523), *Troubleshooting and Testing
    Strategies*, teaches you how to test and debug your Ansible code, and gives you
    robust strategies to handle errors and unexpected failures both with playbooks
    and the agentless connections on which Ansible relies.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 13*](B20846_13.xhtml#_idTextAnchor562), *Getting Started with Ansible
    Automation Controller*, provides an introduction to Ansible Automation Controller
    and its upstream open source counterpart, AWX, demonstrating how this powerful
    tool provides a valuable complement to Ansible, especially in large, multi-user
    environments such as enterprises.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 14*](B20846_14.xhtml#_idTextAnchor592), *Execution Environment*,
    provides an introduction to Execution Environments, demonstrating how to create
    them, how to share them, and how to use them both on the command line and within
    Ansible Automation Controller.'
  prefs: []
  type: TYPE_NORMAL
- en: To get the most out of this book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: All the chapters of this book assume you have access to at least one Linux machine
    running a relatively recent Linux distribution. All examples in this book were
    tested on Fedora 38 and Ubuntu Server 22.04, but should work on just about any
    other mainstream distribution. You will require Ansible 2.15 installed on at least
    one test machine too – the installation steps will be covered in the very first
    chapter. Later versions of Ansible should also work, though there may be some
    subtle differences, and you should refer to the release notes and porting guide
    for newer Ansible versions. The final two chapters also take you through the installation
    of AWX, but this assumes a Linux server with Ansible installed. Most of the examples
    demonstrate automation across more than one host, and, if you have more Linux
    hosts available, you will be able to get more out of the examples; however, they
    can be scaled up or down as you require. Having more hosts is not mandatory, but
    enables you to get more out of the book.
  prefs: []
  type: TYPE_NORMAL
- en: '| **Software/hardware covered in** **the book** | **Operating** **system requirements**
    |'
  prefs: []
  type: TYPE_TB
- en: '| At least one Linux server (a virtual or physical machine). | Fedora 38 or
    Ubuntu Server 22.04, though other mainstream distributions (including newer versions
    of these operating systems) should work. |'
  prefs: []
  type: TYPE_TB
- en: '| Ansible 8.0 | As above. |'
  prefs: []
  type: TYPE_TB
- en: '| AWX release 22.4.0 or later | As above. |'
  prefs: []
  type: TYPE_TB
- en: '**If you are using the digital version of this book, we advise you to type
    the code yourself or access the code from the book’s GitHub repository (a link
    is available in the next section). Doing so will help you avoid any potential
    errors related to the copying and pasting** **of code.**'
  prefs: []
  type: TYPE_NORMAL
- en: Download the example code files
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can download the example code files for this book from GitHub at [https://github.com/PacktPublishing/Practical-Ansible-Second-Edition](https://github.com/PacktPublishing/Practical-Ansible-Second-Edition).
    If there’s an update to the code, it will be updated in the GitHub repository.
  prefs: []
  type: TYPE_NORMAL
- en: We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  prefs: []
  type: TYPE_NORMAL
- en: Conventions used
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are a number of text conventions used throughout this book.
  prefs: []
  type: TYPE_NORMAL
- en: '`Code in text`: Indicates code words in text, database table names, folder
    names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter
    handles. Here is an example: “The first is called `ansible-core`, and this contains
    the Ansible runtime code (such as the `ansible-playbook` command, which we''ll
    see in use later), as well as some built-in functionality that is core to all
    playbooks and roles.”'
  prefs: []
  type: TYPE_NORMAL
- en: 'A block of code is set as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Any command-line input or output is written as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For instance, words in menus or dialog boxes appear in **bold**. Here is an example:
    “Select **System info** from the **Administration** panel.”'
  prefs: []
  type: TYPE_NORMAL
- en: Tips or important notes
  prefs: []
  type: TYPE_NORMAL
- en: Appear like this.
  prefs: []
  type: TYPE_NORMAL
- en: Get in touch
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Feedback from our readers is always welcome.
  prefs: []
  type: TYPE_NORMAL
- en: '**General feedback**: If you have questions about any aspect of this book,
    email us at [customercare@packtpub.com](mailto:customercare@packtpub.com) and
    mention the book title in the subject of your message.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](https://www.packtpub.com/support/errata)
    and fill in the form.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at [copyright@packt.com](mailto:copyright@packt.com%20)
    with a link to the material.'
  prefs: []
  type: TYPE_NORMAL
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](https://authors.packtpub.com).'
  prefs: []
  type: TYPE_NORMAL
- en: Share your thoughts
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Once you’ve read *Practical Ansible - Second Edition*, we’d love to hear your
    thoughts! Please [click here to go straight to the Amazon review page](https://packt.link/r/180512997X)
    for this book and share your feedback.
  prefs: []
  type: TYPE_NORMAL
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  prefs: []
  type: TYPE_NORMAL
- en: Download a free PDF copy of this book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Thanks for purchasing this book!
  prefs: []
  type: TYPE_NORMAL
- en: Do you like to read on the go but are unable to carry your print books everywhere?
  prefs: []
  type: TYPE_NORMAL
- en: Is your eBook purchase not compatible with the device of your choice?
  prefs: []
  type: TYPE_NORMAL
- en: Don’t worry, now with every Packt book you get a DRM-free PDF version of that
    book at no cost.
  prefs: []
  type: TYPE_NORMAL
- en: Read anywhere, any place, on any device. Search, copy, and paste code from your
    favorite technical books directly into your application.
  prefs: []
  type: TYPE_NORMAL
- en: The perks don’t stop there, you can get exclusive access to discounts, newsletters,
    and great free content in your inbox daily
  prefs: []
  type: TYPE_NORMAL
- en: 'Follow these simple steps to get the benefits:'
  prefs: []
  type: TYPE_NORMAL
- en: Scan the QR code or visit the link below
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B20846_QR_Free_PDF.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '[https://packt.link/free-ebook/9781805129974](https://packt.link/free-ebook/9781805129974)'
  prefs: []
  type: TYPE_NORMAL
- en: Submit your proof of purchase
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: That’s it! We’ll send your free PDF and other benefits to your email directly
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Part 1:Learning the Fundamentals of Ansible
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will take a look at the very fundamentals of Ansible. We
    will start with the process of installing Ansible and then we will get to grips
    with the fundamentals, including the basics of the language and ad-hoc commands.
    We will then explore Ansible inventories, before looking at writing our very first
    playbooks and roles to complete multi-stage automation tasks.
  prefs: []
  type: TYPE_NORMAL
- en: 'This section contains the following chapters:'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 1*](B20846_01.xhtml#_idTextAnchor015), *Getting Started with Ansible*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[*Chapter 2*](B20846_02.xhtml#_idTextAnchor099), *Understanding the Fundamentals
    of Ansible*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[*Chapter 3*](B20846_03.xhtml#_idTextAnchor158), *Defining Your Inventory*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[*Chapter 4*](B20846_04.xhtml#_idTextAnchor207), *Playbooks and Roles*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
