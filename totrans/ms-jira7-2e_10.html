<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch10"/>Chapter 10.  Importing and Exporting Data in JIRA and Migrating Configuration </h1></div></div></div><p>The data stored in JIRA is quite critical for companies, and JIRA administrators should make sure that regular backups of data are taken. In fact, it should be policy to take backups. In this chapter, we will discuss how to perform regular backups in JIRA and where these backups are stored. Most importantly, we will also discuss how to restore these backups.</p><p>There are a lot of other tools that are used in companies; tools such as <strong>Mantis</strong> and <strong>Bugzilla</strong> are quite popular bug trackers. When you move to JIRA, it would be great if your existing issues were migrated from these tools to JIRA, but migrating can be a complex task. JIRA comes with some tools to import data from external tools; however, JIRA has a powerful feature that also imports issues from plain CSV files. With proper planning, data from any tool can be exported into CSV, and from CSV it can be imported into JIRA. We will also understand how to use the <strong>Configuration Manager</strong> add-on to migrate JIRA configurations such as issue types, workflows, and other schemes to another JIRA instance.</p><p>The topics covered are:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The backup system</li><li class="listitem" style="list-style-type: disc">External system import using CSV</li><li class="listitem" style="list-style-type: disc">Migrating JIRA configurations using the Configuration Manager add-on</li></ul></div><div><div><div><div><h1 class="title"><a id="ch10lvl1sec65"/>The backup system</h1></div></div></div><p>JIRA administrators should pay a lot of attention to taking regular backups of data and its configuration. Luckily, JIRA comes with a handy tool for generating backups. It not only contains data (such as issues and projects), but it also contains JIRA configurations that are stored in the backup file, which means that when you restore the system, all the data along with various schemes for issue types and workflows will also be restored.</p><p>The backup system provided in the UI of JIRA is not particularly efficient when you have thousands of issues. For this, the recommended approach is to manually take a backup of your database. The details of this backup approach can be found at <a class="ulink" href="https://confluence.atlassian.com/display/DOC/Production+Backup+Strategy">https://confluence.atlassian.com/display/DOC/Production+Backup+Strategy</a>.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec86"/>Generating the backup</h2></div></div></div><p>The JIRA backup tool can be used to perform backups as and when you require. Usually, before making any major configuration changes in JIRA, you should take a backup. Also, when you install a new add-on in JIRA, it's always advisable to take a backup. Of course, you should have a staging instance that should be an exact copy of your production one. You should do all the testing on the staging instance first, but you never know when things could go wrong. As a good practice, always take a backup before performing any major configuration changes.</p><p>Perform these steps to take a backup in JIRA using the JIRA backup tool:</p><div><ol class="orderedlist arabic"><li class="listitem">Navigate to <strong>Administration</strong> | <strong>System</strong> | <strong>Backup System</strong> (under <strong>IMPORT &amp; EXPORT</strong>):<p>
</p><div><img src="img/image_10_001.jpg" alt="Generating the backup"/></div><p>
</p></li><li class="listitem">You will then see the <strong>Backup JIRA data</strong> page.</li><li class="listitem">Specify the <strong>File name</strong> and click on the <strong>Backup</strong> button to generate the backup file. It's a good idea to use timestamp in <strong>File name</strong>.</li><li class="listitem">The tool will then generate the backup file and give you the complete path of the file. You can copy this to some other location:<p>
</p><div><img src="img/image_10_002.jpg" alt="Generating the backup"/></div><p>
</p></li></ol></div><p>The backup files are stored in the <code class="literal">JIRA HOME</code> directory under the <code class="literal">export</code> folder.</p><div><div><div><div><h3 class="title"><a id="ch10lvl3sec33"/>Backup of attachments</h3></div></div></div><p>JIRA's data consists of details of issues, projects, and various configurations, but there are file attachments that are also attached to issues. The <strong>Backup JIRA data</strong> tool generates an XML file that stores information, but it cannot back up the file attachments.</p><p>These attachments are stored in the <code class="literal">JIRA HOME</code> directory under the <code class="literal">data\attachments</code> folder. You should copy the <code class="literal">attachments</code> folder if the file needs to be backed up. Usually, this is done when the JIRA instance needs to be migrated to a new server. The file attachments are organized in different folders for every project and the project key is the name of the folder:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The name of the attachment folder is project key, for example, <code class="literal">DPO</code></li><li class="listitem" style="list-style-type: disc">The files are store within a subfolder whose name is the same as the issue ID, for example, <code class="literal">DPO-6</code></li></ul></div><p>Using this organization, the attachment folder is easily restored.</p></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec87"/>Generating automatic backups</h2></div></div></div><p>The backup that we just generated is usually triggered just before a JIRA administrator needs to perform some major changes in the configuration. However, as a good practice, it would be great if these backups were generated automatically daily, or perhaps weekly.</p><p>JIRA has the option to run a particular class automatically after a set time. JIRA comes with a couple of services preconfigured, but you can also add yours. Perform the following steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Navigate to <strong>Administrator</strong> | <strong>System</strong> | <strong>Services</strong> (under <strong>ADVANCED</strong>).</li><li class="listitem">You will get the list of <strong>Services</strong> that come preconfigured when you install JIRA:<p>
</p><div><img src="img/image_10_003.jpg" alt="Generating automatic backups"/></div><p>
</p></li></ol></div><p>The first service in the list is the <strong>Mail Queue Service</strong>, which is responsible for taking regular backups. The <strong>Schedule</strong> is the interval after which the services will run automatically. In the case of <strong>Backup Service</strong>, the <strong>Schedule</strong> is <strong>Every 720 minutes</strong>, which is 12 hours; this means that after every 12 hours, the backup will be generated and placed in the <code class="literal">export</code> directory under <code class="literal">JIRA HOME</code>:</p><p>
</p><div><img src="img/image_10_004.jpg" alt="Generating automatic backups"/></div><p>
</p><p>As you can see in the previous screenshot, there are backup files generated by the JIRA service, except for <code class="literal">2014-12-09-backup</code>, which we generated manually. The format of the backup file remains the same irrespective of whether you generate it manually or if it's generated automatically.</p><p>As a good practice, always copy the backup files along with their attachments to a separate server. If something goes wrong with the server and the backups are kept on the same machine, they will also be lost. So, it's good to have them copied to a separate server. Preferably, write scripts to automate the process of copying backups to a backup server.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec66"/>Restoring the system utility</h1></div></div></div><p>Now, you have learned how to generate the backup manually using JIRA's <strong>Backup System</strong> tool and by relying on JIRA services. There are two scenarios when these backup files will be useful to you:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">One is when your server crashes</li><li class="listitem" style="list-style-type: disc">Secondly, when you want to migrate your JIRA instance to a new machine</li></ul></div><p>JIRA comes with the utility to <strong>Restore System</strong>; it basically wipes out the existing data/configuration and replaces it with one on the backup files; hence, you have to be very careful when using the <strong>Restore System</strong> utility. As a rule of thumb, always perform the restore process on a test environment; this will also give you a chance to learn about and fix any errors that you may encounter.</p><p>In this example, we will restore the <code class="literal">2014-12-09-backup.zip</code> backup file, which we generated in the previous section.</p><p>For this exercise, you should have a blank JIRA installation on a different machine with the same version as the one used to generate the backup. Perform the following steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Copy the backup file stored in the <code class="literal">JIRA HOME</code> directory under the <code class="literal">import</code> folder.</li><li class="listitem">Navigate to <strong>Administration</strong> | <strong>System</strong> | <strong>Restore System</strong> (under <strong>IMPORT &amp; EXPORT</strong>):</li><li class="listitem">Enter <strong>File name</strong> as <code class="literal">2014-12-09-backup.zip</code>, which is the backup file we generated previously.</li><li class="listitem">Leave the <strong>License</strong> field empty; the license details of the source instance are stored in the backup file, which can be restored in the target instance; if you want to use a new license, only then enter it in this field.</li><li class="listitem">In the <strong>Outgoing Mail</strong> field, select <strong>Disable</strong>. This will ensure that e-mails are not being sent to anyone when the restore process takes place.</li><li class="listitem">Click on the <strong>Restore</strong> button:<p>
</p><div><img src="img/image_10_005.jpg" alt="Restoring the system utility"/></div><p>
</p></li><li class="listitem">The restore process will start reading the backup file and will also display the restore progress. This whole restore process can take several minutes depending on the size of the backup file:<p>
</p><div><img src="img/image_10_006.jpg" alt="Restoring the system utility"/></div><p>
</p></li><li class="listitem">Once the restore process is complete, you will get a confirmation message:<p>
</p><div><img src="img/image_10_007.jpg" alt="Restoring the system utility"/></div><p>
</p></li></ol></div><p>After the restore process is complete, you can log in to the JIRA instance using the login and password credentials of the instance from which the backup was generated. Your login of the current JIRA instance will not work because the whole data has been wiped out and replaced by the backup file.</p><p>You can verify the following after the restoration:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Issue count</li><li class="listitem" style="list-style-type: disc">List of projects</li><li class="listitem" style="list-style-type: disc">List of configurations</li><li class="listitem" style="list-style-type: disc">User count</li></ul></div><p>If these things match with your old instance and the restored instance, then the restore process was successful.</p></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec67"/>Project Import utility</h1></div></div></div><p>The <strong>Restore System</strong> procedure is performed when the complete instance has to be restored or moved to another server, but there can be a scenario when you just need to restore a single project from another JIRA instance.</p><p>Let's take an example of a company that has multiple JIRA instances used by various other business units. These business units work independently of each other; they have different teams and work from different geographic locations. As you know, these days companies reorganize quite often. Due to this reorganization process, a few projects from one business unit need to be transferred to another business unit. All the project code and documents along with the projects need to be transferred as well.</p><p>In this case, we cannot simply take a backup of one instance and restore it in another because it will wipe out the data in the target instance. The restore process has to be done for a few selected projects only.</p><p>Atlassian understood this scenario and provided a tool called <strong>Project Import</strong> for performing just that:</p><div><ol class="orderedlist arabic"><li class="listitem">Navigate to <strong>
<strong>Administration</strong>
</strong> | <strong>System</strong> | <strong>Project Import</strong> (under <strong>IMPORT &amp; EXPORT</strong>).</li><li class="listitem">Enter the name of the backup <strong>File name</strong> from which you want to perform <strong>Project Import</strong>.</li><li class="listitem">Copy the attachments in the <code class="literal">JIRA HOME</code> under the <code class="literal">import\attachments</code> directory; the exact path specific to your machine will also be displayed.</li><li class="listitem">Click on the <strong>Next</strong> button to continue:<p>
</p><div><img src="img/image_10_008.jpg" alt="Project Import utility"/></div><p>
</p></li><li class="listitem">The <strong>Project Import</strong> utility will read the backup file and display the progress. Depending on the size of the backup file, it may take several minutes to complete:<p>
</p><div><img src="img/image_10_009.jpg" alt="Project Import utility"/></div><p>
</p></li><li class="listitem">On the next screen, the list of the entire project in the backup file will be presented to you.</li><li class="listitem">You can now select the project that you want to import from the <strong>Projects from Backup</strong> drop-down list.</li><li class="listitem">The details of the project that you select will also be displayed. The <strong>Project</strong> field displays the name. The <strong>Key</strong> field displays the project key, and <strong>Issues</strong> displays the issue count.</li><li class="listitem">Click on the <strong>Next</strong> button to continue:<p>
</p><div><img src="img/image_10_010.jpg" alt="Project Import utility"/></div><p>
</p></li><li class="listitem">The projects in the backup file may have some fields that are not present in the target instance. The <strong>Project Import</strong> tool will attempt to map them to the existing fields. Before attempting the import procedure, you need to make sure that all the custom fields are created in the target instance.</li><li class="listitem">If the mapping is complete, click on the <strong>Import</strong> button to continue:<p>
</p><div><img src="img/image_10_011.jpg" alt="Project Import utility"/></div><p>
</p></li><li class="listitem">Depending on the size of the project, it may take several minutes to complete; the progress will be shown on the screen:<p>
</p><div><img src="img/image_10_012.jpg" alt="Project Import utility"/></div><p>
</p></li><li class="listitem">After the import process is successful, the result of <strong>Project Import</strong> will be displayed on the screen.</li><li class="listitem">Verify the results and click on the <strong>OK</strong> button:<p>
</p><div><img src="img/image_10_013.jpg" alt="Project Import utility"/></div><p>
</p></li><li class="listitem">Repeat the process for all the other projects that need to be imported.</li></ol></div><p>The <strong>Project Import</strong> process is a complex procedure and has to be first performed on the test instance. Read the official documentation to understand more about this procedure at <a class="ulink" href="https://confluence.atlassian.com/adminjiraserver071/restoring-a-project-from-backup-802592982.html">https://confluence.atlassian.com/adminjiraserver071/restoring-a-project-from-backup-802592982.html</a>.</p><div><div><h3 class="title"><a id="note22"/>Note</h3><p>Backups should be generated using the same version of the target JIRA instance.</p><p>Project configurations such as issue type schemes, field configurations, workflows, notifications, and permission schemes should be created on the target instance.</p><p>Custom fields that are used in the project need to be created in the target instance.</p><p>If there are certain add-ons installed and used by the project, then install them on the target instance first; there are certain custom fields created by add-ons and until you install the plugin on the target instance, these custom fields will not be mapped.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec68"/>External system import using CSV</h1></div></div></div><p>There are various issue tracking tools that have been available for many years on the market. There are tools such as Bugzilla, which is used primarily for bug tracking. There is another popular tool called Mantis that provides a good set of features, which again is used for bug tracking. Companies who are already using some of these tools and now want to move to JIRA can migrate their data using various importers provided by JIRA out of the box.</p><p>Follow these steps to perform the CSV import:</p><div><ol class="orderedlist arabic"><li class="listitem">Navigate to <strong>Administration</strong> | <strong>System</strong> | <strong>External System Import</strong> (Under <strong>IMPORT &amp; EXPORT</strong>).</li><li class="listitem">You will get the list of various importers, as shown in the following screenshot:<p>
</p><div><img src="img/image_10_014.jpg" alt="External system import using CSV"/></div><p>
</p><div><div><h3 class="title"><a id="tip23"/>Tip</h3><p>If you are using any of the tools mentioned in the previous screenshot, then you can try to import the data from your existing tool. There are also other import tools available that have been developed by third-party vendors. These can be downloaded from the Atlassian Marketplace. You can give them a try.</p></div></div></li></ol></div><p>These importers usually work well when there are not many customizations in your existing tool, but this is not the case most of the time. The first importer called <strong>CSV</strong> is a general purpose tool that can be used to import data from a CSV file into JIRA. We recommend to first export your data from your existing tool into a CSV file and then use this tool to import the data into JIRA.</p><p>The data that needs to be imported into JIRA can be quite complex; issues could also be subtasks of other issues and there could be a need to upload the attachments too.</p><p>Let's take a look at a few scenarios that can be used to import CSV into JIRA.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec88"/>A simple CSV import</h2></div></div></div><p>Let's understand how to perform a simple import of the CSV data. The first thing to do is to prepare the CSV file that will be imported into JIRA. For this exercise, we will import issues into a particular project; these issues will contain data such as issue <strong>Summary</strong>, <strong>Status</strong>, <strong>Dates</strong>, and a few other fields.</p><div><div><div><div><h3 class="title"><a id="ch10lvl3sec34"/>Preparing the CSV file</h3></div></div></div><p>We are going to use MS Excel to prepare the CSV file with the following data:</p><p>
</p><div><img src="img/image_10_015.jpg" alt="Preparing the CSV file"/></div><p>
</p><p>If your existing tool has the option to export directly into the CSV file, then you can skip this step, but we recommend reviewing your data before importing it into JIRA. Usually, the CSV import will not work if the format of the CSV file and the data is not correct.</p><p>It's very easy to generate a CSV file from an Excel file. Perform these steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Go to <strong>File</strong> | <strong>Save As</strong> | <strong>File name:</strong> and select <strong>Save as type:</strong> as <strong>CSV (Comma delimited)</strong>. If you don't have Microsoft Excel installed, you can use LibreOffice Calc, which is an open source alternative for Microsoft Office Excel:<p>
</p><div><img src="img/image_10_016.jpg" alt="Preparing the CSV file"/></div><p>
</p></li><li class="listitem">You can open the CSV file to verify its format too:<p>
</p><div><img src="img/image_10_017.jpg" alt="Preparing the CSV file"/></div><p>
</p></li></ol></div><p>Our CSV file has the following fields:</p><div><table border="1"><colgroup><col/><col/></colgroup><tbody><tr><td>
<p>
<strong>CSV Field</strong>
</p>
</td><td>
<p>
<strong>Purpose</strong>
</p>
</td></tr><tr><td>
<p>
<strong>Project</strong>
</p>
</td><td>
<p>JIRA's project key needs to be specified in this field</p>
</td></tr><tr><td>
<p>
<strong>Summary</strong>
</p>
</td><td>
<p>This field is mandatory and needs to be specified in the CSV file</p>
</td></tr><tr><td>
<p>
<strong>Issue Type</strong>
</p>
</td><td>
<p>This is important for specifying the issue type</p>
</td></tr><tr><td>
<p>
<strong>Status</strong>
</p>
</td><td>
<p>This displays the status of the issue; these are workflow states that need to exist in JIRA, and the project workflow should have the states that are going to be imported into the CSV file</p>
</td></tr><tr><td>
<p>
<strong>Priority</strong>
</p>
</td><td>
<p>The priorities mentioned here should exist in JIRA before import</p>
</td></tr><tr><td>
<p>
<strong>Resolution</strong>
</p>
</td><td>
<p>The resolutions mentioned here should exist in JIRA before import</p>
</td></tr><tr><td>
<p>
<strong>Assignee</strong>
</p>
</td><td>
<p>This specifies the assignee of the issue</p>
</td></tr><tr><td>
<p>
<strong>Reporter</strong>
</p>
</td><td>
<p>This specifies the reporter of the issue</p>
</td></tr><tr><td>
<p>
<strong>Created</strong>
</p>
</td><td>
<p>This is the issue creation date</p>
</td></tr><tr><td>
<p>
<strong>Resolved</strong>
</p>
</td><td>
<p>This is the issue resolution date</p>
</td></tr></tbody></table></div></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec35"/>Performing the CSV import</h3></div></div></div><p>Once your CSV file is prepared, then you are ready to perform the import in JIRA:</p><div><ol class="orderedlist arabic"><li class="listitem">Navigate to <strong>Administration</strong> | <strong>System</strong> | <strong>External System Import</strong> | <strong>Import from Comma-separated values (CSV)</strong> (under <strong>IMPORT &amp; EXPORT</strong>).</li><li class="listitem">On the <strong>File import</strong> screen in the <strong>CSV Source File</strong> field, click on the <strong>Browse...</strong> button to select the CSV file that you just prepared on your machine.</li><li class="listitem">Once you select the CSV file, the <strong>Next</strong> button will be enabled:<p>
</p><div><img src="img/image_10_018.jpg" alt="Performing the CSV import"/></div><p>
</p></li><li class="listitem">On the <strong>Setup</strong> screen, select <strong>Import to Project</strong> as <strong>DOPT</strong>, which is the name of our project.</li><li class="listitem">Verify <strong>Date format</strong>, and it should match the format of the date values in the CSV file.</li><li class="listitem">Click on the <strong>Next</strong> button to continue.</li><li class="listitem">On the <strong>Map fields</strong> screen; we need to map the fields in the CSV file to JIRA fields. This step is crucial because in your old system, the field names may be different to JIRA fields, so in this step map these fields to the respective JIRA fields.</li><li class="listitem">Click on the <strong>Next</strong> button to continue.</li><li class="listitem">On the <strong>Map values</strong> screen, map the values of <strong>Status</strong>; in fact, this mapping of field values can be done for any field. In our case, the values in the status field are the same as in JIRA, so click on the <strong>Begin Import</strong> button.</li><li class="listitem">You will finally get a confirmation that issues have been imported successfully:<p>
</p><div><img src="img/image_10_019.jpg" alt="Performing the CSV import"/></div><p>
</p></li></ol></div><p>If you encounter any errors during the CSV import, then it's usually due to some problem with the CSV format. Read the error messages carefully and correct these issues. As mentioned earlier, the CSV import needs to be performed on the test environment first.</p><p>The import that we just performed is straightforward, but it's possible to import data with complexities too.</p></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec89"/>Creating subtasks using the CSV file</h2></div></div></div><p>There are cases when issues need to be imported as subtasks. In such cases, use the format shown in the following screenshot:</p><p>
</p><div><img src="img/image_10_020.jpg" alt="Creating subtasks using the CSV file"/></div><p>
</p><p>Note the two columns, that is, <strong>Issue ID</strong> and <strong>Parent ID</strong>; populate the <strong>Issue ID</strong> column with a random number for the parent task and enter this random number in the <strong>Parent ID</strong> column for all the subtasks.</p><p>
<strong>Issue ID</strong> and <strong>Parent ID</strong> need to be mapped to <strong>Sub-Tasks</strong> | <strong>Issue Id</strong> and <strong>Sub-Tasks</strong> | <strong>Parent Id</strong> during the CSV import respectively, as shown in the following screenshot:</p><p>
</p><div><img src="img/image_10_021.jpg" alt="Creating subtasks using the CSV file"/></div><p>
</p><p>Proceed with the CSV import as usual and subtasks will be created.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec90"/>Uploading attachments using the CSV file</h2></div></div></div><p>It's usually desirable to attach files to the issues that need to be imported into JIRA.</p><p>Perform these steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Create a <code class="literal">csvimport</code> folder in your <code class="literal">JIRA HOME/import/attachments</code> directory. So, the final path should look like this:<pre class="programlisting">        &lt;JIRA_Home&gt;/import/attachments/csvimport/ 
</pre></li><li class="listitem">The CSV JIRA import can read the particular directory using the <code class="literal">FILE</code> protocol. It's used to access the files stored on the same machine; the full path of the files needs to be specified.</li><li class="listitem">Add a column called <code class="literal">Attachments</code> in your CSV file and enter the location in the following format:<pre class="programlisting">        file://csvimport/file1.pdf 
</pre></li><li class="listitem">The file should finally look similar to the following screenshot:<p>
</p><div><img src="img/image_10_022.jpg" alt="Uploading attachments using the CSV file"/></div><p>
</p></li></ol></div><p>Don't forget to map this new <code class="literal">Attachments</code> column to the <strong>Attachments</strong> JIRA field; the rest of the process remains the same.</p><p>Your issues may have multiple attachments instead of just one. In such cases, add an additional column for each attachment. Similarly, other fields with multiple values can be imported by simply adding multiple columns.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec91"/>Updating existing issues</h2></div></div></div><p>There is another very good use of the CSV import tool. So far, we have seen how to import data into JIRA, but there are times when existing issues need to be modified. For instance, if you want to add a new fixed version to the issues of a particular project or if you want to resolve certain issues in bulk; in such cases, it's possible to use the CSV import tool.</p><p>In the CSV file, just add another column of <code class="literal">Issue Key</code> and add the columns as JIRA fields that need to be updated. If the CSV tool finds the issue key, then it will take the rest of the columns and update them in the existing issues.</p><p>However, there is also a <strong>Bulk Change</strong> tool in <strong>Issue Navigator</strong>, which does the same thing. It's up to your comfort level and use case to choose the method convenient to you. We recommend using the <strong>Bulk Change</strong> tool as it's much easier compared to the CSV import tool.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec69"/>Migrate JIRA configurations using the Configuration Manager add-on</h1></div></div></div><p>We have discussed how to fully restore a JIRA instance from a backup file, restore a specific project, and how to use the CSV import functionality with important data in JIRA. These utilities are so important that they really make the lives of JIRA administrators easier. They can perform these activities right from the JIRA user interface. The <strong>Project Import</strong> utility and CSV import are used for migrating one or more projects from one instance of JIRA to another, but the target instance should have the required configuration in place, otherwise these utilities will not work. For instance, if there is a project in a source instance with custom workflow states along with a few custom fields, then the exact configuration of workflow and custom fields should already exist in the target instance. Re-creating these configurations and schemes could be a time-consuming and error prone process.</p><p>In various organizations, there is also a test environment or staging server for JIRA, where all the new configurations are first tested before being rolled out to the production instance. Currently, there is no such way to selectively migrate the configurations from one instance to another. It has to be done manually on the target instance.</p><p>Configuration Manager is an add-on that does this job. Using this add-on, the project specific configuration can be migrated from one instance to another.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec92"/>Generate a snapshot</h2></div></div></div><p>The following steps will guide you through the steps required to generate a project-specific snapshot that can be migrated and deployed on the target JIRA instance:</p><div><ol class="orderedlist arabic"><li class="listitem">Go to <strong>Administration</strong> | <strong>Add-ons</strong> | <strong>Find new add-ons</strong> under <strong>ATLASSIAN MARKETPLACE</strong>, type <code class="literal">Configuration Manager</code> in the search box and press the <em>Enter</em> key:<p>
</p><div><img src="img/image_10_023.jpg" alt="Generate a snapshot"/></div><p>
</p></li><li class="listitem">The <strong>Configuration Manager for JIRA</strong> will appear. Click on the <strong>Free trial</strong> button to install this add-on on your instance. In the pop-up window that appears next, click on the <strong>Accept</strong> button.</li><li class="listitem">Finally, you will be asked to enter your Atlassian account to generate a trial license.</li><li class="listitem">Once installed, go to <strong>Administration</strong> | <strong>Configuration Manager</strong> | <strong>Snapshots</strong>. On this screen, you can generate a snapshot of a project's configuration. Click on the <strong>Create Snapshot</strong> button:<p>
</p><div><img src="img/image_10_024.jpg" alt="Generate a snapshot"/></div><p>
</p></li><li class="listitem">In the <strong>Select Snapshot Type</strong> screen, make sure that the second tab <strong>Project Configuration</strong> is selected on the top right corner of the screen. Enter the <strong>Name</strong>, select one or more <strong>Project(s)</strong> from the drop down, tick the checkbox <strong>Include custom fields with value in at least one issue</strong> and enter a meaningful description. Press the <strong>Next</strong> button to continue:<p>
</p><div><img src="img/image_10_025.jpg" alt="Generate a snapshot"/></div><p>
</p></li><li class="listitem">In the <strong>Select Filters</strong> screen, select the filters that are used in this project. If your project also has Agile boards, you need to select the filters used in your project as the Agile boards depend on filters. Press the <strong>Next</strong> button to continue:<p>
</p><div><img src="img/image_10_026.jpg" alt="Generate a snapshot"/></div><p>
</p></li><li class="listitem">In the <strong>Select Agile Boards</strong> screen, select the Scrum or Kanban boards that you want migrated. Make sure that, as in the previous step, you have selected the filters that are used in the boards you want to migrate. Press the <strong>Next</strong> button to continue:<p>
</p><div><img src="img/image_10_027.jpg" alt="Generate a snapshot"/></div><p>
</p></li><li class="listitem">In the <strong>Preview Snapshot</strong> screen, review the items that are migrating and click on the <strong>Create</strong> button to generate the snapshot:<p>
</p><div><img src="img/image_10_028.jpg" alt="Generate a snapshot"/></div><p>
</p></li><li class="listitem">Finally, the snapshot will be generated. You can download the snapshot file by clicking on the cog icon under the <strong>Actions</strong> column for the respective snapshot and clicking on <strong>Download</strong>:<p>
</p><div><img src="img/image_10_029.jpg" alt="Generate a snapshot"/></div><p>
</p></li><li class="listitem">Save the snapshot file on your computer. Its name will be <code class="literal">Demo Project Snapshot.zip</code>.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec93"/>Deploying a snapshot</h2></div></div></div><p>The following steps will guide you through deploying the snapshot that you have generated on your source JIRA instance:</p><div><ol class="orderedlist arabic"><li class="listitem">Go to <strong>Administration</strong> | <strong>Configuration Manager</strong> | <strong>Deploy</strong>. On this screen you can generate a snapshot of a project's configuration. Click on the <strong>From Snapshot File</strong> tab on the top right corner. Then, click on the <strong>Browse</strong> button and select the <code class="literal">Demo Project Snapshot.zip</code> from your computer that you saved after generating the snapshot:<p>
</p><div><img src="img/image_10_030.jpg" alt="Deploying a snapshot"/></div><p>
</p></li><li class="listitem">Once the snapshot file is uploaded to your target JIRA server, it will be listed. Click on the <strong>Deploy</strong> link under the <strong>Actions</strong> column specific to your snapshot file.</li><li class="listitem">In the <strong>Select Deployment Mode</strong> screen, select the <strong>New Project</strong> tab in the top right corner. Enter a project <strong>Name</strong> and <strong>Key</strong>. These will also be suggested based on your old project details from the snapshot file. Press the <strong>Next</strong> button to continue:<p>
</p><div><img src="img/image_10_031.jpg" alt="Deploying a snapshot"/></div><p>
</p></li><li class="listitem">In the <strong>Analyze Configuration Changes</strong> screen, review the configurations that will be added, modified, or removed from the target instance. Please spend considerable time on this screen to understand the impact of existing configurations on the target JIRA instance. Press the <strong>Next</strong> button to continue:<p>
</p><div><img src="img/image_10_032.jpg" alt="Deploying a snapshot"/></div><p>
</p></li><li class="listitem">In the <strong>Migrate Configuration Changes</strong> screen, the Configuration Manager tells us that no issues data migration is required, so press the <strong>Next</strong> button to continue:<p>
</p><div><img src="img/image_10_033.jpg" alt="Deploying a snapshot"/></div><p>
</p></li><li class="listitem">In the <strong>Deploy</strong> screen, just press the <strong>Deploy</strong> button to start the deployment:<p>
</p><div><img src="img/image_10_034.jpg" alt="Deploying a snapshot"/></div><p>
</p></li><li class="listitem">Finally, you will get a confirmation message in the <strong>Snapshot deployed</strong> screen:<p>
</p><div><img src="img/image_10_035.jpg" alt="Deploying a snapshot"/></div><p>
</p></li></ol></div><p>The Configuration Manager add-on is quite powerful. It can migrate all the project-specific configurations like issue types, workflows, custom fields, roles, permission, and notification schemes. The simple example that we just showed you in this section should give you enough understanding of the usage of this useful add-on.</p><p>After moving the configurations and creating a blank project by the Configuration Manager add-on, you can now perform data migration using the <strong>Project Import</strong> utility that we discussed earlier in this chapter. This add-on can save hundreds of man hours by avoiding the manual recreation of your configurations.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec70"/>Summary</h1></div></div></div><p>In this chapter, you learned how to import and export data into JIRA. We started with understanding how to take a backup of the entire JIRA instance. You also learned how to restore the instance from this backup. We also looked at scenarios where you want to import selected projects from the backup file. We spent considerable time understanding how to migrate data to JIRA using the CSV file, which provides a lot of flexibility in importing not only simple data, but also complex data with subtasks and attachments as well. Finally, we also understood how to use the Configuration Manager add-on in order to easily migrate configurations from one instance of JIRA to another.</p><p>In the next chapter, we will understand how to implement Scrum and Kanban methodologies in JIRA using a powerful add-on from Atlassian called <strong>JIRA Agile</strong> for Agile tracking. This chapter will cover two scenarios of both techniques. We will discuss how to set up and configure the board, and most importantly how to analyze reports. You will also learn these two Agile techniques and basic concepts with practical examples.</p></div></body></html>