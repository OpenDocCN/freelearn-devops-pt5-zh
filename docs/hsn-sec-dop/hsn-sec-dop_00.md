# 前言

DevOps 提供了通过持续开发和部署方法带来的速度和质量优势，但它并不能保证整个组织的安全。《DevOps 中的安全实践》将向您展示如何采用 DevOps 技术，持续提高组织各层级的安全性，而不仅仅是集中保护基础设施。

本指南结合了 DevOps 和安全，帮助您保护云服务，并教您如何将安全技术直接融入产品中。您将学习如何在每个层级实施安全，例如 Web 应用、云基础设施、通信和交付管道层级。通过实践示例，您将探索核心安全方面，如阻止攻击、欺诈检测、云取证和事件响应。在最后几章，您将学习扩展 DevOps 安全的相关主题，如风险评估、威胁建模和持续安全。

本书结束时，您将能够熟练地在组织的各个层面实施安全，并有信心在整个云服务中监控和阻止攻击。

# 本书的读者对象

本书面向希望确保整个组织安全的系统管理员、安全顾问和 DevOps 工程师。需要具备基础的云计算、自动化框架和编程知识。

# 本书内容涵盖

第一章，*DevSecOps 驱动因素与挑战*，我们将探讨推动安全需求的外部因素，如安全合规、法规和市场需求。

第二章，*安全目标与度量*，我们将基于 OWASP SAMM 框架从不同角度探讨安全实践。我们还将涵盖不同角色的安全活动，例如安全管理、开发、质量保证和运营团队。

第三章，*安全保障计划与组织*，将讲解不同的组织结构如何与安全保障计划的执行相关联。组织结构中安全团队的角色、责任和关系也会影响安全保障计划的成功执行。我们将通过案例研究来讨论这些因素。

第四章，*安全需求与合规性*，将涵盖四个方面的安全需求：每个发布质量关卡的安全要求、一般 Web 应用的安全要求、大数据的安全要求以及符合通用数据保护条例（GDPR）的安全要求。

第五章，*案例研究 - 安全保障计划*，我们将介绍两个案例研究，探讨 DevOps 过程中的安全保障计划和安全实践。微软 SDL 和 SAMM 被引入应用于安全保障计划。除了流程，非技术部分（如安全培训和文化）对于安全计划的成功至关重要。我们还将举例说明安全工具和 Web 安全框架如何在整个 DevOps 过程中提供帮助。

第六章，*安全架构与设计原则*，将介绍安全架构与设计原则。对于安全架构师和开发人员来说，基于成熟的安全框架构建软件不仅可以大大降低安全风险（通过行业最佳实践），还可以减少实施工作。因此，本章介绍了云服务架构的关键安全元素以及一些成熟的安全框架，这些框架可以根据不同场景应用。

第七章，*威胁建模实践与安全设计*，我们将讨论整个团队参与威胁建模实践的重要性，并介绍 STRIDE 模型（欺骗、篡改、否认、信息泄露、服务拒绝和特权提升）。

第八章，*安全编码最佳实践*，我们将介绍行业安全编码最佳实践，如 CERT、CWE、Android 安全编码、OWASP 代码审查和苹果安全编码指南。基于这些安全编码规则，我们将建立安全编码基线，作为安全政策和发布标准的一部分。

第九章，*案例研究 - 设计中的安全性和隐私性*，我们将通过一个案例研究来讨论如何实现设计中的安全性和隐私性。该案例研究将展示 DevOps 团队在应用安全实践时可能面临的常见挑战，以及安全团队如何提供最佳实践、工具、安全框架和培训套件。

第十章，*安全测试计划与实践*，将概述安全测试计划、安全测试领域和最小安全测试范围。我们将讨论安全测试计划、测试方法、风险分析、安全领域和行业实践，以构建您的安全测试知识库。此外，我们还将介绍一些行业最佳实践、测试方法和安全工具，用于安全测试。

第十一章，*白盒测试技巧*，将重点介绍白盒测试的技巧。白盒代码审查可以最有效地识别某些特定的安全问题，如 XXE、反序列化和 SQL 注入。然而，如果没有合适的工具或策略，白盒审查可能会非常耗时。为了进行有效的白盒测试，我们需要关注特定的编码模式和高风险模块。本章将提供技巧、工具以及识别高风险安全问题的关键编码模式。

第十二章，*安全测试工具包*，我们将介绍常见的（但不是全面的）安全测试工具集。涉及安全测试的网络主要元素包括 Web 和移动连接、配置、通信、第三方组件以及敏感信息。我们将探讨每个元素的测试技巧和工具。此外，我们还将学习如何将这些工具既能自动执行，又能作为内置于持续集成中的工具来使用。

第十三章，*CI 管道中的安全自动化*，将重点讨论开发阶段的安全实践，以及如何将诸如 Jenkins 之类的工具集成到持续集成中。在开发阶段，我们探讨了使用 IDE 插件进行代码扫描的技术，并建议了一些静态代码分析工具。对于构建和包交付，还将介绍安全的编译器配置和依赖项漏洞检查。最后，本章还将讨论 Web 安全自动化测试方法和技巧。

第十四章，*事件响应*，将介绍安全运营团队的事件响应。我们将主要讨论事件响应过程中的关键阶段：准备、遏制、检测和事件后分析的关键活动。事件响应领域包括如何处理公共 CVE 漏洞，如何应对白帽子或安全攻击，如何评估每个安全问题，反馈环路到开发团队，以及我们在事件响应中可能应用的工具或实践。

第十五章，*安全监控*，将介绍一些安全监控技术。本章的目标是为我们的安全监控机制做好准备，以保护并防止我们的云服务受到攻击。为了做好准备，我们的安全监控程序应包括日志记录、框架监控、威胁情报和恶意程序的安全扫描。

第十六章，*新版本的安全评估*，本章将介绍新版本的安全评估。云服务可能会有频繁的发布和更新。对于开发、运维和安全团队来说，在短时间内发布工作并在发布前完成最低限度的安全测试是一个挑战。在本章中，我们将查看安全评审政策、每个发布的建议清单和测试工具。对于集成测试，本章还将介绍 BDD 安全框架和其他集成安全测试框架。

第十七章，*威胁检测与情报*，将介绍威胁检测与情报。本章重点讨论如何使用各种日志关联识别和防止已知和未知的安全威胁，例如后门和注入攻击。我们将介绍所需的日志、如何将这些日志关联起来以及攻击的潜在症状。还将介绍一些开源的威胁检测工具。最后，我们将介绍如何构建自己的内部威胁情报系统。

第十八章，*商业欺诈与服务滥用*，将介绍商业欺诈和服务滥用。云服务引入了新类型的安全风险，例如交易欺诈、账户滥用和优惠码滥用。这些在线欺诈和滥用可能导致财务损失或收益，具体取决于你站在哪一方。这一章还将提供如何检测这些行为的指南和规则。我们将讨论构建服务滥用防护或在线欺诈检测系统所需的典型技术框架和技术方法。

第十九章，*GDPR 合规案例研究*，将以 GDPR 合规为案例研究，应用到软件开发中。它讨论了应该在即将发布的版本中包含的 GDPR 软件安全要求。我们还将探索一些实际案例研究，如个人数据发现、数据匿名化、cookie 同意、数据掩码实施和网站隐私状态。

第二十章，*DevSecOps - 挑战、技巧与常见问题解答*，将从功能角色的角度，介绍一些实践技巧、挑战和常见问题解答。

# 为了最大限度地利用本书

参考 OWASP 安全项目、NIST、CSA、GDPR 以获取最新的安全最佳实践。尝试安装并应用书中提到的开源工具。

每次将一个安全工具或实践应用到 DevOps 过程当中。

# 下载彩色图片

我们还提供了一份 PDF 文件，其中包含了本书中使用的截图/图表的彩色图像。你可以在这里下载：[`www.packtpub.com/sites/default/files/downloads/HandsOnSecurityinDevOps_ColorImages`](https://www.packtpub.com/sites/default/files/downloads/HandsOnSecurityinDevOps_ColorImages)。

# 使用的约定

本书中使用了多种文本约定。

`CodeInText`：表示文本中的代码字、数据库表名、文件夹名称、文件名、文件扩展名、路径名、虚拟 URL、用户输入以及 Twitter 账号。例如：“能够在安全关系中建立应用程序资源（`TimeSheet.xls`）是 OACC 中的一种独特授权模型。”

**粗体**：表示新术语、重要词汇或屏幕上显示的词语。

警告或重要说明如下所示。

提示和技巧如下所示。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：通过电子邮件`feedback@packtpub.com`与我们联系，并在邮件主题中注明书名。如果你对本书的任何方面有问题，请通过`questions@packtpub.com`与我们联系。

**勘误**：尽管我们已尽一切努力确保内容的准确性，但错误仍然会发生。如果你在本书中发现错误，我们将非常感激你向我们报告。请访问[www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择你的书籍，点击“勘误提交表单”链接，并输入详细信息。

**盗版**：如果你在互联网上发现我们作品的任何非法复制品，我们将非常感激你提供相关地址或网站名称。请通过`copyright@packtpub.com`与我们联系，并附上相关链接。

**如果你有兴趣成为作者**：如果你在某个领域具有专业知识，并且有兴趣撰写或为书籍做贡献，请访问[authors.packtpub.com](http://authors.packtpub.com/)。

# 读者反馈

请留下评论。在阅读并使用本书后，为什么不在购买该书的网站上留下评论呢？潜在读者可以看到并根据你的公正意见做出购买决定，Packt 也能了解你对我们产品的看法，而我们的作者可以看到你对其书籍的反馈。谢谢！

欲了解更多有关 Packt 的信息，请访问[packtpub.com](https://www.packtpub.com/)。
