# 前言

2016 年初，我发布了*The DevOps 2.0 Toolkit*（[`www.amazon.com/dp/B01BJ4V66M`](https://www.amazon.com/dp/B01BJ4V66M)）。完成它花费了我很长时间，比我预想的要长得多。

我从在*TechnologyConversations.com*（[`technologyconversations.com/`](https://technologyconversations.com/)）上写博客文章开始。这些文章很受欢迎，我收到了很多反馈。通过这些反馈，我阐明了书籍背后的理念。目标是为那些想要实施 DevOps 实践和工具的人提供一本指南。同时，我并不想写一本适用于所有情况的材料。我只想专注于那些真正想要实施最新最佳实践的人。我希望让它超越“传统”的 DevOps。我希望展示 DevOps 运动在多年中成熟与演化，我们需要一个新的名称。是时候重置某些组织中 DevOps 的实施方式了。因此才有了书名*The DevOps 2.0 Toolkit*（[`www.amazon.com/dp/B01BJ4V66M`](https://www.amazon.com/dp/B01BJ4V66M)）。

正如任何作者会告诉你的那样，基于实际操作的技术书籍不会有很长的生命周期。技术变化得如此之快，我们可以预见今天有效的工具和实践在几年后会变得过时。我预计*The DevOps 2.0 Toolkit*会成为两到三年的参考书（不会超过这个时间）。毕竟，一年内变化能有多大呢？嗯，Docker 让我错了。自从我公开出版这本书以来，短短六个月内就发生了巨大的变化。新的 Swarm 发布了，它现在是*Docker Engine v1.12+*的一部分。服务发现已被集成其中。网络功能得到了极大改善，支持负载均衡和路由网格。这些变化只是其中的一部分。我认为 1.12 版本的发布，是自第一版公开发布以来最具意义的一次。

我记得在*DockerCon 2016*期间，我与 Docker 工程师们一起度过的日子。那时，我没有参加公开的会议，而是与他们一起花了四天时间，深入了解将要在 1.12 版本中发布的功能以及未来的路线图。我觉得自己完全理解了这些功能背后的技术概念。然而，一周后，当我回到家并开始“玩”新版本的*Docker Swarm 模式*时，我才意识到我的大脑仍然依赖于旧有的工作方式。许多东西发生了变化，出现了许多新的可能性。过了几周，我的大脑才开始重置。直到那时，我才感觉自己真正理解了他们在一次发布中所引入的变化范围。那是一次巨大的变革。

与我对 Swarm Mode 的发现同时，我继续收到来自*DevOps 2.0 工具包*（[`www.amazon.com/dp/B01BJ4V66M`](https://www.amazon.com/dp/B01BJ4V66M)）读者的电子邮件。他们想要更多。他们希望我涵盖新的主题，并深入探讨已经探索的内容。特别是一个请求被反复提及。“我希望你深入探讨集群。”读者们想要更详细地了解如何操作集群，以及如何与持续部署结合。他们要求我探索零停机部署的替代方法，如何更有效地监控系统，如何接近自愈系统，等等。他们希望我尽快涵盖的主题范围非常广泛。

因此，我决定开始一本新书，并结合我对 Docker 1.12 的惊叹，以及一些读者的要求。*DevOps 2.1 工具包*应运而生，更重要的是，*DevOps 工具包系列*也随之诞生。

# 概述

本书探讨了运行 Swarm 集群所需的实践和工具。我们不仅仅局限于简单的部署。我们将探讨如何创建**持续部署**流程。我们将设置多个集群。其中一个专门用于测试，另一个用于生产。我们将看到如何实现零停机部署，在故障转移时应该怎么做，如何扩展运行服务，如何监控系统以及如何使其自愈。我们将探索允许我们在笔记本电脑上（用于演示目的）以及不同提供商上运行集群的过程。我将尽可能涵盖尽可能多的不同托管解决方案。然而，时间和空间有限，你所使用的（无论是公共的还是内部的）可能不在其中。不用担心！这些过程、工具和实践几乎可以应用到任何情况中。像往常一样，本书非常注重实践，但目标不是掌握特定工具集，而是学习其背后的逻辑，以便无论你的选择最终如何，都能将其应用到工作中去。

本书并不会使*The DevOps 2.0 Toolkit*（[`www.amazon.com/dp/B01BJ4V66M`](https://www.amazon.com/dp/B01BJ4V66M)）过时。我认为它背后的逻辑还会有效一段时间。*The DevOps 2.1 Toolkit*是基于它构建的。它深入探讨了一些之前已经讨论过的主题，并解释了其他一些无法包含在*2.0*中的内容。虽然我尽力以不需要 prior knowledge 的方式编写本书，但我强烈建议你先阅读*The DevOps 2.0 Toolkit*（[`www.amazon.com/dp/B01BJ4V66M`](https://www.amazon.com/dp/B01BJ4V66M)）。系列中的第一本书为本书以及之后的书籍打下了基础。请把这本书视为*The DevOps Toolkit 系列*的第二集。对于*The DevOps 2.0 Toolkit*的读者来说，前几章可能乍看之下有些重复。不过，它们是非常重要的，因为它们揭示了我们在集群内工作时会遇到的一些问题，并为接下来的章节做好了铺垫。尽管你可能会想跳过这些内容，但我建议你还是读完它们。就像任何好的故事一样，开头为故事定下基调，中间推动情节发展，而结局则揭示了出人意料的结果。部分理论内容与*The DevOps 2.0 Toolkit*中所述相同。在这种情况下，我会明确标明，并让你选择是跳过它还是通过阅读来刷新记忆。

尽管本书包含了大量的理论内容，但它是一本实践书籍。你无法通过在地铁上读它来完成书中的内容。你需要在电脑前，动手操作时阅读这本书。最终，你可能会遇到卡住的情况并需要帮助，或者你可能想要对书中的内容写评论或反馈。请在*The DevOps 2.1 Toolkit Disqus 频道*（[`disqus.com/home/channel/thedevops21toolkit/`](https://disqus.com/home/channel/thedevops21toolkit/)）分享你的想法。如果你更喜欢直接交流，欢迎加入*DevOps2.0*（[`slack.devops20toolkit.com/`](http://slack.devops20toolkit.com/)）Slack 频道。我所写的每一本书都对我非常珍贵，我希望你在阅读时能有良好的体验。这部分体验就是你可以联系我。不要害羞。

请注意，和之前的书籍一样，这本书是自出版的。我相信没有中介的情况下，作者与读者之间的直接沟通是最好的方式。这让我可以写得更快，更频繁地更新书籍，并与您进行更直接的交流。您的反馈是这个过程的一部分。无论您是在只有少数章节或全部章节完成时购买的这本书，理念是它永远不会真正完成。随着时间的推移，它需要更新，以便与技术或流程的变化保持一致。当可能时，我会尽力保持更新，并在合适的时候发布更新。最终，情况可能会发生很大变化，以至于更新不再是一个好的选择，那时就意味着需要一本全新的书。*只要我继续得到您的支持，我将继续写作*。

# 读者

本书面向那些对完整的微服务生命周期以及持续部署和容器感兴趣的专业人士。由于范围非常广泛，目标读者可能是*架构师*，他们想了解如何围绕微服务设计他们的系统。也可能是*DevOps*，他们想了解如何应用现代配置管理实践并持续部署打包在容器中的应用程序。本书还面向*开发人员*，他们希望将过程掌握在自己手中，以及*管理人员*，他们希望更好地理解从开始到结束交付软件的过程。我们将讨论系统的扩展和监控，甚至将设计（和实现）自愈系统，能够从故障（无论是硬件还是软件）中恢复。我们将持续不断地将应用程序直接部署到生产环境中，且无需停机，并且能够随时回滚。

本书适合*所有想了解软件开发生命周期的人*，从需求和设计到开发和测试，直到部署和后部署阶段。我们将创建过程，并考虑由一些大公司开发的最佳实践。
